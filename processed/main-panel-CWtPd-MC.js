const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      "./index-UCrRExsK.js",
      "./SpinnerAugment-DI4IM-MA.js",
      "./SpinnerAugment-DnPofOlT.css",
      "./index-McRKs1sU.css",
      "./RemoteAgentSetup-CY6b7qMw.js",
      "./ButtonAugment-CajD5BpY.js",
      "./BaseButton-C5Me6mfC.js",
      "./BaseButton-DvMdfQ3F.css",
      "./ButtonAugment-mhLjBVAk.css",
      "./magnifying-glass-I0OQge20.js",
      "./magnifying-glass-C69UsBAv.css",
      "./exclamation-triangle-CpQWWqv2.js",
      "./common-webview-store-Dlge6HCD.js",
      "./index-CC6xBPZJ.js",
      "./Content-CnpNe5p_.js",
      "./globals-D0QH3NT1.js",
      "./Content-b_LtFw1A.css",
      "./FileChangesSummary-DTFssowT.js",
      "./folder-opened-BgnZFUUK.js",
      "./file-paths-BcSg4gks.js",
      "./folder-opened-tclW2Ian.css",
      "./pen-to-square-LfrvAaFW.js",
      "./types-Cj5rEI5Y.js",
      "./diff-utils-BOp2yI1n.js",
      "./toggleHighContrast-jdnxapE8.js",
      "./preload-helper-Dv6uf1Os.js",
      "./toggleHighContrast-D4zjdeIP.css",
      "./IconButtonAugment-CSa0eDCh.js",
      "./IconButtonAugment-BTu-iglL.css",
      "./diff-utils-BuU6GhmE.css",
      "./FileChangesSummary-M8chI1H4.css",
      "./index-1Q9nrTJk.js",
      "./CardAugment-CAeuNgAF.js",
      "./CardAugment-BAo8Ti0V.css",
      "./index-eY12-hdZ.css",
      "./TextTooltipAugment-D7Lua3if.js",
      "./TextTooltipAugment-DqxYn6Er.css",
      "./terminal-BGgU8uQ5.js",
      "./design-system-init-HGihsnO2.js",
      "./design-system-init-CRmW_T8r.css",
      "./layer-group-Cbcyua8Y.js",
      "./layer-group-D5JCKRwC.css",
      "./ellipsis-K6lZ1ba5.js",
      "./Keybindings-Df4MuLOi.js",
      "./augment-logo-BdY_iqGw.js",
      "./Keybindings-RgQz9-Na.css",
      "./isObjectLike-Bgjf2ORz.js",
      "./await_block-BLDv7Chp.js",
      "./keypress-DD1aQVr0.js",
      "./MaterialIcon-eBLus9nM.js",
      "./MaterialIcon-BO_oU5T3.css",
      "./autofix-state-d-ymFdyn.js",
      "./RemoteAgentSetup-BcPkg4i4.css",
      "./MessageList-DsbR99UH.js",
      "./MessageListBottomButton-D2b0eSL7.js",
      "./AugmentMessage-FUw1k6LP.js",
      "./expand-DtHACtRr.js",
      "./mcp-logo-BEqkrPAH.js",
      "./IconFilePath-CSDRu0cP.js",
      "./LanguageIcon-B3sLS5QQ.js",
      "./LanguageIcon-D78BqCXT.css",
      "./next-edit-types-904A5ehg.js",
      "./IconFilePath-CiKel2Kp.css",
      "./play-CA1bSqw0.js",
      "./AugmentMessage-nPBmQziJ.css",
      "./MessageListBottomButton-x-QjBLKv.css",
      "./MessageList-B650OeVx.css",
      "./VirtualizedMessageList-DzO0G6cN.js",
      "./VirtualizedMessageList-DhWSVHYH.css",
    ]),
) => i.map((i) => d[i])
var Rd = Object.defineProperty
var Pd = (s, e, n) =>
  e in s
    ? Rd(s, e, { enumerable: !0, configurable: !0, writable: !0, value: n })
    : (s[e] = n)
var Z = (s, e, n) => Pd(s, typeof e != "symbol" ? e + "" : e, n)
import {
  S as ne,
  i as oe,
  s as te,
  V as Ze,
  A as F,
  c as A,
  a0 as Fr,
  I as je,
  e as M,
  f as B,
  W as Je,
  X as Qe,
  Y as et,
  u as d,
  t as m,
  h as x,
  b as Ue,
  n as N,
  B as w,
  C as y,
  D as b,
  a8 as Xe,
  a9 as Ge,
  R as he,
  q as Y,
  r as X,
  a as Le,
  H as Ut,
  w as Wt,
  x as qt,
  y as Gt,
  d as ct,
  z as Vt,
  g as Mt,
  j as it,
  O as bt,
  ar as Qt,
  as as tn,
  ad as Ct,
  $ as j,
  a6 as K,
  a7 as ze,
  K as Oe,
  M as Yt,
  a4 as uo,
  a5 as xo,
  a1 as Ve,
  aG as Nd,
  F as Gn,
  ae as Jt,
  a2 as ln,
  aH as Fd,
  aI as Dd,
  ab as mt,
  au as Ho,
  aa as fn,
  ak as Od,
  af as ft,
  a3 as kt,
  at as Uo,
  aE as Lr,
  N as Wn,
  ai as Qn,
  aD as ji,
  ah as ko,
  aA as Cn,
  G as zd,
  T as Bd,
  Z as Jn,
  k as jd,
  l as Hd,
  U as Ud,
  L as Wd,
  ag as jo,
  az as xs,
  J as Hi,
  _ as nu,
  aq as ou,
  E as Ui,
  al as bn,
} from "./SpinnerAugment-DI4IM-MA.js"
import "./design-system-init-HGihsnO2.js"
import {
  W as st,
  e as ht,
  u as Ts,
  o as ru,
  d as qd,
  h as dn,
  i as su,
  O as cn,
  M as kr,
} from "./BaseButton-C5Me6mfC.js"
import { T as wt, M as qr } from "./TextTooltipAugment-D7Lua3if.js"
import {
  i as lo,
  b as Wi,
  m as Gd,
  n as Xn,
  R as qi,
  f as Dr,
  j as Kt,
  o as hs,
  I as Er,
  a as Gi,
  C as Vd,
  P as Ir,
  k as iu,
  l as au,
} from "./folder-opened-BgnZFUUK.js"
import {
  q as Pn,
  E as Ft,
  d as Yd,
  r as Xd,
  R as _o,
  M as Vo,
  D as Gr,
  t as cu,
  u as Co,
  v as Wo,
  w as In,
  x as Bt,
  y as Kd,
  A as Rr,
  z as xn,
  B as Vi,
  j as lu,
  F as Zd,
  G as Jd,
  H as Qd,
  I as Or,
  J as _s,
  K as e1,
  i as t1,
  p as uu,
  O as du,
  L as n1,
  N as Zo,
  P as o1,
  T as Nt,
  Q as r1,
  U as s1,
  V as fu,
  W as Ls,
  X as Rs,
  Y as Ps,
  Z as Ns,
  _ as Vr,
  $ as Fs,
  a0 as Ds,
  a1 as mu,
  a2 as i1,
  a3 as pu,
  a4 as $u,
  a5 as a1,
  a6 as c1,
  a7 as Yo,
  a8 as hu,
  a9 as l1,
  aa as u1,
  ab as d1,
  ac as f1,
  ad as m1,
  ae as gu,
  af as vu,
  ag as p1,
  ah as $1,
  m as h1,
  C as g1,
  ai as Yi,
  aj as v1,
  s as w1,
  ak as qo,
} from "./FileChangesSummary-DTFssowT.js"
import { I as Et } from "./IconButtonAugment-CSa0eDCh.js"
import { a as Lt, H as y1, o as b1, t as x1 } from "./Content-CnpNe5p_.js"
import { P as wu, B as po, L as _1 } from "./layer-group-Cbcyua8Y.js"
import {
  S as yu,
  T as Yr,
  v as C1,
  a as M1,
} from "./common-webview-store-Dlge6HCD.js"
import { R as _n } from "./types-Cj5rEI5Y.js"
import { s as Xi, f as Mo } from "./index-CC6xBPZJ.js"
import {
  D as Fe,
  a as bu,
  C as A1,
  T as Xr,
  S as k1,
} from "./index-1Q9nrTJk.js"
import { E as Eo } from "./ellipsis-K6lZ1ba5.js"
import {
  q as E1,
  T as xu,
  V as Os,
  W as I1,
  X as S1,
  Y as T1,
  Z as L1,
  _ as R1,
  $ as P1,
  x as Ki,
  R as N1,
  B as F1,
  P as D1,
  z as O1,
  F as _u,
  G as z1,
  H as B1,
  I as j1,
  L as H1,
  a0 as U1,
  M as fo,
  J as Cu,
  N as W1,
  O as q1,
  K as G1,
  d as Mu,
  e as Au,
} from "./Keybindings-Df4MuLOi.js"
import { T as ku } from "./terminal-BGgU8uQ5.js"
import {
  C as Mn,
  c as Jo,
  e as Go,
  T as Zi,
  d as Qo,
  R as V1,
  G as zs,
} from "./magnifying-glass-I0OQge20.js"
import { M as Io, e as Y1, f as X1 } from "./diff-utils-BOp2yI1n.js"
import { B as _t } from "./ButtonAugment-CajD5BpY.js"
import { E as mn } from "./exclamation-triangle-CpQWWqv2.js"
import { a as K1, _ as Z1, c as J1, i as Bs } from "./isObjectLike-Bgjf2ORz.js"
import { g as Q1 } from "./globals-D0QH3NT1.js"
import { h as Ao, u as Kr } from "./await_block-BLDv7Chp.js"
import { C as ef } from "./CardAugment-CAeuNgAF.js"
import { o as Fn } from "./keypress-DD1aQVr0.js"
import { g as Cs } from "./file-paths-BcSg4gks.js"
import { _ as Zr } from "./preload-helper-Dv6uf1Os.js"
import { M as eo } from "./MaterialIcon-eBLus9nM.js"
import { P as Eu, S as Un } from "./pen-to-square-LfrvAaFW.js"
import { A as yo } from "./autofix-state-d-ymFdyn.js"
import { A as tf } from "./augment-logo-BdY_iqGw.js"
import { M as nf } from "./index-UCrRExsK.js"
import "./toggleHighContrast-jdnxapE8.js"
function qn(s) {
  return Array.isArray ? Array.isArray(s) : Tu(s) === "[object Array]"
}
const of = 1 / 0
function rf(s) {
  return s == null
    ? ""
    : (function (e) {
        if (typeof e == "string") return e
        let n = e + ""
        return n == "0" && 1 / e == -of ? "-0" : n
      })(s)
}
function Nn(s) {
  return typeof s == "string"
}
function Iu(s) {
  return typeof s == "number"
}
function sf(s) {
  return (
    s === !0 ||
    s === !1 ||
    ((function (e) {
      return Su(e) && e !== null
    })(s) &&
      Tu(s) == "[object Boolean]")
  )
}
function Su(s) {
  return typeof s == "object"
}
function hn(s) {
  return s != null
}
function gs(s) {
  return !s.trim().length
}
function Tu(s) {
  return s == null
    ? s === void 0
      ? "[object Undefined]"
      : "[object Null]"
    : Object.prototype.toString.call(s)
}
const af = (s) => `Missing ${s} property in key`,
  cf = (s) => `Property 'weight' in key '${s}' must be a positive integer`,
  Ji = Object.prototype.hasOwnProperty
class lf {
  constructor(e) {
    ;(this._keys = []), (this._keyMap = {})
    let n = 0
    e.forEach((t) => {
      let o = Lu(t)
      this._keys.push(o), (this._keyMap[o.id] = o), (n += o.weight)
    }),
      this._keys.forEach((t) => {
        t.weight /= n
      })
  }
  get(e) {
    return this._keyMap[e]
  }
  keys() {
    return this._keys
  }
  toJSON() {
    return JSON.stringify(this._keys)
  }
}
function Lu(s) {
  let e = null,
    n = null,
    t = null,
    o = 1,
    r = null
  if (Nn(s) || qn(s)) (t = s), (e = Qi(s)), (n = Ms(s))
  else {
    if (!Ji.call(s, "name")) throw new Error(af("name"))
    const i = s.name
    if (((t = i), Ji.call(s, "weight") && ((o = s.weight), o <= 0)))
      throw new Error(cf(i))
    ;(e = Qi(i)), (n = Ms(i)), (r = s.getFn)
  }
  return { path: e, id: n, weight: o, src: t, getFn: r }
}
function Qi(s) {
  return qn(s) ? s : s.split(".")
}
function Ms(s) {
  return qn(s) ? s.join(".") : s
}
var Ke = {
  isCaseSensitive: !1,
  includeScore: !1,
  keys: [],
  shouldSort: !0,
  sortFn: (s, e) =>
    s.score === e.score ? (s.idx < e.idx ? -1 : 1) : s.score < e.score ? -1 : 1,
  includeMatches: !1,
  findAllMatches: !1,
  minMatchCharLength: 1,
  location: 0,
  threshold: 0.6,
  distance: 100,
  useExtendedSearch: !1,
  getFn: function (s, e) {
    let n = [],
      t = !1
    const o = (r, i, c) => {
      if (hn(r))
        if (i[c]) {
          const a = r[i[c]]
          if (!hn(a)) return
          if (c === i.length - 1 && (Nn(a) || Iu(a) || sf(a))) n.push(rf(a))
          else if (qn(a)) {
            t = !0
            for (let l = 0, u = a.length; l < u; l += 1) o(a[l], i, c + 1)
          } else i.length && o(a, i, c + 1)
        } else n.push(r)
    }
    return o(s, Nn(e) ? e.split(".") : e, 0), t ? n : n[0]
  },
  ignoreLocation: !1,
  ignoreFieldNorm: !1,
  fieldNormWeight: 1,
}
const uf = /[^ ]+/g
class js {
  constructor({
    getFn: e = Ke.getFn,
    fieldNormWeight: n = Ke.fieldNormWeight,
  } = {}) {
    ;(this.norm = (function (t = 1, o = 3) {
      const r = new Map(),
        i = Math.pow(10, o)
      return {
        get(c) {
          const a = c.match(uf).length
          if (r.has(a)) return r.get(a)
          const l = 1 / Math.pow(a, 0.5 * t),
            u = parseFloat(Math.round(l * i) / i)
          return r.set(a, u), u
        },
        clear() {
          r.clear()
        },
      }
    })(n, 3)),
      (this.getFn = e),
      (this.isCreated = !1),
      this.setIndexRecords()
  }
  setSources(e = []) {
    this.docs = e
  }
  setIndexRecords(e = []) {
    this.records = e
  }
  setKeys(e = []) {
    ;(this.keys = e),
      (this._keysMap = {}),
      e.forEach((n, t) => {
        this._keysMap[n.id] = t
      })
  }
  create() {
    !this.isCreated &&
      this.docs.length &&
      ((this.isCreated = !0),
      Nn(this.docs[0])
        ? this.docs.forEach((e, n) => {
            this._addString(e, n)
          })
        : this.docs.forEach((e, n) => {
            this._addObject(e, n)
          }),
      this.norm.clear())
  }
  add(e) {
    const n = this.size()
    Nn(e) ? this._addString(e, n) : this._addObject(e, n)
  }
  removeAt(e) {
    this.records.splice(e, 1)
    for (let n = e, t = this.size(); n < t; n += 1) this.records[n].i -= 1
  }
  getValueForItemAtKeyId(e, n) {
    return e[this._keysMap[n]]
  }
  size() {
    return this.records.length
  }
  _addString(e, n) {
    if (!hn(e) || gs(e)) return
    let t = { v: e, i: n, n: this.norm.get(e) }
    this.records.push(t)
  }
  _addObject(e, n) {
    let t = { i: n, $: {} }
    this.keys.forEach((o, r) => {
      let i = o.getFn ? o.getFn(e) : this.getFn(e, o.path)
      if (hn(i)) {
        if (qn(i)) {
          let c = []
          const a = [{ nestedArrIndex: -1, value: i }]
          for (; a.length; ) {
            const { nestedArrIndex: l, value: u } = a.pop()
            if (hn(u))
              if (Nn(u) && !gs(u)) {
                let p = { v: u, i: l, n: this.norm.get(u) }
                c.push(p)
              } else
                qn(u) &&
                  u.forEach((p, g) => {
                    a.push({ nestedArrIndex: g, value: p })
                  })
          }
          t.$[r] = c
        } else if (Nn(i) && !gs(i)) {
          let c = { v: i, n: this.norm.get(i) }
          t.$[r] = c
        }
      }
    }),
      this.records.push(t)
  }
  toJSON() {
    return { keys: this.keys, records: this.records }
  }
}
function Ru(
  s,
  e,
  { getFn: n = Ke.getFn, fieldNormWeight: t = Ke.fieldNormWeight } = {},
) {
  const o = new js({ getFn: n, fieldNormWeight: t })
  return o.setKeys(s.map(Lu)), o.setSources(e), o.create(), o
}
function Sr(
  s,
  {
    errors: e = 0,
    currentLocation: n = 0,
    expectedLocation: t = 0,
    distance: o = Ke.distance,
    ignoreLocation: r = Ke.ignoreLocation,
  } = {},
) {
  const i = e / s.length
  if (r) return i
  const c = Math.abs(t - n)
  return o ? i + c / o : c ? 1 : i
}
const co = 32
function df(
  s,
  e,
  n,
  {
    location: t = Ke.location,
    distance: o = Ke.distance,
    threshold: r = Ke.threshold,
    findAllMatches: i = Ke.findAllMatches,
    minMatchCharLength: c = Ke.minMatchCharLength,
    includeMatches: a = Ke.includeMatches,
    ignoreLocation: l = Ke.ignoreLocation,
  } = {},
) {
  if (e.length > co) throw new Error(`Pattern length exceeds max of ${co}.`)
  const u = e.length,
    p = s.length,
    g = Math.max(0, Math.min(t, p))
  let h = r,
    k = g
  const I = c > 1 || a,
    C = I ? Array(p) : []
  let S
  for (; (S = s.indexOf(e, k)) > -1; ) {
    let re = Sr(e, {
      currentLocation: S,
      expectedLocation: g,
      distance: o,
      ignoreLocation: l,
    })
    if (((h = Math.min(re, h)), (k = S + u), I)) {
      let le = 0
      for (; le < u; ) (C[S + le] = 1), (le += 1)
    }
  }
  k = -1
  let H = [],
    O = 1,
    z = u + p
  const $e = 1 << (u - 1)
  for (let re = 0; re < u; re += 1) {
    let le = 0,
      ue = z
    for (; le < ue; )
      Sr(e, {
        errors: re,
        currentLocation: g + ue,
        expectedLocation: g,
        distance: o,
        ignoreLocation: l,
      }) <= h
        ? (le = ue)
        : (z = ue),
        (ue = Math.floor((z - le) / 2 + le))
    z = ue
    let Ee = Math.max(1, g - ue + 1),
      be = i ? p : Math.min(g + ue, p) + u,
      ee = Array(be + 2)
    ee[be + 1] = (1 << re) - 1
    for (let Q = be; Q >= Ee; Q -= 1) {
      let ye = Q - 1,
        ge = n[s.charAt(ye)]
      if (
        (I && (C[ye] = +!!ge),
        (ee[Q] = ((ee[Q + 1] << 1) | 1) & ge),
        re && (ee[Q] |= ((H[Q + 1] | H[Q]) << 1) | 1 | H[Q + 1]),
        ee[Q] & $e &&
          ((O = Sr(e, {
            errors: re,
            currentLocation: ye,
            expectedLocation: g,
            distance: o,
            ignoreLocation: l,
          })),
          O <= h))
      ) {
        if (((h = O), (k = ye), k <= g)) break
        Ee = Math.max(1, 2 * g - k)
      }
    }
    if (
      Sr(e, {
        errors: re + 1,
        currentLocation: g,
        expectedLocation: g,
        distance: o,
        ignoreLocation: l,
      }) > h
    )
      break
    H = ee
  }
  const pe = { isMatch: k >= 0, score: Math.max(0.001, O) }
  if (I) {
    const re = (function (le = [], ue = Ke.minMatchCharLength) {
      let Ee = [],
        be = -1,
        ee = -1,
        Q = 0
      for (let ye = le.length; Q < ye; Q += 1) {
        let ge = le[Q]
        ge && be === -1
          ? (be = Q)
          : ge ||
            be === -1 ||
            ((ee = Q - 1), ee - be + 1 >= ue && Ee.push([be, ee]), (be = -1))
      }
      return le[Q - 1] && Q - be >= ue && Ee.push([be, Q - 1]), Ee
    })(C, c)
    re.length ? a && (pe.indices = re) : (pe.isMatch = !1)
  }
  return pe
}
function ff(s) {
  let e = {}
  for (let n = 0, t = s.length; n < t; n += 1) {
    const o = s.charAt(n)
    e[o] = (e[o] || 0) | (1 << (t - n - 1))
  }
  return e
}
class Pu {
  constructor(
    e,
    {
      location: n = Ke.location,
      threshold: t = Ke.threshold,
      distance: o = Ke.distance,
      includeMatches: r = Ke.includeMatches,
      findAllMatches: i = Ke.findAllMatches,
      minMatchCharLength: c = Ke.minMatchCharLength,
      isCaseSensitive: a = Ke.isCaseSensitive,
      ignoreLocation: l = Ke.ignoreLocation,
    } = {},
  ) {
    if (
      ((this.options = {
        location: n,
        threshold: t,
        distance: o,
        includeMatches: r,
        findAllMatches: i,
        minMatchCharLength: c,
        isCaseSensitive: a,
        ignoreLocation: l,
      }),
      (this.pattern = a ? e : e.toLowerCase()),
      (this.chunks = []),
      !this.pattern.length)
    )
      return
    const u = (g, h) => {
        this.chunks.push({ pattern: g, alphabet: ff(g), startIndex: h })
      },
      p = this.pattern.length
    if (p > co) {
      let g = 0
      const h = p % co,
        k = p - h
      for (; g < k; ) u(this.pattern.substr(g, co), g), (g += co)
      if (h) {
        const I = p - co
        u(this.pattern.substr(I), I)
      }
    } else u(this.pattern, 0)
  }
  searchIn(e) {
    const { isCaseSensitive: n, includeMatches: t } = this.options
    if ((n || (e = e.toLowerCase()), this.pattern === e)) {
      let k = { isMatch: !0, score: 0 }
      return t && (k.indices = [[0, e.length - 1]]), k
    }
    const {
      location: o,
      distance: r,
      threshold: i,
      findAllMatches: c,
      minMatchCharLength: a,
      ignoreLocation: l,
    } = this.options
    let u = [],
      p = 0,
      g = !1
    this.chunks.forEach(({ pattern: k, alphabet: I, startIndex: C }) => {
      const {
        isMatch: S,
        score: H,
        indices: O,
      } = df(e, k, I, {
        location: o + C,
        distance: r,
        threshold: i,
        findAllMatches: c,
        minMatchCharLength: a,
        includeMatches: t,
        ignoreLocation: l,
      })
      S && (g = !0), (p += H), S && O && (u = [...u, ...O])
    })
    let h = { isMatch: g, score: g ? p / this.chunks.length : 1 }
    return g && t && (h.indices = u), h
  }
}
class Kn {
  constructor(e) {
    this.pattern = e
  }
  static isMultiMatch(e) {
    return ea(e, this.multiRegex)
  }
  static isSingleMatch(e) {
    return ea(e, this.singleRegex)
  }
  search() {}
}
function ea(s, e) {
  const n = s.match(e)
  return n ? n[1] : null
}
class Nu extends Kn {
  constructor(
    e,
    {
      location: n = Ke.location,
      threshold: t = Ke.threshold,
      distance: o = Ke.distance,
      includeMatches: r = Ke.includeMatches,
      findAllMatches: i = Ke.findAllMatches,
      minMatchCharLength: c = Ke.minMatchCharLength,
      isCaseSensitive: a = Ke.isCaseSensitive,
      ignoreLocation: l = Ke.ignoreLocation,
    } = {},
  ) {
    super(e),
      (this._bitapSearch = new Pu(e, {
        location: n,
        threshold: t,
        distance: o,
        includeMatches: r,
        findAllMatches: i,
        minMatchCharLength: c,
        isCaseSensitive: a,
        ignoreLocation: l,
      }))
  }
  static get type() {
    return "fuzzy"
  }
  static get multiRegex() {
    return /^"(.*)"$/
  }
  static get singleRegex() {
    return /^(.*)$/
  }
  search(e) {
    return this._bitapSearch.searchIn(e)
  }
}
class Fu extends Kn {
  constructor(e) {
    super(e)
  }
  static get type() {
    return "include"
  }
  static get multiRegex() {
    return /^'"(.*)"$/
  }
  static get singleRegex() {
    return /^'(.*)$/
  }
  search(e) {
    let n,
      t = 0
    const o = [],
      r = this.pattern.length
    for (; (n = e.indexOf(this.pattern, t)) > -1; )
      (t = n + r), o.push([n, t - 1])
    const i = !!o.length
    return { isMatch: i, score: i ? 0 : 1, indices: o }
  }
}
const As = [
    class extends Kn {
      constructor(s) {
        super(s)
      }
      static get type() {
        return "exact"
      }
      static get multiRegex() {
        return /^="(.*)"$/
      }
      static get singleRegex() {
        return /^=(.*)$/
      }
      search(s) {
        const e = s === this.pattern
        return {
          isMatch: e,
          score: e ? 0 : 1,
          indices: [0, this.pattern.length - 1],
        }
      }
    },
    Fu,
    class extends Kn {
      constructor(s) {
        super(s)
      }
      static get type() {
        return "prefix-exact"
      }
      static get multiRegex() {
        return /^\^"(.*)"$/
      }
      static get singleRegex() {
        return /^\^(.*)$/
      }
      search(s) {
        const e = s.startsWith(this.pattern)
        return {
          isMatch: e,
          score: e ? 0 : 1,
          indices: [0, this.pattern.length - 1],
        }
      }
    },
    class extends Kn {
      constructor(s) {
        super(s)
      }
      static get type() {
        return "inverse-prefix-exact"
      }
      static get multiRegex() {
        return /^!\^"(.*)"$/
      }
      static get singleRegex() {
        return /^!\^(.*)$/
      }
      search(s) {
        const e = !s.startsWith(this.pattern)
        return { isMatch: e, score: e ? 0 : 1, indices: [0, s.length - 1] }
      }
    },
    class extends Kn {
      constructor(s) {
        super(s)
      }
      static get type() {
        return "inverse-suffix-exact"
      }
      static get multiRegex() {
        return /^!"(.*)"\$$/
      }
      static get singleRegex() {
        return /^!(.*)\$$/
      }
      search(s) {
        const e = !s.endsWith(this.pattern)
        return { isMatch: e, score: e ? 0 : 1, indices: [0, s.length - 1] }
      }
    },
    class extends Kn {
      constructor(s) {
        super(s)
      }
      static get type() {
        return "suffix-exact"
      }
      static get multiRegex() {
        return /^"(.*)"\$$/
      }
      static get singleRegex() {
        return /^(.*)\$$/
      }
      search(s) {
        const e = s.endsWith(this.pattern)
        return {
          isMatch: e,
          score: e ? 0 : 1,
          indices: [s.length - this.pattern.length, s.length - 1],
        }
      }
    },
    class extends Kn {
      constructor(s) {
        super(s)
      }
      static get type() {
        return "inverse-exact"
      }
      static get multiRegex() {
        return /^!"(.*)"$/
      }
      static get singleRegex() {
        return /^!(.*)$/
      }
      search(s) {
        const e = s.indexOf(this.pattern) === -1
        return { isMatch: e, score: e ? 0 : 1, indices: [0, s.length - 1] }
      }
    },
    Nu,
  ],
  ta = As.length,
  mf = / +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,
  pf = new Set([Nu.type, Fu.type])
class $f {
  constructor(
    e,
    {
      isCaseSensitive: n = Ke.isCaseSensitive,
      includeMatches: t = Ke.includeMatches,
      minMatchCharLength: o = Ke.minMatchCharLength,
      ignoreLocation: r = Ke.ignoreLocation,
      findAllMatches: i = Ke.findAllMatches,
      location: c = Ke.location,
      threshold: a = Ke.threshold,
      distance: l = Ke.distance,
    } = {},
  ) {
    ;(this.query = null),
      (this.options = {
        isCaseSensitive: n,
        includeMatches: t,
        minMatchCharLength: o,
        findAllMatches: i,
        ignoreLocation: r,
        location: c,
        threshold: a,
        distance: l,
      }),
      (this.pattern = n ? e : e.toLowerCase()),
      (this.query = (function (u, p = {}) {
        return u.split("|").map((g) => {
          let h = g
              .trim()
              .split(mf)
              .filter((I) => I && !!I.trim()),
            k = []
          for (let I = 0, C = h.length; I < C; I += 1) {
            const S = h[I]
            let H = !1,
              O = -1
            for (; !H && ++O < ta; ) {
              const z = As[O]
              let $e = z.isMultiMatch(S)
              $e && (k.push(new z($e, p)), (H = !0))
            }
            if (!H)
              for (O = -1; ++O < ta; ) {
                const z = As[O]
                let $e = z.isSingleMatch(S)
                if ($e) {
                  k.push(new z($e, p))
                  break
                }
              }
          }
          return k
        })
      })(this.pattern, this.options))
  }
  static condition(e, n) {
    return n.useExtendedSearch
  }
  searchIn(e) {
    const n = this.query
    if (!n) return { isMatch: !1, score: 1 }
    const { includeMatches: t, isCaseSensitive: o } = this.options
    e = o ? e : e.toLowerCase()
    let r = 0,
      i = [],
      c = 0
    for (let a = 0, l = n.length; a < l; a += 1) {
      const u = n[a]
      ;(i.length = 0), (r = 0)
      for (let p = 0, g = u.length; p < g; p += 1) {
        const h = u[p],
          { isMatch: k, indices: I, score: C } = h.search(e)
        if (!k) {
          ;(c = 0), (r = 0), (i.length = 0)
          break
        }
        if (((r += 1), (c += C), t)) {
          const S = h.constructor.type
          pf.has(S) ? (i = [...i, ...I]) : i.push(I)
        }
      }
      if (r) {
        let p = { isMatch: !0, score: c / r }
        return t && (p.indices = i), p
      }
    }
    return { isMatch: !1, score: 1 }
  }
}
const ks = []
function Es(s, e) {
  for (let n = 0, t = ks.length; n < t; n += 1) {
    let o = ks[n]
    if (o.condition(s, e)) return new o(s, e)
  }
  return new Pu(s, e)
}
const Hs = "$and",
  hf = "$or",
  na = "$path",
  gf = "$val",
  vs = (s) => !(!s[Hs] && !s[hf]),
  oa = (s) => ({ [Hs]: Object.keys(s).map((e) => ({ [e]: s[e] })) })
function Du(s, e, { auto: n = !0 } = {}) {
  const t = (o) => {
    let r = Object.keys(o)
    const i = ((a) => !!a[na])(o)
    if (!i && r.length > 1 && !vs(o)) return t(oa(o))
    if (((a) => !qn(a) && Su(a) && !vs(a))(o)) {
      const a = i ? o[na] : r[0],
        l = i ? o[gf] : o[a]
      if (!Nn(l)) throw new Error(((p) => `Invalid value for key ${p}`)(a))
      const u = { keyId: Ms(a), pattern: l }
      return n && (u.searcher = Es(l, e)), u
    }
    let c = { children: [], operator: r[0] }
    return (
      r.forEach((a) => {
        const l = o[a]
        qn(l) &&
          l.forEach((u) => {
            c.children.push(t(u))
          })
      }),
      c
    )
  }
  return vs(s) || (s = oa(s)), t(s)
}
function vf(s, e) {
  const n = s.matches
  ;(e.matches = []),
    hn(n) &&
      n.forEach((t) => {
        if (!hn(t.indices) || !t.indices.length) return
        const { indices: o, value: r } = t
        let i = { indices: o, value: r }
        t.key && (i.key = t.key.src),
          t.idx > -1 && (i.refIndex = t.idx),
          e.matches.push(i)
      })
}
function wf(s, e) {
  e.score = s.score
}
class bo {
  constructor(e, n = {}, t) {
    ;(this.options = { ...Ke, ...n }),
      this.options.useExtendedSearch,
      (this._keyStore = new lf(this.options.keys)),
      this.setCollection(e, t)
  }
  setCollection(e, n) {
    if (((this._docs = e), n && !(n instanceof js)))
      throw new Error("Incorrect 'index' type")
    this._myIndex =
      n ||
      Ru(this.options.keys, this._docs, {
        getFn: this.options.getFn,
        fieldNormWeight: this.options.fieldNormWeight,
      })
  }
  add(e) {
    hn(e) && (this._docs.push(e), this._myIndex.add(e))
  }
  remove(e = () => !1) {
    const n = []
    for (let t = 0, o = this._docs.length; t < o; t += 1) {
      const r = this._docs[t]
      e(r, t) && (this.removeAt(t), (t -= 1), (o -= 1), n.push(r))
    }
    return n
  }
  removeAt(e) {
    this._docs.splice(e, 1), this._myIndex.removeAt(e)
  }
  getIndex() {
    return this._myIndex
  }
  search(e, { limit: n = -1 } = {}) {
    const {
      includeMatches: t,
      includeScore: o,
      shouldSort: r,
      sortFn: i,
      ignoreFieldNorm: c,
    } = this.options
    let a = Nn(e)
      ? Nn(this._docs[0])
        ? this._searchStringList(e)
        : this._searchObjectList(e)
      : this._searchLogical(e)
    return (
      (function (l, { ignoreFieldNorm: u = Ke.ignoreFieldNorm }) {
        l.forEach((p) => {
          let g = 1
          p.matches.forEach(({ key: h, norm: k, score: I }) => {
            const C = h ? h.weight : null
            g *= Math.pow(
              I === 0 && C ? Number.EPSILON : I,
              (C || 1) * (u ? 1 : k),
            )
          }),
            (p.score = g)
        })
      })(a, { ignoreFieldNorm: c }),
      r && a.sort(i),
      Iu(n) && n > -1 && (a = a.slice(0, n)),
      (function (
        l,
        u,
        {
          includeMatches: p = Ke.includeMatches,
          includeScore: g = Ke.includeScore,
        } = {},
      ) {
        const h = []
        return (
          p && h.push(vf),
          g && h.push(wf),
          l.map((k) => {
            const { idx: I } = k,
              C = { item: u[I], refIndex: I }
            return (
              h.length &&
                h.forEach((S) => {
                  S(k, C)
                }),
              C
            )
          })
        )
      })(a, this._docs, { includeMatches: t, includeScore: o })
    )
  }
  _searchStringList(e) {
    const n = Es(e, this.options),
      { records: t } = this._myIndex,
      o = []
    return (
      t.forEach(({ v: r, i, n: c }) => {
        if (!hn(r)) return
        const { isMatch: a, score: l, indices: u } = n.searchIn(r)
        a &&
          o.push({
            item: r,
            idx: i,
            matches: [{ score: l, value: r, norm: c, indices: u }],
          })
      }),
      o
    )
  }
  _searchLogical(e) {
    const n = Du(e, this.options),
      t = (c, a, l) => {
        if (!c.children) {
          const { keyId: p, searcher: g } = c,
            h = this._findMatches({
              key: this._keyStore.get(p),
              value: this._myIndex.getValueForItemAtKeyId(a, p),
              searcher: g,
            })
          return h && h.length ? [{ idx: l, item: a, matches: h }] : []
        }
        const u = []
        for (let p = 0, g = c.children.length; p < g; p += 1) {
          const h = c.children[p],
            k = t(h, a, l)
          if (k.length) u.push(...k)
          else if (c.operator === Hs) return []
        }
        return u
      },
      o = this._myIndex.records,
      r = {},
      i = []
    return (
      o.forEach(({ $: c, i: a }) => {
        if (hn(c)) {
          let l = t(n, c, a)
          l.length &&
            (r[a] || ((r[a] = { idx: a, item: c, matches: [] }), i.push(r[a])),
            l.forEach(({ matches: u }) => {
              r[a].matches.push(...u)
            }))
        }
      }),
      i
    )
  }
  _searchObjectList(e) {
    const n = Es(e, this.options),
      { keys: t, records: o } = this._myIndex,
      r = []
    return (
      o.forEach(({ $: i, i: c }) => {
        if (!hn(i)) return
        let a = []
        t.forEach((l, u) => {
          a.push(...this._findMatches({ key: l, value: i[u], searcher: n }))
        }),
          a.length && r.push({ idx: c, item: i, matches: a })
      }),
      r
    )
  }
  _findMatches({ key: e, value: n, searcher: t }) {
    if (!hn(n)) return []
    let o = []
    if (qn(n))
      n.forEach(({ v: r, i, n: c }) => {
        if (!hn(r)) return
        const { isMatch: a, score: l, indices: u } = t.searchIn(r)
        a && o.push({ score: l, key: e, value: r, idx: i, norm: c, indices: u })
      })
    else {
      const { v: r, n: i } = n,
        { isMatch: c, score: a, indices: l } = t.searchIn(r)
      c && o.push({ score: a, key: e, value: r, norm: i, indices: l })
    }
    return o
  }
}
;(bo.version = "7.0.0"),
  (bo.createIndex = Ru),
  (bo.parseIndex = function (
    s,
    { getFn: e = Ke.getFn, fieldNormWeight: n = Ke.fieldNormWeight } = {},
  ) {
    const { keys: t, records: o } = s,
      r = new js({ getFn: e, fieldNormWeight: n })
    return r.setKeys(t), r.setIndexRecords(o), r
  }),
  (bo.config = Ke),
  (bo.parseQuery = Du),
  (function (...s) {
    ks.push(...s)
  })($f)
var Tt = ((s) => (
    (s.disableCopilot = "ShouldDisableCopilot"),
    (s.disableCodeium = "ShouldDisableCodeium"),
    (s.workspacePopulated = "WorkspacePopulated"),
    (s.workspaceNotPopulated = "WorkspaceNotPopulated"),
    (s.workspaceNotSelected = "WorkspaceNotSelected"),
    (s.signInRequired = "UserShouldSignIn"),
    (s.allActionsComplete = "AllActionsComplete"),
    (s.syncingPermissionNeeded = "SyncingPermissionNeeded"),
    (s.workspaceTooLarge = "workspaceTooLarge"),
    (s.uploadingHomeDir = "uploadingHomeDir"),
    s
  ))(Tt || {}),
  Us = ((s) => ((s.signInInProgress = "SignInInProgress"), s))(Us || {})
let yf = class {
  constructor() {
    Z(this, "subscribers", new Set())
    Z(this, "_actions", [])
    Z(this, "_currentIndex", 0)
    Z(
      this,
      "subscribe",
      (s) => (
        this.subscribers.add(s),
        s(this),
        () => {
          this.subscribers.delete(s)
        }
      ),
    )
  }
  get currentCard() {
    return this.actions[this._currentIndex]
  }
  notifySubscribers() {
    this.subscribers.forEach((s) => s(this))
  }
  get actions() {
    return this._actions
  }
  handleMessageFromExtension(s) {
    const e = s.data
    return e.type === st.mainPanelActions && (this.onActionsUpdates(e.data), !0)
  }
  onActionsUpdates(s) {
    ;(this._actions = s), (this._currentIndex = 0), this.notifySubscribers()
  }
  nextAction() {
    ;(this._currentIndex = (this._currentIndex + 1) % this._actions.length),
      this.notifySubscribers()
  }
  prevAction() {
    ;(this._currentIndex =
      (this._currentIndex - 1 + this._actions.length) % this._actions.length),
      this.notifySubscribers()
  }
  isCollapsible(s) {
    return s === Tt.allActionsComplete
  }
}
const Vx = `Augment just finished syncing with your codebase! Here is a summary of what we saw:

`
class bf {
  constructor(e, n) {
    Z(
      this,
      "handleMessageFromExtension",
      (e) => (
        e.data.type === st.shouldShowSummary && this.showProjectSummary(), !0
      ),
    )
    ;(this._chatModel = e), (this._flagsModel = n)
  }
  async retryProjectSummary(e) {
    const [n] = await Promise.all([
      this.generateQuestions(),
      this._chatModel.currentConversationModel.resendTurn(e),
    ])
    await this.attachQuestions(n)
  }
  async showProjectSummary() {
    const e = this.generateQuestions()
    await this.generateSummary()
    const n = await e
    this.attachQuestions(n)
  }
  async generateQuestions() {
    const { responseText: e } =
      await this._chatModel.currentConversationModel.sendSilentExchange({
        request_message:
          "Give me the five most important questions a developer would need answered about this codebase. These questions should be separated by a newline. I want you to say absolutely nothing else.",
        model_id: this._flagsModel.modelDisplayNameToId.Overview ?? void 0,
        disableSelectedCodeDetails: !0,
        disableHistory: !0,
      })
    return e
      .split(
        `
`,
      )
      .filter((n) => n.trim() !== "")
  }
  async generateSummary() {
    this._chatModel.extensionClient.showAugmentPanel(),
      await this._chatModel.currentConversationModel.sendExchange({
        chatItemType: Pn.summaryResponse,
        request_message: "Provide a short summary of this project",
        model_id: this._flagsModel.modelDisplayNameToId.Overview ?? void 0,
        status: Ft.draft,
        disableSelectedCodeDetails: !0,
        disableHistory: !0,
      })
  }
  async attachQuestions(e) {
    const n = this._chatModel.currentConversationModel.chatHistory.findLast(Yd)
    n &&
      n.request_id &&
      e &&
      this._chatModel.currentConversationModel.updateChatItem(n.request_id, {
        questionsLoaded: !0,
        questions: e,
      })
  }
}
function xf(s) {
  let e, n, t, o
  const r = s[12].default,
    i = Ze(r, s, s[11], null)
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        i && i.c(),
        A(n, "class", (t = Fr(`c-card ${s[0]}`) + " svelte-1hp682e")),
        je(n, "highlighted", s[1]),
        je(n, "hasTop", s[8]),
        je(n, "hasBottom", s[7]),
        je(n, "hasLeft", s[6]),
        je(n, "hasRight", s[5]),
        je(n, "reserve-border-space", s[4]),
        A(e, "class", "c-card-container svelte-1hp682e"),
        A(e, "style", s[2]),
        je(e, "overflow-visible", s[3])
    },
    m(c, a) {
      M(c, e, a), B(e, n), i && i.m(n, null), (o = !0)
    },
    p(c, [a]) {
      i &&
        i.p &&
        (!o || 2048 & a) &&
        Je(i, r, c, c[11], o ? et(r, c[11], a, null) : Qe(c[11]), null),
        (!o ||
          (1 & a && t !== (t = Fr(`c-card ${c[0]}`) + " svelte-1hp682e"))) &&
          A(n, "class", t),
        (!o || 3 & a) && je(n, "highlighted", c[1]),
        (!o || 257 & a) && je(n, "hasTop", c[8]),
        (!o || 129 & a) && je(n, "hasBottom", c[7]),
        (!o || 65 & a) && je(n, "hasLeft", c[6]),
        (!o || 33 & a) && je(n, "hasRight", c[5]),
        (!o || 17 & a) && je(n, "reserve-border-space", c[4]),
        (!o || 4 & a) && A(e, "style", c[2]),
        (!o || 8 & a) && je(e, "overflow-visible", c[3])
    },
    i(c) {
      o || (d(i, c), (o = !0))
    },
    o(c) {
      m(i, c), (o = !1)
    },
    d(c) {
      c && x(e), i && i.d(c)
    },
  }
}
function _f(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    { $$slots: a = {}, $$scope: l } = e,
    { class: u = "" } = e,
    { highlighted: p = !1 } = e,
    { style: g = "" } = e,
    { overflowVisible: h = !1 } = e,
    { borders: k = ["top", "bottom", "left", "right"] } = e,
    { reserveBorderSpace: I = !1 } = e
  return (
    (s.$$set = (C) => {
      "class" in C && n(0, (u = C.class)),
        "highlighted" in C && n(1, (p = C.highlighted)),
        "style" in C && n(2, (g = C.style)),
        "overflowVisible" in C && n(3, (h = C.overflowVisible)),
        "borders" in C && n(9, (k = C.borders)),
        "reserveBorderSpace" in C && n(4, (I = C.reserveBorderSpace)),
        "$$scope" in C && n(11, (l = C.$$scope))
    }),
    (s.$$.update = () => {
      512 & s.$$.dirty && n(10, (t = k.map((C) => C.split("-")).flat())),
        1024 & s.$$.dirty && n(8, (o = t.includes("top"))),
        1024 & s.$$.dirty && n(7, (r = t.includes("bottom"))),
        1024 & s.$$.dirty && n(6, (i = t.includes("left"))),
        1024 & s.$$.dirty && n(5, (c = t.includes("right")))
    }),
    [u, p, g, h, I, c, i, r, o, k, t, l, a]
  )
}
class Ou extends ne {
  constructor(e) {
    super(),
      oe(this, e, _f, xf, te, {
        class: 0,
        highlighted: 1,
        style: 2,
        overflowVisible: 3,
        borders: 9,
        reserveBorderSpace: 4,
      })
  }
}
function Cf(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(
          n,
          "d",
          "M256 0c-17.7 0-32 14.3-32 32l0 19.2C151 66 96 130.6 96 208l0 25.4c0 45.4-15.5 89.5-43.8 124.9L37.3 377c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l400 0c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C431.5 322.9 416 278.8 416 233.4l0-25.4c0-77.4-55-142-128-156.8L288 32c0-17.7-14.3-32-32-32zm0 96c61.9 0 112 50.1 112 112l0 25.4c0 47.9 13.9 94.6 39.7 134.6l-303.4 0c25.8-40 39.7-86.7 39.7-134.6l0-25.4c0-61.9 50.1-112 112-112zm64 352l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3zM113.4 15.4c-9.1-9.6-24.3-10-33.9-.8C30.5 61.2 0 127.1 0 200c0 13.3 10.7 24 24 24s24-10.7 24-24c0-59.3 24.8-112.7 64.6-150.6c9.6-9.1 10-24.3 .8-33.9zM399.4 49.4C439.2 87.3 464 140.7 464 200c0 13.3 10.7 24 24 24s24-10.7 24-24c0-72.9-30.5-138.8-79.4-185.4c-9.6-9.1-24.8-8.8-33.9 .8s-8.8 24.8 .8 33.9z",
        ),
        A(e, "xmlns", "http://www.w3.org/2000/svg"),
        A(e, "viewBox", "0 0 512 512")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class Mf extends ne {
  constructor(e) {
    super(), oe(this, e, null, Cf, te, {})
  }
}
function Af(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(
          n,
          "d",
          "M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L542.6 400c2.7-7.8 1.3-16.5-3.9-23l-14.9-18.6C495.5 322.9 480 278.8 480 233.4l0-33.4c0-75.8-55.5-138.6-128-150.1L352 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 17.9c-43.9 7-81.5 32.7-104.4 68.7L38.8 5.1zM221.7 148.4C239.6 117.1 273.3 96 312 96l8 0 8 0c57.4 0 104 46.6 104 104l0 33.4c0 32.7 6.4 64.8 18.7 94.5L221.7 148.4zM406.2 416l-60.9-48-176.9 0c21.2-32.8 34.4-70.3 38.4-109.1L160 222.1l0 11.4c0 45.4-15.5 89.5-43.8 124.9L101.3 377c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l286.2 0zM384 448l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z",
        ),
        A(e, "xmlns", "http://www.w3.org/2000/svg"),
        A(e, "viewBox", "0 0 640 512")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class kf extends ne {
  constructor(e) {
    super(), oe(this, e, null, Af, te, {})
  }
}
function Ef(s) {
  let e, n
  return (
    (e = new kf({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function If(s) {
  let e, n
  return (
    (e = new Mf({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Sf(s) {
  let e, n, t, o
  const r = [If, Ef],
    i = []
  function c(a, l) {
    return a[0] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function Tf(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "ghost-block",
        color: "neutral",
        $$slots: { default: [Sf] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[3]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        257 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Lf(s) {
  let e, n, t
  return (
    (n = new wt({
      props: { content: s[1], $$slots: { default: [Tf] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-notify-button svelte-1nip792")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, [r]) {
        const i = {}
        2 & r && (i.content = o[1]),
          257 & r && (i.$$scope = { dirty: r, ctx: o }),
          n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Rf(s, e, n) {
  let t,
    o,
    r,
    i,
    { agentId: c } = e
  const a = Xe("remoteAgentsModel")
  Ge(s, a, (u) => n(7, (i = u)))
  let l = !1
  return (
    (s.$$set = (u) => {
      "agentId" in u && n(4, (c = u.agentId))
    }),
    (s.$$.update = () => {
      144 & s.$$.dirty && n(5, (t = c ?? i.currentAgentId)),
        128 & s.$$.dirty && n(6, (o = i.newAgentDraft)),
        224 & s.$$.dirty &&
          (t
            ? n(0, (l = i.notificationSettings[t] ?? !1))
            : o && n(0, (l = o.enableNotification))),
        145 & s.$$.dirty &&
          n(
            1,
            (r = l
              ? "You'll be notified when the agent is ready for review. Click to turn off."
              : "Click to turn on notifications when the agent is ready for review. " +
                (c === i.currentAgentId
                  ? "You will not be notified while you're actively viewing this agent."
                  : "")),
          )
    }),
    [
      l,
      r,
      a,
      function () {
        if (t) a.setNotificationEnabled(t, !l)
        else {
          const u = a.newAgentDraft
          u && a.setNewAgentDraft({ ...u, enableNotification: !l })
        }
      },
      c,
      t,
      o,
      i,
    ]
  )
}
class zu extends ne {
  constructor(e) {
    super(), oe(this, e, Rf, Lf, te, { agentId: 4 })
  }
}
function Pf(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(
          n,
          "d",
          "M11.45 7.25C11.9167 7.68333 12.15 8.21667 12.15 8.85C12.15 9.45 11.95 9.98333 11.55 10.45C11.15 10.8833 10.65 11.1333 10.05 11.2C9.45 11.2333 8.9 11.0833 8.4 10.75C7.93333 10.3833 7.63333 9.9 7.5 9.3C6.83333 9.26667 6.18333 9.08333 5.55 8.75C4.81667 8.38333 4.2 7.85 3.7 7.15V9.4C4.06667 9.46667 4.4 9.63333 4.7 9.9C5 10.1333 5.21667 10.4167 5.35 10.75C5.51667 11.0833 5.58333 11.4 5.55 11.7C5.55 12.2 5.41667 12.65 5.15 13.05C4.91667 13.4167 4.56667 13.7 4.1 13.9C3.66667 14.0667 3.21667 14.1 2.75 14C2.28333 13.9 1.88333 13.6833 1.55 13.35C1.21667 13.0167 1 12.6333 0.9 12.2C0.833333 11.7333 0.883333 11.2833 1.05 10.85C1.25 10.3833 1.53333 10.0167 1.9 9.75C2.16667 9.58333 2.45 9.46667 2.75 9.4V4.65C2.28333 4.55 1.88333 4.33333 1.55 4C1.21667 3.66667 1 3.26667 0.9 2.8C0.833333 2.33333 0.883333 1.88333 1.05 1.45C1.25 1.01667 1.53333 0.666666 1.9 0.4C2.3 0.133333 2.73333 0 3.2 0C3.53333 0 3.85 0.0666666 4.15 0.2C4.75 0.433333 5.16667 0.849999 5.4 1.45C5.53333 1.75 5.6 2.06667 5.6 2.4C5.6 2.86667 5.46667 3.3 5.2 3.7C4.93333 4.06667 4.58333 4.35 4.15 4.55C4.01667 4.61667 3.88333 4.65 3.75 4.65C3.85 5.65 4.25 6.5 4.95 7.2C5.65 7.9 6.5 8.3 7.5 8.4C7.53333 8.26667 7.56667 8.13333 7.6 8C7.8 7.56667 8.1 7.21667 8.5 6.95C8.96667 6.65 9.46667 6.53333 10 6.6C10.5667 6.63333 11.05 6.85 11.45 7.25ZM3.75 10.4C3.48333 10.3 3.21667 10.2833 2.95 10.35C2.68333 10.3833 2.43333 10.5167 2.2 10.75C2 10.95 1.86667 11.1833 1.8 11.45C1.76667 11.7167 1.8 11.9833 1.9 12.25C2.03333 12.5167 2.21667 12.7333 2.45 12.9C2.71667 13.0667 3.01667 13.1333 3.35 13.1C3.68333 13.0667 3.96667 12.9333 4.2 12.7C4.43333 12.4667 4.56667 12.1833 4.6 11.85C4.63333 11.5167 4.56667 11.2333 4.4 11C4.23333 10.7333 4.01667 10.5333 3.75 10.4ZM3.2 3.75C3.56667 3.75 3.86667 3.65 4.1 3.45C4.36667 3.21667 4.53333 2.93333 4.6 2.6C4.66667 2.26667 4.61667 1.96667 4.45 1.7C4.28333 1.4 4.05 1.2 3.75 1.1C3.48333 0.966667 3.21667 0.933333 2.95 1C2.68333 1.03333 2.43333 1.15 2.2 1.35C2 1.55 1.86667 1.8 1.8 2.1C1.76667 2.36667 1.8 2.63333 1.9 2.9C2.03333 3.13333 2.21667 3.33333 2.45 3.5C2.68333 3.66667 2.93333 3.75 3.2 3.75ZM10.8 9.9C10.9667 9.73333 11.0833 9.53333 11.15 9.3C11.2167 9.06667 11.2167 8.85 11.15 8.65C11.1167 8.41667 11.0167 8.21667 10.85 8.05C10.7167 7.85 10.5333 7.7 10.3 7.6C10.0667 7.5 9.8 7.48333 9.5 7.55C9.23333 7.58333 9 7.7 8.8 7.9C8.6 8.1 8.46667 8.35 8.4 8.65C8.33333 8.91667 8.35 9.16667 8.45 9.4C8.55 9.63333 8.68333 9.83333 8.85 10C9.05 10.1333 9.26667 10.2333 9.5 10.3C9.73333 10.3333 9.96667 10.3167 10.2 10.25C10.4333 10.1833 10.6333 10.0667 10.8 9.9Z",
        ),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "-1 0 15 15"),
        A(e, "fill", "currentColor"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class Bu extends ne {
  constructor(e) {
    super(), oe(this, e, null, Pf, te, {})
  }
}
function Nf(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 512 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M224 80v352h224c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16zM0 96c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v320c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm64 24c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24s-10.7-24-24-24H88c-13.3 0-24 10.7-24 24m24 72c-13.3 0-24 10.7-24 24s10.7 24 24 24h48c13.3 0 24-10.7 24-24s-10.7-24-24-24zM64 312c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24s-10.7-24-24-24H88c-13.3 0-24 10.7-24 24"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 512 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Ff(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Df extends ne {
  constructor(e) {
    super(), oe(this, e, Ff, Nf, te, {})
  }
}
function Of(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 512 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M248.4 84.3c1.6-2.7 4.5-4.3 7.6-4.3s6 1.6 7.6 4.3L461.9 410c1.4 2.3 2.1 4.9 2.1 7.5 0 8-6.5 14.5-14.5 14.5h-387c-8 0-14.5-6.5-14.5-14.5 0-2.7.7-5.3 2.1-7.5zm-41-25L9.1 385c-6 9.8-9.1 21-9.1 32.5C0 452 28 480 62.5 480h387c34.5 0 62.5-28 62.5-62.5 0-11.5-3.2-22.7-9.1-32.5L304.6 59.3C294.3 42.4 275.9 32 256 32s-38.3 10.4-48.6 27.3M288 368a32 32 0 1 0-64 0 32 32 0 1 0 64 0m-8-184c0-13.3-10.7-24-24-24s-24 10.7-24 24v96c0 13.3 10.7 24 24 24s24-10.7 24-24z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 512 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function zf(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Ws extends ne {
  constructor(e) {
    super(), oe(this, e, zf, Of, te, {})
  }
}
function Bf(s) {
  let e, n
  return (
    (e = new Eo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function jf(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        variant: "ghost-block",
        color: "neutral",
        size: 1,
        title: "Agent options",
        $$slots: { default: [Bf] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        256 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Hf(s) {
  let e
  return {
    c() {
      e = K("Copy ID")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    d(n) {
      n && x(e)
    },
  }
}
function Uf(s) {
  let e,
    n = s[3].get(s[0]) + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      9 & o && n !== (n = t[3].get(t[0]) + "") && ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function Wf(s) {
  let e, n
  function t(i, c) {
    return 9 & c && (e = null), e == null && (e = !!i[3].get(i[0])), e ? Uf : Hf
  }
  let o = t(s, -1),
    r = o(s)
  return {
    c() {
      r.c(), (n = he())
    },
    m(i, c) {
      r.m(i, c), M(i, n, c)
    },
    p(i, c) {
      o === (o = t(i, c)) && r
        ? r.p(i, c)
        : (r.d(1), (r = o(i)), r && (r.c(), r.m(n.parentNode, n)))
    },
    d(i) {
      i && x(n), r.d(i)
    },
  }
}
function qf(s) {
  let e, n
  return (
    (e = new E1({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ra(s) {
  let e, n, t, o, r, i
  return (
    (e = new Fe.Separator({})),
    (t = new Fe.Label({
      props: { $$slots: { default: [Gf] }, $$scope: { ctx: s } },
    })),
    (r = new Fe.Item({
      props: { disabled: !0, $$slots: { default: [Vf] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment),
          (n = j()),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment)
      },
      m(c, a) {
        y(e, c, a), M(c, n, a), y(t, c, a), M(c, o, a), y(r, c, a), (i = !0)
      },
      p(c, a) {
        const l = {}
        256 & a && (l.$$scope = { dirty: a, ctx: c }), t.$set(l)
        const u = {}
        258 & a && (u.$$scope = { dirty: a, ctx: c }), r.$set(u)
      },
      i(c) {
        i ||
          (d(e.$$.fragment, c),
          d(t.$$.fragment, c),
          d(r.$$.fragment, c),
          (i = !0))
      },
      o(c) {
        m(e.$$.fragment, c), m(t.$$.fragment, c), m(r.$$.fragment, c), (i = !1)
      },
      d(c) {
        c && (x(n), x(o)), b(e, c), b(t, c), b(r, c)
      },
    }
  )
}
function Gf(s) {
  let e
  return {
    c() {
      e = K("Branch")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Vf(s) {
  let e
  return {
    c() {
      e = K(s[1])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      2 & t && ze(e, n[1])
    },
    d(n) {
      n && x(e)
    },
  }
}
function Yf(s) {
  let e, n, t, o
  e = new Fe.Item({
    props: {
      onSelect: s[6],
      $$slots: { iconLeft: [qf], default: [Wf] },
      $$scope: { ctx: s },
    },
  })
  let r = s[1] && ra(s)
  return {
    c() {
      w(e.$$.fragment), (n = j()), r && r.c(), (t = he())
    },
    m(i, c) {
      y(e, i, c), M(i, n, c), r && r.m(i, c), M(i, t, c), (o = !0)
    },
    p(i, c) {
      const a = {}
      4 & c && (a.onSelect = i[6]),
        265 & c && (a.$$scope = { dirty: c, ctx: i }),
        e.$set(a),
        i[1]
          ? r
            ? (r.p(i, c), 2 & c && d(r, 1))
            : ((r = ra(i)), r.c(), d(r, 1), r.m(t.parentNode, t))
          : r &&
            (Y(),
            m(r, 1, 1, () => {
              r = null
            }),
            X())
    },
    i(i) {
      o || (d(e.$$.fragment, i), d(r), (o = !0))
    },
    o(i) {
      m(e.$$.fragment, i), m(r), (o = !1)
    },
    d(i) {
      i && (x(n), x(t)), b(e, i), r && r.d(i)
    },
  }
}
function Xf(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [jf] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "bottom",
        align: "end",
        $$slots: { default: [Yf] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        256 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        271 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Kf(s) {
  let e, n, t
  function o(i) {
    s[7](i)
  }
  let r = { nested: !1, $$slots: { default: [Xf] }, $$scope: { ctx: s } }
  return (
    s[2] !== void 0 && (r.requestClose = s[2]),
    (e = new Fe.Root({ props: r })),
    bt.push(() => Qt(e, "requestClose", o)),
    {
      c() {
        w(e.$$.fragment)
      },
      m(i, c) {
        y(e, i, c), (t = !0)
      },
      p(i, [c]) {
        const a = {}
        271 & c && (a.$$scope = { dirty: c, ctx: i }),
          !n &&
            4 & c &&
            ((n = !0), (a.requestClose = i[2]), tn(() => (n = !1))),
          e.$set(a)
      },
      i(i) {
        t || (d(e.$$.fragment, i), (t = !0))
      },
      o(i) {
        m(e.$$.fragment, i), (t = !1)
      },
      d(i) {
        b(e, i)
      },
    }
  )
}
function Zf(s, e, n) {
  let t,
    { agentId: o } = e,
    { selectedBranch: r } = e,
    i = () => {}
  const c = Ct(new Map())
  function a() {
    navigator.clipboard.writeText(o),
      c.update((l) => (l.set(o, "Copied!"), l)),
      setTimeout(() => {
        c.update((l) => (l.delete(o), l))
      }, 1e3)
  }
  return (
    Ge(s, c, (l) => n(3, (t = l))),
    (s.$$set = (l) => {
      "agentId" in l && n(0, (o = l.agentId)),
        "selectedBranch" in l && n(1, (r = l.selectedBranch))
    }),
    [
      o,
      r,
      i,
      t,
      c,
      a,
      () => {
        a(), i()
      },
      function (l) {
        ;(i = l), n(2, i)
      },
    ]
  )
}
class ju extends ne {
  constructor(e) {
    super(), oe(this, e, Zf, Kf, te, { agentId: 0, selectedBranch: 1 })
  }
}
function sa(s) {
  let e, n, t, o, r
  return {
    c() {
      ;(e = F("div")),
        (n = K(s[2])),
        A(
          e,
          "class",
          (t =
            "status-label status-label--" + s[0].toString() + " svelte-xrtdeo"),
        )
    },
    m(i, c) {
      M(i, e, c), B(e, n), (r = !0)
    },
    p(i, c) {
      ;(!r || 4 & c) && ze(n, i[2]),
        (!r ||
          (1 & c &&
            t !==
              (t =
                "status-label status-label--" +
                i[0].toString() +
                " svelte-xrtdeo"))) &&
          A(e, "class", t)
    },
    i(i) {
      r ||
        (i &&
          uo(() => {
            r &&
              (o || (o = xo(e, Xi, { duration: 100, axis: "x" }, !0)), o.run(1))
          }),
        (r = !0))
    },
    o(i) {
      i && (o || (o = xo(e, Xi, { duration: 100, axis: "x" }, !1)), o.run(0)),
        (r = !1)
    },
    d(i) {
      i && x(e), i && o && o.end()
    },
  }
}
function Jf(s) {
  let e,
    n,
    t,
    o,
    r,
    i,
    c,
    a,
    l = s[3] && sa(s)
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        (o = j()),
        l && l.c(),
        A(
          n,
          "class",
          (t = "status-dot status-dot--" + s[0].toString() + " svelte-xrtdeo"),
        ),
        A(e, "class", "status-indicator-container svelte-xrtdeo"),
        A(e, "role", "status"),
        A(e, "aria-label", (r = "Agent status: " + s[2])),
        A(e, "title", (i = "Status: " + s[2]))
    },
    m(u, p) {
      M(u, e, p),
        B(e, n),
        B(e, o),
        l && l.m(e, null),
        c ||
          ((a = [Oe(e, "mouseenter", s[5]), Oe(e, "mouseleave", s[6])]),
          (c = !0))
    },
    p(u, [p]) {
      1 & p &&
        t !==
          (t =
            "status-dot status-dot--" + u[0].toString() + " svelte-xrtdeo") &&
        A(n, "class", t),
        u[3]
          ? l
            ? (l.p(u, p), 8 & p && d(l, 1))
            : ((l = sa(u)), l.c(), d(l, 1), l.m(e, null))
          : l &&
            (Y(),
            m(l, 1, 1, () => {
              l = null
            }),
            X()),
        4 & p && r !== (r = "Agent status: " + u[2]) && A(e, "aria-label", r),
        4 & p && i !== (i = "Status: " + u[2]) && A(e, "title", i)
    },
    i(u) {
      d(l)
    },
    o(u) {
      m(l)
    },
    d(u) {
      u && x(e), l && l.d(), (c = !1), Yt(a)
    },
  }
}
function Qf(s, e, n) {
  let t,
    o,
    { status: r } = e,
    { isExpanded: i = !1 } = e,
    c = !1
  return (
    (s.$$set = (a) => {
      "status" in a && n(0, (r = a.status)),
        "isExpanded" in a && n(4, (i = a.isExpanded))
    }),
    (s.$$.update = () => {
      18 & s.$$.dirty && n(3, (t = i || c)), 1 & s.$$.dirty && n(2, (o = Xd(r)))
    }),
    [r, c, o, t, i, () => n(1, (c = !0)), () => n(1, (c = !1))]
  )
}
class em extends ne {
  constructor(e) {
    super(), oe(this, e, Qf, Jf, te, { status: 0, isExpanded: 4 })
  }
}
class mo {
  constructor(e) {
    this._asyncMsgSender = e
  }
  async listUserRepos() {
    try {
      const e = await this._asyncMsgSender.send(
        { type: st.listGithubReposForAuthenticatedUserRequest },
        1e4,
      )
      return {
        repos: e.data.repos,
        error: e.data.error,
        isDevDeploy: e.data.isDevDeploy,
      }
    } catch (e) {
      return (
        console.error("Failed to list user repos:", e),
        {
          repos: [],
          error: `Error: ${e instanceof Error ? e.message : String(e)}`,
        }
      )
    }
  }
  async listRepoBranches(e) {
    try {
      const n = await this._asyncMsgSender.send(
        { type: st.listGithubRepoBranchesRequest, data: { repo: e } },
        1e4,
      )
      return {
        branches: n.data.branches,
        error: n.data.error,
        isDevDeploy: n.data.isDevDeploy,
      }
    } catch (n) {
      return (
        console.error("Failed to list repo branches:", n),
        {
          branches: [],
          error: `Error: ${n instanceof Error ? n.message : String(n)}`,
        }
      )
    }
  }
  async getCurrentLocalBranch() {
    try {
      return (
        await this._asyncMsgSender.send(
          { type: st.getCurrentLocalBranchRequest },
          1e4,
        )
      ).data.branch
    } catch (e) {
      return void console.error("Failed to get current local branch:", e)
    }
  }
  async listBranches(e = "") {
    try {
      return {
        branches: (
          await this._asyncMsgSender.send(
            { type: st.getGitBranchesRequest, data: { prefix: e } },
            1e4,
          )
        ).data.branches,
      }
    } catch (n) {
      return console.error("Failed to fetch branches:", n), { branches: [] }
    }
  }
  async getWorkspaceDiff(e) {
    try {
      return (
        await this._asyncMsgSender.send(
          { type: st.getWorkspaceDiffRequest, data: { branchName: e } },
          1e4,
        )
      ).data.diff
    } catch (n) {
      return console.error("Failed to get workspace diff:", n), ""
    }
  }
  async getRemoteUrl() {
    try {
      return (
        await this._asyncMsgSender.send({ type: st.getRemoteUrlRequest }, 1e4)
      ).data.remoteUrl
    } catch (e) {
      return console.error("Failed to get remote url:", e), ""
    }
  }
  async fetch() {
    try {
      await this._asyncMsgSender.send({ type: st.gitFetchRequest }, 1e4)
    } catch (e) {
      console.error("Failed to fetch remote branch:", e)
    }
  }
  async isGitRepository() {
    try {
      return (
        await this._asyncMsgSender.send(
          { type: st.isGitRepositoryRequest },
          1e4,
        )
      ).data.isGitRepository
    } catch (e) {
      return console.error("Failed to check if is git repository:", e), !1
    }
  }
  async isGithubAuthenticated() {
    try {
      return (
        await this._asyncMsgSender.send(
          { type: st.isGithubAuthenticatedRequest },
          1e4,
        )
      ).data.isAuthenticated
    } catch (e) {
      return (
        console.error("Failed to check GitHub authentication status:", e), !1
      )
    }
  }
  async authenticateGithub() {
    try {
      const e = await this._asyncMsgSender.send(
        { type: st.authenticateGithubRequest },
        1e4,
      )
      return { success: e.data.success, message: e.data.message }
    } catch (e) {
      return (
        console.error("Failed to authenticate with GitHub:", e),
        {
          success: !1,
          message: `Error: ${e instanceof Error ? e.message : String(e)}`,
        }
      )
    }
  }
  async revokeGithubAccess() {
    try {
      const e = await this._asyncMsgSender.send(
        { type: st.revokeGithubAccessRequest },
        1e4,
      )
      return { success: e.data.success, message: e.data.message }
    } catch (e) {
      return (
        console.error("Failed to revoke GitHub access:", e),
        {
          success: !1,
          message: `Error: ${e instanceof Error ? e.message : String(e)}`,
        }
      )
    }
  }
}
Z(mo, "key", "gitReferenceModel")
class tm {
  constructor(e, n = void 0, t, o) {
    Z(this, "subscribers", new Set())
    ;(this._asyncMsgSender = e),
      (this._state = n),
      (this.validateState = t),
      (this._storeId = o),
      n && this.setStateInternal(n)
  }
  subscribe(e) {
    return (
      this.subscribers.add(e),
      e(this),
      () => {
        this.subscribers.delete(e)
      }
    )
  }
  notifySubscribers() {
    this.subscribers.forEach((e) => e(this))
  }
  get state() {
    return this._state
  }
  get storeId() {
    return this._storeId
  }
  shouldAcceptMessage(e, n) {
    return e.id === this.storeId && this.validateState(n)
  }
  update(e) {
    const n = e(this._state)
    n !== void 0 && this.setStateInternal(n)
  }
  setState(e) {
    this.setStateInternal(e)
  }
  async setStateInternal(e) {
    JSON.stringify(this._state) !== JSON.stringify(e) &&
      ((this._state = e),
      await this._asyncMsgSender.send({
        type: st.updateSharedWebviewState,
        data: e,
        id: this.storeId,
      }))
  }
  async fetchStateFromExtension() {
    const e = await this._asyncMsgSender.send({
      type: st.getSharedWebviewState,
      id: this.storeId,
      data: {},
    })
    e.type === st.getSharedWebviewStateResponse &&
      this.shouldAcceptMessage(e, e.data) &&
      ((this._state = e.data), this.notifySubscribers())
  }
  handleMessageFromExtension(e) {
    const n = e.data.type === st.asyncWrapper,
      t = n ? e.data.baseMsg.type : e.data.type,
      o = n ? e.data.baseMsg : e.data
    switch (t) {
      case st.updateSharedWebviewState:
      case st.getSharedWebviewStateResponse:
        return (
          !!this.shouldAcceptMessage(o, o.data) &&
          ((this._state = o.data), this.notifySubscribers(), !0)
        )
      default:
        return !1
    }
  }
}
function nm(s) {
  if (!s) return ""
  const e = s.match(/github\.com\/([^/]+)\/([^/]+)/)
  if (e) return e[2].replace(".git", "")
  const n = s.split("/").filter(Boolean)
  return (n.length > 0 ? n[n.length - 1] : "").replace(".git", "")
}
function om(s) {
  if (!s) return ""
  const e = s.match(/github\.com\/([^/]+)\/([^/]+)/)
  if (e) return `${e[1]}/${e[2].replace(".git", "")}`
  const n = s.split("/").filter(Boolean)
  return n.length > 1
    ? `${n[n.length - 2]}/${n[n.length - 1].replace(".git", "")}`
    : n.length > 0
      ? n[n.length - 1].replace(".git", "")
      : ""
}
class Xo {
  constructor(e, n, t) {
    ;(this._chatModel = e),
      (this._agentConversationModel = n),
      (this._remoteAgentsModel = t),
      this._chatModel.flags.subscribe((o) => {
        o.isRemoteAgentWindow && this.setToRemoteAgent()
      })
  }
  setToChat() {
    this._chatModel.flags.isRemoteAgentWindow ||
      (this._remoteAgentsModel.setIsActive(!1),
      this._agentConversationModel.setToChat(),
      this._agentConversationModel.refreshAutoModeAcceptance(),
      this._chatModel.currentConversationModel.resetTotalCharactersCache())
  }
  async setToAgent(e) {
    this._chatModel.flags.isRemoteAgentWindow ||
      (this._remoteAgentsModel.setIsActive(!1),
      await this._agentConversationModel.setToAgentic(),
      this._chatModel.agentExecutionMode.set(e),
      await this._agentConversationModel.refreshAutoModeAcceptance(),
      this._chatModel.currentConversationModel.resetTotalCharactersCache())
  }
  setToRemoteAgent(e) {
    var n
    if (
      (this._chatModel.flags.isRemoteAgentWindow &&
        (e &&
          this._chatModel.flags.remoteAgentId &&
          e !== this._chatModel.flags.remoteAgentId &&
          (e = this._chatModel.flags.remoteAgentId),
        !e &&
          this._chatModel.flags.remoteAgentId &&
          (e = this._chatModel.flags.remoteAgentId)),
      this._remoteAgentsModel.setIsActive(!0),
      this._agentConversationModel.setToAgentic(),
      e)
    )
      this._remoteAgentsModel.setCurrentAgent(e)
    else if (!((n = this._remoteAgentsModel) != null && n.currentAgent)) {
      const t =
        this._remoteAgentsModel.agentOverviews.length > 0
          ? this._remoteAgentsModel.agentOverviews[0]
          : void 0
      t && this._remoteAgentsModel.setCurrentAgent(t.remote_agent_id)
    }
    this._chatModel.currentConversationModel.resetTotalCharactersCache()
  }
  handleMessageFromExtension(e) {
    const n = e.data
    return (
      n.type === st.remoteAgentSelectAgentId &&
      (this.setToRemoteAgent(n.data.agentId), !0)
    )
  }
}
Z(Xo, "key", "chatModeModel")
function ia(s, e, n) {
  const t = s.slice()
  return (t[68] = e[n]), (t[70] = n), t
}
function aa(s, e, n) {
  const t = s.slice()
  return (t[71] = e[n]), t
}
function ws(s) {
  const e = s.slice(),
    n = e[38](e[71])
  return (e[74] = n), e
}
function rm(s) {
  let e, n
  return (
    (e = new bu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function sm(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "ghost",
        color: "neutral",
        title: "Switch back to chat mode",
        class: "chat-btn",
        $$slots: { default: [rm] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[39]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8192 & o[2] && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function im(s) {
  let e
  return {
    c() {
      e = K("Remote agents")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function ca(s) {
  let e, n, t
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        A(n, "class", "stale-dot svelte-r9xgpu"),
        A(e, "class", "stale-indicator svelte-r9xgpu"),
        A(
          e,
          "title",
          (t =
            "Data may be outdated. Last refreshed " +
            (s[17] > 0 ? Co(new Date(s[17]).toISOString()) : "never")),
        )
    },
    m(o, r) {
      M(o, e, r), B(e, n)
    },
    p(o, r) {
      131072 & r[0] &&
        t !==
          (t =
            "Data may be outdated. Last refreshed " +
            (o[17] > 0 ? Co(new Date(o[17]).toISOString()) : "never")) &&
        A(e, "title", t)
    },
    d(o) {
      o && x(e)
    },
  }
}
function la(s) {
  let e,
    n,
    t,
    o = s[8].idleStatus !== void 0 && ua(s),
    r = s[8].runningStatus !== void 0 && da(s)
  return {
    c() {
      ;(e = F("div")),
        o && o.c(),
        (n = j()),
        r && r.c(),
        A(e, "class", "status-summary svelte-r9xgpu")
    },
    m(i, c) {
      M(i, e, c), o && o.m(e, null), B(e, n), r && r.m(e, null), (t = !0)
    },
    p(i, c) {
      i[8].idleStatus !== void 0
        ? o
          ? (o.p(i, c), 256 & c[0] && d(o, 1))
          : ((o = ua(i)), o.c(), d(o, 1), o.m(e, n))
        : o &&
          (Y(),
          m(o, 1, 1, () => {
            o = null
          }),
          X()),
        i[8].runningStatus !== void 0
          ? r
            ? (r.p(i, c), 256 & c[0] && d(r, 1))
            : ((r = da(i)), r.c(), d(r, 1), r.m(e, null))
          : r &&
            (Y(),
            m(r, 1, 1, () => {
              r = null
            }),
            X())
    },
    i(i) {
      t || (d(o), d(r), (t = !0))
    },
    o(i) {
      m(o), m(r), (t = !1)
    },
    d(i) {
      i && x(e), o && o.d(), r && r.d()
    },
  }
}
function ua(s) {
  let e, n, t, o, r, i, c
  return (
    (r = new Ve({
      props: {
        size: 1,
        color: "secondary",
        $$slots: { default: [am] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          (o = j()),
          w(r.$$.fragment),
          A(
            n,
            "class",
            (t =
              "status-dot status-dot--" +
              s[8].idleStatus.toString() +
              " svelte-r9xgpu"),
          ),
          A(e, "class", "status-summary-item svelte-r9xgpu")
      },
      m(a, l) {
        M(a, e, l), B(e, n), B(e, o), y(r, e, null), (c = !0)
      },
      p(a, l) {
        ;(!c ||
          (256 & l[0] &&
            t !==
              (t =
                "status-dot status-dot--" +
                a[8].idleStatus.toString() +
                " svelte-r9xgpu"))) &&
          A(n, "class", t)
        const u = {}
        ;(256 & l[0]) | (8192 & l[2]) && (u.$$scope = { dirty: l, ctx: a }),
          r.$set(u)
      },
      i(a) {
        c ||
          (d(r.$$.fragment, a),
          a &&
            uo(() => {
              c && (i || (i = xo(e, Mo, { y: 3 }, !0)), i.run(1))
            }),
          (c = !0))
      },
      o(a) {
        m(r.$$.fragment, a),
          a && (i || (i = xo(e, Mo, { y: 3 }, !1)), i.run(0)),
          (c = !1)
      },
      d(a) {
        a && x(e), b(r), a && i && i.end()
      },
    }
  )
}
function am(s) {
  let e,
    n,
    t,
    o = s[8].idle + ""
  return {
    c() {
      ;(e = K("+")),
        (n = K(o)),
        (t = F("span")),
        (t.textContent = "idle"),
        A(t, "class", "status-suffix svelte-r9xgpu")
    },
    m(r, i) {
      M(r, e, i), M(r, n, i), M(r, t, i)
    },
    p(r, i) {
      256 & i[0] && o !== (o = r[8].idle + "") && ze(n, o)
    },
    d(r) {
      r && (x(e), x(n), x(t))
    },
  }
}
function da(s) {
  let e, n, t, o, r, i, c
  return (
    (r = new Ve({
      props: {
        size: 1,
        color: "secondary",
        $$slots: { default: [cm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          (o = j()),
          w(r.$$.fragment),
          A(
            n,
            "class",
            (t =
              "status-dot status-dot--" +
              s[8].runningStatus.toString() +
              " svelte-r9xgpu"),
          ),
          A(e, "class", "status-summary-item svelte-r9xgpu")
      },
      m(a, l) {
        M(a, e, l), B(e, n), B(e, o), y(r, e, null), (c = !0)
      },
      p(a, l) {
        ;(!c ||
          (256 & l[0] &&
            t !==
              (t =
                "status-dot status-dot--" +
                a[8].runningStatus.toString() +
                " svelte-r9xgpu"))) &&
          A(n, "class", t)
        const u = {}
        ;(256 & l[0]) | (8192 & l[2]) && (u.$$scope = { dirty: l, ctx: a }),
          r.$set(u)
      },
      i(a) {
        c ||
          (d(r.$$.fragment, a),
          a &&
            uo(() => {
              c && (i || (i = xo(e, Mo, { y: 3 }, !0)), i.run(1))
            }),
          (c = !0))
      },
      o(a) {
        m(r.$$.fragment, a),
          a && (i || (i = xo(e, Mo, { y: 3 }, !1)), i.run(0)),
          (c = !1)
      },
      d(a) {
        a && x(e), b(r), a && i && i.end()
      },
    }
  )
}
function cm(s) {
  let e,
    n,
    t,
    o = s[8].running + ""
  return {
    c() {
      ;(e = K("+")),
        (n = K(o)),
        (t = F("span")),
        (t.textContent = "running"),
        A(t, "class", "status-suffix svelte-r9xgpu")
    },
    m(r, i) {
      M(r, e, i), M(r, n, i), M(r, t, i)
    },
    p(r, i) {
      256 & i[0] && o !== (o = r[8].running + "") && ze(n, o)
    },
    d(r) {
      r && (x(e), x(n), x(t))
    },
  }
}
function lm(s) {
  let e, n
  return (
    (e = new wu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function um(s) {
  let e, n
  return (
    (e = new Df({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function fa(s) {
  let e,
    n,
    t = [],
    o = new Map(),
    r = ht(s[1])
  const i = (c) => c[71].remote_agent_id
  for (let c = 0; c < r.length; c += 1) {
    let a = aa(s, r, c),
      l = i(a)
    o.set(l, (t[c] = ga(l, a)))
  }
  return {
    c() {
      e = F("div")
      for (let c = 0; c < t.length; c += 1) t[c].c()
      A(e, "class", "agents-list svelte-r9xgpu"),
        ln(e, "height", (s[4] ? s[14] : s[5]) + "px")
    },
    m(c, a) {
      M(c, e, a)
      for (let l = 0; l < t.length; l += 1) t[l] && t[l].m(e, null)
      n = !0
    },
    p(c, a) {
      ;(786562 & a[0]) | (198 & a[1]) &&
        ((r = ht(c[1])),
        Y(),
        (t = Ts(t, a, i, 1, c, r, o, e, ru, ga, null, aa)),
        X()),
        (!n || 16432 & a[0]) && ln(e, "height", (c[4] ? c[14] : c[5]) + "px")
    },
    i(c) {
      if (!n) {
        for (let a = 0; a < r.length; a += 1) d(t[a])
        n = !0
      }
    },
    o(c) {
      for (let a = 0; a < t.length; a += 1) m(t[a])
      n = !1
    },
    d(c) {
      c && x(e)
      for (let a = 0; a < t.length; a += 1) t[a].d()
    },
  }
}
function ma(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: `Repository: ${s[74].fullPath}`,
        $$slots: { default: [dm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o[0] && (r.content = `Repository: ${t[74].fullPath}`),
          (2 & o[0]) | (8192 & o[2]) && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function dm(s) {
  let e,
    n,
    t,
    o,
    r,
    i,
    c,
    a = s[74].name + ""
  return (
    (t = new Bu({})),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          w(t.$$.fragment),
          (o = j()),
          (r = F("div")),
          (i = K(a)),
          A(n, "class", "repo-pill-icon svelte-r9xgpu"),
          A(r, "class", "repo-pill-text svelte-r9xgpu"),
          A(e, "class", "repo-pill svelte-r9xgpu")
      },
      m(l, u) {
        M(l, e, u), B(e, n), y(t, n, null), B(e, o), B(e, r), B(r, i), (c = !0)
      },
      p(l, u) {
        ;(!c || 2 & u[0]) && a !== (a = l[74].name + "") && ze(i, a)
      },
      i(l) {
        c || (d(t.$$.fragment, l), (c = !0))
      },
      o(l) {
        m(t.$$.fragment, l), (c = !1)
      },
      d(l) {
        l && x(e), b(t)
      },
    }
  )
}
function pa(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        content: "Setup Script Agent",
        $$slots: { default: [fm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function fm(s) {
  let e, n, t
  return (
    (n = new ku({})),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "setup-script-badge svelte-r9xgpu")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function mm(s) {
  let e, n
  return (
    (e = new Ve({
      props: {
        size: 1,
        truncate: !0,
        $$slots: { default: [$m] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        ;(2 & o[0]) | (8192 & o[2]) && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function pm(s) {
  let e, n
  return (
    (e = new Ve({
      props: {
        size: 1,
        truncate: !0,
        class: "setup-script-title",
        $$slots: { default: [hm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8192 & o[2] && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $m(s) {
  let e,
    n = s[71].session_summary + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      2 & o[0] && n !== (n = t[71].session_summary + "") && ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function hm(s) {
  let e
  return {
    c() {
      e = K("Generate a setup script")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function gm(s) {
  let e,
    n = Co(s[71].updated_at || s[71].started_at) + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      2 & o[0] &&
        n !== (n = Co(t[71].updated_at || t[71].started_at) + "") &&
        ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function vm(s) {
  let e, n
  return (
    (e = new Yr({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $a(s) {
  let e, n
  return (
    (e = new zu({ props: { agentId: s[71].remote_agent_id } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o[0] && (r.agentId = t[71].remote_agent_id), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ha(s) {
  let e, n, t, o, r, i
  ;(n = new Et({
    props: {
      variant: "ghost-block",
      color: "neutral",
      size: 1,
      disabled: s[19].has(s[71].remote_agent_id),
      title: "Delete agent",
      class: "c-agent-header__delete-btn",
      $$slots: { default: [vm] },
      $$scope: { ctx: s },
    },
  })),
    n.$on("click", function (...a) {
      return s[55](s[71], ...a)
    })
  let c =
    (s[71].status === _n.agentRunning || s[71].status === _n.agentStarting) &&
    $a(s)
  return (
    (r = new ju({ props: { agentId: s[71].remote_agent_id } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          c && c.c(),
          (o = j()),
          w(r.$$.fragment),
          A(e, "class", "agent-actions svelte-r9xgpu")
      },
      m(a, l) {
        M(a, e, l),
          y(n, e, null),
          B(e, t),
          c && c.m(e, null),
          B(e, o),
          y(r, e, null),
          (i = !0)
      },
      p(a, l) {
        s = a
        const u = {}
        524290 & l[0] && (u.disabled = s[19].has(s[71].remote_agent_id)),
          8192 & l[2] && (u.$$scope = { dirty: l, ctx: s }),
          n.$set(u),
          s[71].status === _n.agentRunning || s[71].status === _n.agentStarting
            ? c
              ? (c.p(s, l), 2 & l[0] && d(c, 1))
              : ((c = $a(s)), c.c(), d(c, 1), c.m(e, o))
            : c &&
              (Y(),
              m(c, 1, 1, () => {
                c = null
              }),
              X())
        const p = {}
        2 & l[0] && (p.agentId = s[71].remote_agent_id), r.$set(p)
      },
      i(a) {
        i || (d(n.$$.fragment, a), d(c), d(r.$$.fragment, a), (i = !0))
      },
      o(a) {
        m(n.$$.fragment, a), m(c), m(r.$$.fragment, a), (i = !1)
      },
      d(a) {
        a && x(e), b(n), c && c.d(), b(r)
      },
    }
  )
}
function ga(s, e) {
  let n,
    t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p,
    g,
    h,
    k,
    I,
    C,
    S,
    H,
    O,
    z,
    $e,
    pe,
    re,
    le,
    ue,
    Ee,
    be,
    ee = e[37](e[71]),
    Q = `${e[71].remote_agent_id}-${e[18]}-${e[1].length}`
  c = new em({ props: { status: e[71].status, isExpanded: e[7] > 300 } })
  let ye = ee && ma(ws(e)),
    ge = e[71].is_setup_script_agent && pa(e)
  const ae = [pm, mm],
    se = []
  function xe(rt, He) {
    return rt[71].is_setup_script_agent ? 0 : 1
  }
  ;(h = xe(e)),
    (k = se[h] = ae[h](e)),
    (H = new Ve({
      props: {
        size: 1,
        color: "secondary",
        $$slots: { default: [gm] },
        $$scope: { ctx: e },
      },
    }))
  let tt = ha(e)
  function Ie() {
    return e[56](e[71])
  }
  function Be(...rt) {
    return e[57](e[71], ...rt)
  }
  return {
    key: s,
    first: null,
    c() {
      ;(n = F("div")),
        (t = F("div")),
        (o = F("div")),
        (r = F("div")),
        (i = F("div")),
        w(c.$$.fragment),
        (a = j()),
        ye && ye.c(),
        (l = j()),
        (u = F("div")),
        (p = F("div")),
        ge && ge.c(),
        (g = j()),
        k.c(),
        (C = j()),
        (S = F("div")),
        w(H.$$.fragment),
        (z = j()),
        tt.c(),
        ($e = j()),
        A(i, "class", "agent-status svelte-r9xgpu"),
        A(p, "class", "agent-title-content svelte-r9xgpu"),
        A(u, "class", "agent-title svelte-r9xgpu"),
        A(u, "title", (I = e[71].session_summary)),
        A(r, "class", "agent-details--left svelte-r9xgpu"),
        A(S, "class", "agent-time svelte-r9xgpu"),
        A(
          S,
          "title",
          (O = `${e[71].updated_at ? "Updated" : "Created"} ${Co(e[71].updated_at || e[71].started_at)}`),
        ),
        A(o, "class", "agent-details svelte-r9xgpu"),
        A(t, "class", "agent-content svelte-r9xgpu"),
        A(
          n,
          "class",
          (pe =
            "agent-row " +
            (e[18] === e[71].remote_agent_id ? "agent-row--active" : "") +
            " " +
            (e[71].is_setup_script_agent ? "agent-row--setup-script" : "") +
            " svelte-r9xgpu"),
        ),
        A(n, "role", "button"),
        A(n, "tabindex", "0"),
        (this.first = n)
    },
    m(rt, He) {
      M(rt, n, He),
        B(n, t),
        B(t, o),
        B(o, r),
        B(r, i),
        y(c, i, null),
        B(r, a),
        ye && ye.m(r, null),
        B(r, l),
        B(r, u),
        B(u, p),
        ge && ge.m(p, null),
        B(p, g),
        se[h].m(p, null),
        B(o, C),
        B(o, S),
        y(H, S, null),
        B(t, z),
        tt.m(t, null),
        B(n, $e),
        (ue = !0),
        Ee || ((be = [Oe(n, "click", Ie), Oe(n, "keydown", Be)]), (Ee = !0))
    },
    p(rt, He) {
      e = rt
      const Rt = {}
      2 & He[0] && (Rt.status = e[71].status),
        128 & He[0] && (Rt.isExpanded = e[7] > 300),
        c.$set(Rt),
        2 & He[0] && (ee = e[37](e[71])),
        ee
          ? ye
            ? (ye.p(ws(e), He), 2 & He[0] && d(ye, 1))
            : ((ye = ma(ws(e))), ye.c(), d(ye, 1), ye.m(r, l))
          : ye &&
            (Y(),
            m(ye, 1, 1, () => {
              ye = null
            }),
            X()),
        e[71].is_setup_script_agent
          ? ge
            ? 2 & He[0] && d(ge, 1)
            : ((ge = pa(e)), ge.c(), d(ge, 1), ge.m(p, g))
          : ge &&
            (Y(),
            m(ge, 1, 1, () => {
              ge = null
            }),
            X())
      let P = h
      ;(h = xe(e)),
        h === P
          ? se[h].p(e, He)
          : (Y(),
            m(se[P], 1, 1, () => {
              se[P] = null
            }),
            X(),
            (k = se[h]),
            k ? k.p(e, He) : ((k = se[h] = ae[h](e)), k.c()),
            d(k, 1),
            k.m(p, null)),
        (!ue || (2 & He[0] && I !== (I = e[71].session_summary))) &&
          A(u, "title", I)
      const _ = {}
      ;(2 & He[0]) | (8192 & He[2]) && (_.$$scope = { dirty: He, ctx: e }),
        H.$set(_),
        (!ue ||
          (2 & He[0] &&
            O !==
              (O = `${e[71].updated_at ? "Updated" : "Created"} ${Co(e[71].updated_at || e[71].started_at)}`))) &&
          A(S, "title", O),
        262146 & He[0] &&
        te(Q, (Q = `${e[71].remote_agent_id}-${e[18]}-${e[1].length}`))
          ? (Y(),
            m(tt, 1, 1, N),
            X(),
            (tt = ha(e)),
            tt.c(),
            d(tt, 1),
            tt.m(t, null))
          : tt.p(e, He),
        (!ue ||
          (262146 & He[0] &&
            pe !==
              (pe =
                "agent-row " +
                (e[18] === e[71].remote_agent_id ? "agent-row--active" : "") +
                " " +
                (e[71].is_setup_script_agent ? "agent-row--setup-script" : "") +
                " svelte-r9xgpu"))) &&
          A(n, "class", pe)
    },
    i(rt) {
      ue ||
        (d(c.$$.fragment, rt),
        d(ye),
        d(ge),
        d(k),
        d(H.$$.fragment, rt),
        d(tt),
        rt &&
          uo(() => {
            ue &&
              (le && le.end(1),
              (re = Fd(n, Mo, { x: -2, duration: 100 })),
              re.start())
          }),
        (ue = !0))
    },
    o(rt) {
      m(c.$$.fragment, rt),
        m(ye),
        m(ge),
        m(k),
        m(H.$$.fragment, rt),
        m(tt),
        re && re.invalidate(),
        rt && (le = Dd(n, Mo, { x: -2, duration: 100, delay: 300 })),
        (ue = !1)
    },
    d(rt) {
      rt && x(n),
        b(c),
        ye && ye.d(),
        ge && ge.d(),
        se[h].d(),
        b(H),
        tt.d(rt),
        rt && le && le.end(),
        (Ee = !1),
        Yt(be)
    },
  }
}
function wm(s) {
  let e, n, t
  return (
    (n = new Ve({
      props: {
        size: 1,
        color: "secondary",
        $$slots: { default: [xm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "empty-message svelte-r9xgpu")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        8192 & r[2] && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function ym(s) {
  let e, n, t, o
  const r = [Cm, _m],
    i = []
  function c(a, l) {
    return a[2].length === 0 ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e === u
            ? i[e].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (n = i[e]),
              n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
              d(n, 1),
              n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function bm(s) {
  let e,
    n = [],
    t = new Map(),
    o = ht(s[13])
  const r = (i) => i[70]
  for (let i = 0; i < o.length; i += 1) {
    let c = ia(s, o, i),
      a = r(c)
    t.set(a, (n[i] = va(a)))
  }
  return {
    c() {
      e = F("div")
      for (let i = 0; i < n.length; i += 1) n[i].c()
      A(e, "class", "loading-state svelte-r9xgpu")
    },
    m(i, c) {
      M(i, e, c)
      for (let a = 0; a < n.length; a += 1) n[a] && n[a].m(e, null)
    },
    p(i, c) {
      8192 & c[0] &&
        ((o = ht(i[13])), (n = Ts(n, c, r, 1, i, o, t, e, qd, va, null, ia)))
    },
    i: N,
    o: N,
    d(i) {
      i && x(e)
      for (let c = 0; c < n.length; c += 1) n[c].d()
    },
  }
}
function xm(s) {
  let e
  return {
    c() {
      e = K("Create a new agent to get started.")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function _m(s) {
  let e, n, t, o, r
  return (
    (n = new Ws({})),
    (o = new Ve({
      props: {
        size: 1,
        color: "error",
        $$slots: { default: [Mm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          w(o.$$.fragment),
          A(e, "class", "error-banner svelte-r9xgpu")
      },
      m(i, c) {
        M(i, e, c), y(n, e, null), B(e, t), y(o, e, null), (r = !0)
      },
      p(i, c) {
        const a = {}
        ;(8 & c[0]) | (8192 & c[2]) && (a.$$scope = { dirty: c, ctx: i }),
          o.$set(a)
      },
      i(i) {
        r || (d(n.$$.fragment, i), d(o.$$.fragment, i), (r = !0))
      },
      o(i) {
        m(n.$$.fragment, i), m(o.$$.fragment, i), (r = !1)
      },
      d(i) {
        i && x(e), b(n), b(o)
      },
    }
  )
}
function Cm(s) {
  let e, n, t, o, r
  return (
    (n = new Ws({})),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = K(`
          Failed to load threads. `)),
          (o = K(s[3])),
          A(e, "class", "error-message svelte-r9xgpu")
      },
      m(i, c) {
        M(i, e, c), y(n, e, null), B(e, t), B(e, o), (r = !0)
      },
      p(i, c) {
        ;(!r || 8 & c[0]) && ze(o, i[3])
      },
      i(i) {
        r || (d(n.$$.fragment, i), (r = !0))
      },
      o(i) {
        m(n.$$.fragment, i), (r = !1)
      },
      d(i) {
        i && x(e), b(n)
      },
    }
  )
}
function Mm(s) {
  let e
  return {
    c() {
      e = K(s[3])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      8 & t[0] && ze(e, n[3])
    },
    d(n) {
      n && x(e)
    },
  }
}
function va(s, e) {
  let n
  return {
    key: s,
    first: null,
    c() {
      ;(n = F("div")),
        (n.innerHTML =
          '<div class="agent-content svelte-r9xgpu"><div class="agent-details svelte-r9xgpu"><div class="agent-details--left svelte-r9xgpu"><div class="agent-status svelte-r9xgpu"><div class="skeleton-dot svelte-r9xgpu"></div></div> <div class="skeleton-text svelte-r9xgpu"></div></div></div></div> '),
        A(n, "class", "agent-row skeleton-row svelte-r9xgpu"),
        (this.first = n)
    },
    m(t, o) {
      M(t, n, o)
    },
    p(t, o) {},
    d(t) {
      t && x(n)
    },
  }
}
function Am(s) {
  let e,
    n,
    t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p,
    g,
    h,
    k,
    I,
    C,
    S,
    H,
    O,
    z,
    $e,
    pe,
    re,
    le,
    ue,
    Ee
  uo(s[53]),
    (c = new wt({
      props: {
        content: "Switch back to chat mode",
        triggerOn: [Lt.Hover],
        delayDurationMs: 10,
        side: "bottom",
        $$slots: { default: [sm] },
        $$scope: { ctx: s },
      },
    })),
    (l = new Ve({
      props: {
        size: 1,
        color: "secondary",
        class: "header-text-main",
        $$slots: { default: [im] },
        $$scope: { ctx: s },
      },
    }))
  let be = s[9] && !s[11] && ca(s),
    ee = s[8] && la(s)
  ;(k = new Et({
    props: {
      variant: "ghost",
      color: "neutral",
      size: 1,
      title: "New Agent",
      $$slots: { default: [lm] },
      $$scope: { ctx: s },
    },
  })),
    k.$on("click", s[34]),
    (C = new Et({
      props: {
        variant: "ghost",
        color: s[16] ? "accent" : "neutral",
        size: 1,
        title: "Show Agents in Fullscreen",
        $$slots: { default: [um] },
        $$scope: { ctx: s },
      },
    })),
    C.$on("click", s[54])
  let Q = !s[12] && !s[10] && fa(s)
  const ye = [bm, ym, wm],
    ge = []
  function ae(se, xe) {
    return se[12] ? 0 : se[11] ? 1 : se[10] ? 2 : -1
  }
  return (
    ~(O = ae(s)) && (z = ge[O] = ye[O](s)),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          (t = F("div")),
          (o = F("div")),
          (r = F("div")),
          (i = F("div")),
          w(c.$$.fragment),
          (a = j()),
          w(l.$$.fragment),
          (u = j()),
          be && be.c(),
          (p = j()),
          (g = F("div")),
          ee && ee.c(),
          (h = j()),
          w(k.$$.fragment),
          (I = j()),
          w(C.$$.fragment),
          (S = j()),
          Q && Q.c(),
          (H = j()),
          z && z.c(),
          ($e = j()),
          (pe = F("div")),
          (pe.innerHTML =
            '<div class="resize-handle-line svelte-r9xgpu"></div>'),
          A(i, "class", "header-text svelte-r9xgpu"),
          A(r, "class", "header-left svelte-r9xgpu"),
          A(g, "class", "header-right svelte-r9xgpu"),
          A(o, "class", "header svelte-r9xgpu"),
          A(t, "class", "agents-list-container svelte-r9xgpu"),
          A(t, "role", "region"),
          A(t, "aria-label", "Remote agents list"),
          je(t, "is-dragging", s[6]),
          je(t, "is-hovered", s[4]),
          A(pe, "class", "resize-handle svelte-r9xgpu"),
          A(pe, "role", "separator"),
          A(pe, "title", "Drag to resize"),
          je(pe, "resize-handle--dragging", s[6]),
          A(n, "class", "remote-agent-threads svelte-r9xgpu"),
          uo(() => s[58].call(n)),
          A(e, "class", "remote-agent-threads-container svelte-r9xgpu")
      },
      m(se, xe) {
        M(se, e, xe),
          B(e, n),
          B(n, t),
          B(t, o),
          B(o, r),
          B(r, i),
          y(c, i, null),
          B(i, a),
          y(l, i, null),
          B(i, u),
          be && be.m(i, null),
          B(o, p),
          B(o, g),
          ee && ee.m(g, null),
          B(g, h),
          y(k, g, null),
          B(g, I),
          y(C, g, null),
          B(t, S),
          Q && Q.m(t, null),
          B(n, H),
          ~O && ge[O].m(n, null),
          B(n, $e),
          B(n, pe),
          (re = Nd(n, s[58].bind(n))),
          (le = !0),
          ue ||
            ((Ee = [
              Oe(window, "mousemove", s[30]),
              Oe(window, "mouseup", s[31]),
              Oe(window, "resize", s[26]),
              Oe(window, "focus", s[35]),
              Oe(window, "blur", s[36]),
              Oe(window, "resize", s[53]),
              Oe(t, "mouseenter", s[27]),
              Oe(t, "mouseleave", s[28]),
              Oe(pe, "mousedown", s[29]),
            ]),
            (ue = !0))
      },
      p(se, xe) {
        const tt = {}
        8192 & xe[2] && (tt.$$scope = { dirty: xe, ctx: se }), c.$set(tt)
        const Ie = {}
        8192 & xe[2] && (Ie.$$scope = { dirty: xe, ctx: se }),
          l.$set(Ie),
          se[9] && !se[11]
            ? be
              ? be.p(se, xe)
              : ((be = ca(se)), be.c(), be.m(i, null))
            : be && (be.d(1), (be = null)),
          se[8]
            ? ee
              ? (ee.p(se, xe), 256 & xe[0] && d(ee, 1))
              : ((ee = la(se)), ee.c(), d(ee, 1), ee.m(g, h))
            : ee &&
              (Y(),
              m(ee, 1, 1, () => {
                ee = null
              }),
              X())
        const Be = {}
        8192 & xe[2] && (Be.$$scope = { dirty: xe, ctx: se }), k.$set(Be)
        const rt = {}
        65536 & xe[0] && (rt.color = se[16] ? "accent" : "neutral"),
          8192 & xe[2] && (rt.$$scope = { dirty: xe, ctx: se }),
          C.$set(rt),
          se[12] || se[10]
            ? Q &&
              (Y(),
              m(Q, 1, 1, () => {
                Q = null
              }),
              X())
            : Q
              ? (Q.p(se, xe), 5120 & xe[0] && d(Q, 1))
              : ((Q = fa(se)), Q.c(), d(Q, 1), Q.m(t, null)),
          (!le || 64 & xe[0]) && je(t, "is-dragging", se[6]),
          (!le || 16 & xe[0]) && je(t, "is-hovered", se[4])
        let He = O
        ;(O = ae(se)),
          O === He
            ? ~O && ge[O].p(se, xe)
            : (z &&
                (Y(),
                m(ge[He], 1, 1, () => {
                  ge[He] = null
                }),
                X()),
              ~O
                ? ((z = ge[O]),
                  z ? z.p(se, xe) : ((z = ge[O] = ye[O](se)), z.c()),
                  d(z, 1),
                  z.m(n, $e))
                : (z = null)),
          (!le || 64 & xe[0]) && je(pe, "resize-handle--dragging", se[6])
      },
      i(se) {
        le ||
          (d(c.$$.fragment, se),
          d(l.$$.fragment, se),
          d(ee),
          d(k.$$.fragment, se),
          d(C.$$.fragment, se),
          d(Q),
          d(z),
          (le = !0))
      },
      o(se) {
        m(c.$$.fragment, se),
          m(l.$$.fragment, se),
          m(ee),
          m(k.$$.fragment, se),
          m(C.$$.fragment, se),
          m(Q),
          m(z),
          (le = !1)
      },
      d(se) {
        se && x(e),
          b(c),
          b(l),
          be && be.d(),
          ee && ee.d(),
          b(k),
          b(C),
          Q && Q.d(),
          ~O && ge[O].d(),
          re(),
          (ue = !1),
          Yt(Ee)
      },
    }
  )
}
const Bo = 25
function Tr(s) {
  var e, n, t
  return (
    ((t =
      (n = (e = s.workspace_setup) == null ? void 0 : e.starting_files) == null
        ? void 0
        : n.github_commit_ref) == null
      ? void 0
      : t.repository_url) || ""
  )
}
function km(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p,
    g,
    h,
    k,
    I,
    C,
    S,
    H,
    O,
    z,
    $e,
    pe,
    re,
    le,
    ue,
    Ee,
    be,
    ee,
    Q,
    ye,
    ge,
    ae,
    se = N
  s.$$.on_destroy.push(() => se())
  const xe = Xe(_o.key)
  Ge(s, xe, (ie) => n(51, (ye = ie)))
  const tt = Xe(yu)
  Ge(s, tt, (ie) => n(52, (ge = ie)))
  const Ie = Xe(mo.key),
    Be = Xe(Xo.key),
    rt = Xe(Vo) ?? Ct(Gr),
    He = Ct("")
  Ge(s, He, (ie) => n(61, (Ee = ie))),
    Gn(async () => {
      try {
        const ie = await Ie.getRemoteUrl()
        He.set(ie)
      } catch (ie) {
        console.error("Failed to get current repository URL:", ie)
      }
    })
  const Rt = Ct(!1)
  Ge(s, Rt, (ie) => n(4, (be = ie)))
  const P = Ct(new Set())
  Ge(s, P, (ie) => n(19, (ae = ie)))
  let _,
    L,
    U = !1,
    G = Ct(Bo)
  Ge(s, G, (ie) => n(5, (Q = ie)))
  let ce = 0,
    me = 0,
    Re = !1
  const We = () => {
      if (ce > 0 && !U && !Re) {
        const ie = Math.min(ce > 700 ? 100 : ce > 600 ? 75 : 50, p, g)
        G.set(ie)
      } else Ho(G, (Q = Math.min(Q, p, Math.floor(ce - 250))), Q)
    },
    qe = cu.debounce(We, 100)
  async function De(ie) {
    P.update((Ae) => {
      const we = new Set(Ae)
      return we.add(ie), we
    })
    try {
      await xe.deleteAgent(ie),
        n(2, (o = o.filter((Ae) => Ae.remote_agent_id !== ie)))
    } finally {
      P.update((Ae) => {
        const we = new Set(Ae)
        return we.delete(ie), we
      })
    }
  }
  function Ce(ie) {
    xe.setCurrentAgent(ie)
  }
  return (
    (s.$$.update = () => {
      var ie
      1048576 & s.$$.dirty[1] && n(18, (t = ye.currentAgentId)),
        1048576 & s.$$.dirty[1] && n(2, (o = ye.agentOverviews || [])),
        1048576 & s.$$.dirty[1] && n(3, (r = ye.agentThreadsError)),
        1048576 & s.$$.dirty[1] && n(47, (i = ye.isLoading)),
        1048576 & s.$$.dirty[1] && n(46, (c = ye.hasFetchedOnce)),
        1048576 & s.$$.dirty[1] && n(17, (a = ye.lastSuccessfulOverviewFetch)),
        2097152 & s.$$.dirty[1] &&
          n(
            16,
            (l =
              (ie = ge.state) == null
                ? void 0
                : ie.activeWebviews.includes("home")),
          ),
        4 & s.$$.dirty[0] && n(49, (p = o.length * Bo)),
        (33 & s.$$.dirty[0]) | (262144 & s.$$.dirty[1]) &&
          n(14, (g = Math.max(Q, Math.min(p, Math.floor(ce - 250))))),
        (1 & s.$$.dirty[0]) | (512 & s.$$.dirty[1]) && ce > 0 && !Re && We(),
        4 & s.$$.dirty[0] && n(48, (h = o.length)),
        131072 & s.$$.dirty[1] && We(),
        98304 & s.$$.dirty[1] && n(12, (I = i && !c)),
        (8 & s.$$.dirty[0]) | (32768 & s.$$.dirty[1]) && n(11, (C = !!r && c)),
        (4 & s.$$.dirty[0]) | (32768 & s.$$.dirty[1]) &&
          n(10, (S = o.length === 0 && c)),
        1048576 & s.$$.dirty[1] && n(9, (H = ye.agentThreadsError)),
        32 & s.$$.dirty[0] &&
          n(45, (O = Q > 1 ? Math.round(Math.max(0, Q) / Bo) : 0)),
        524288 & s.$$.dirty[1] &&
          n(
            42,
            (z = [...ee.sameRepo, ...ee.otherRepos].sort((Ae, we) => {
              const lt = new Date(Ae.updated_at || Ae.started_at)
              return (
                new Date(we.updated_at || we.started_at).getTime() -
                lt.getTime()
              )
            })),
          ),
        2048 & s.$$.dirty[1] && n(44, ($e = z.length)),
        24576 & s.$$.dirty[1] && n(43, (pe = Math.min(O, $e))),
        (16 & s.$$.dirty[0]) | (6144 & s.$$.dirty[1]) &&
          n(1, (re = be ? z : z.slice(0, pe))),
        (2 & s.$$.dirty[0]) | (2048 & s.$$.dirty[1]) &&
          n(41, (le = z.slice(re.length))),
        1024 & s.$$.dirty[1] &&
          n(
            8,
            (ue = ((Ae) => {
              const we = Ae.filter((yt) => yt.status === _n.agentIdle),
                lt = Ae.filter((yt) => yt.status === _n.agentRunning)
              return {
                idle: we.length,
                running: lt.length,
                idleStatus: we.length > 0 ? _n.agentIdle : void 0,
                runningStatus: lt.length > 0 ? _n.agentRunning : void 0,
              }
            })(le)),
          )
    }),
    n(
      15,
      (u = Jt([He, xe], ([ie, Ae]) => {
        const we = [...(Ae.agentOverviews || [])].sort((lt, yt) => {
          const nn = new Date(lt.updated_at || lt.started_at)
          return (
            new Date(yt.updated_at || yt.started_at).getTime() - nn.getTime()
          )
        })
        if (Ae.currentAgentId) {
          const lt = we.findIndex(
            (yt) => yt.remote_agent_id === Ae.currentAgentId,
          )
          if (lt > 0) {
            const yt = we.splice(lt, 1)[0]
            we.unshift(yt)
          }
        }
        return {
          sameRepo: we.filter((lt) => {
            const yt = Tr(lt)
            return yt && ie && yt === ie
          }),
          otherRepos: we.filter((lt) => {
            const yt = Tr(lt)
            return !yt || !ie || yt !== ie
          }),
        }
      })),
    ),
    se(),
    (se = mt(u, (ie) => n(50, (ee = ie)))),
    n(13, (k = Array(3).fill(null))),
    [
      ce,
      re,
      o,
      r,
      be,
      Q,
      U,
      me,
      ue,
      H,
      S,
      C,
      I,
      k,
      g,
      u,
      l,
      a,
      t,
      ae,
      xe,
      tt,
      He,
      Rt,
      P,
      G,
      qe,
      function () {
        Rt.set(!0)
      },
      function (ie) {
        const Ae = ie.relatedTarget
        ;(Ae &&
          (Ae.closest(".l-dropdown-menu-augment__contents") ||
            Ae.closest(".dropdown-container") ||
            document.querySelector(
              ".l-dropdown-menu-augment__contents.is-open",
            ))) ||
          Rt.set(!1)
      },
      function (ie) {
        n(6, (U = !0)), (_ = ie.clientY), (L = Q), ie.preventDefault()
      },
      function (ie) {
        if (!U) return
        const Ae = ie.clientY - _,
          we = L + Ae,
          lt = Math.round(we / Bo) * Bo
        Ho(G, (Q = Math.max(25, Math.min(g, lt))), Q)
      },
      function () {
        U && n(40, (Re = !0)), n(6, (U = !1))
      },
      De,
      Ce,
      function () {
        xe.setCurrentAgent(void 0)
      },
      function () {
        xe.setIsPanelFocused(!0)
      },
      function () {
        xe.setIsPanelFocused(!1)
      },
      function (ie) {
        const Ae = Tr(ie)
        return !!Ae && !!Ee && Ae !== Ee
      },
      function (ie) {
        const Ae = Tr(ie)
        return { name: nm(Ae), fullPath: om(Ae) }
      },
      () => {
        Be.setToChat(), Wo(rt, xe)
      },
      Re,
      le,
      z,
      pe,
      $e,
      O,
      c,
      i,
      h,
      p,
      ee,
      ye,
      ge,
      function () {
        n(0, (ce = window.innerHeight))
      },
      () => {
        l ? xe.closeRemoteAgentHomePanel() : xe.showRemoteAgentHomePanel()
      },
      (ie, Ae) => {
        Ae.stopPropagation(), De(ie.remote_agent_id)
      },
      (ie) => Ce(ie.remote_agent_id),
      (ie, Ae) => Ae.key === "Enter" && Ce(ie.remote_agent_id),
      function () {
        ;(me = this.clientWidth), n(7, me)
      },
    ]
  )
}
class Em extends ne {
  constructor(e) {
    super(), oe(this, e, km, Am, te, {}, null, [-1, -1, -1])
  }
}
const Im = (s) => ({}),
  wa = (s) => ({ slot: "icon" }),
  Sm = (s) => ({}),
  ya = (s) => ({ slot: "icon" })
function Tm(s) {
  let e, n
  return (
    (e = new Mn({
      props: {
        variant: "soft",
        size: 1,
        color: s[0],
        $$slots: { icon: [Nm], default: [Pm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.color = t[0]),
          74 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Lm(s) {
  let e, n, t, o
  return (
    (e = new Mn({
      props: {
        variant: "soft",
        size: 1,
        color: s[0],
        $$slots: { default: [Fm] },
        $$scope: { ctx: s },
      },
    })),
    (t = new Mn({
      props: {
        variant: "soft",
        size: 1,
        color: "info",
        $$slots: { icon: [Om], default: [Dm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1 & i && (c.color = r[0]),
          66 & i && (c.$$scope = { dirty: i, ctx: r }),
          e.$set(c)
        const a = {}
        68 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function ba(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        variant: "ghost",
        color: "neutral",
        size: 1,
        $$slots: { default: [Rm] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[5]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        64 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Rm(s) {
  let e, n
  return (
    (e = new Jo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Pm(s) {
  let e, n, t, o
  n = new Io({ props: { markdown: s[1] } })
  let r = !!s[3] && ba(s)
  return {
    c() {
      ;(e = F("div")),
        w(n.$$.fragment),
        (t = j()),
        r && r.c(),
        A(e, "class", "c-callout-wrapper svelte-fh6sa8")
    },
    m(i, c) {
      M(i, e, c), y(n, e, null), B(e, t), r && r.m(e, null), (o = !0)
    },
    p(i, c) {
      const a = {}
      2 & c && (a.markdown = i[1]),
        n.$set(a),
        i[3]
          ? r
            ? (r.p(i, c), 8 & c && d(r, 1))
            : ((r = ba(i)), r.c(), d(r, 1), r.m(e, null))
          : r &&
            (Y(),
            m(r, 1, 1, () => {
              r = null
            }),
            X())
    },
    i(i) {
      o || (d(n.$$.fragment, i), d(r), (o = !0))
    },
    o(i) {
      m(n.$$.fragment, i), m(r), (o = !1)
    },
    d(i) {
      i && x(e), b(n), r && r.d()
    },
  }
}
function Nm(s) {
  let e
  const n = s[4].icon,
    t = Ze(n, s, s[6], wa)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 64 & r) &&
        Je(t, n, o, o[6], e ? et(n, o[6], r, Im) : Qe(o[6]), wa)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function Fm(s) {
  let e, n
  return (
    (e = new Io({ props: { markdown: s[1] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.markdown = t[1]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Dm(s) {
  let e, n
  return (
    (e = new Io({ props: { markdown: s[2] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.markdown = t[2]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Om(s) {
  let e
  const n = s[4].icon,
    t = Ze(n, s, s[6], ya)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 64 & r) &&
        Je(t, n, o, o[6], e ? et(n, o[6], r, Sm) : Qe(o[6]), ya)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function zm(s) {
  let e, n, t, o, r
  const i = [Lm, Tm],
    c = []
  function a(p, g) {
    return p[2] ? 0 : 1
  }
  ;(n = a(s)), (t = c[n] = i[n](s))
  const l = s[4].default,
    u = Ze(l, s, s[6], null)
  return {
    c() {
      ;(e = F("div")),
        t.c(),
        (o = j()),
        u && u.c(),
        A(e, "class", "c-base-card svelte-fh6sa8")
    },
    m(p, g) {
      M(p, e, g), c[n].m(e, null), B(e, o), u && u.m(e, null), (r = !0)
    },
    p(p, [g]) {
      let h = n
      ;(n = a(p)),
        n === h
          ? c[n].p(p, g)
          : (Y(),
            m(c[h], 1, 1, () => {
              c[h] = null
            }),
            X(),
            (t = c[n]),
            t ? t.p(p, g) : ((t = c[n] = i[n](p)), t.c()),
            d(t, 1),
            t.m(e, o)),
        u &&
          u.p &&
          (!r || 64 & g) &&
          Je(u, l, p, p[6], r ? et(l, p[6], g, null) : Qe(p[6]), null)
    },
    i(p) {
      r || (d(t), d(u, p), (r = !0))
    },
    o(p) {
      m(t), m(u, p), (r = !1)
    },
    d(p) {
      p && x(e), c[n].d(), u && u.d(p)
    },
  }
}
function Bm(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { color: r } = e,
    { description: i } = e,
    { callout: c } = e,
    { onClose: a } = e
  return (
    (s.$$set = (l) => {
      "color" in l && n(0, (r = l.color)),
        "description" in l && n(1, (i = l.description)),
        "callout" in l && n(2, (c = l.callout)),
        "onClose" in l && n(3, (a = l.onClose)),
        "$$scope" in l && n(6, (o = l.$$scope))
    }),
    [r, i, c, a, t, () => a(), o]
  )
}
let Jr = class extends ne {
  constructor(s) {
    super(),
      oe(this, s, Bm, zm, te, {
        color: 0,
        description: 1,
        callout: 2,
        onClose: 3,
      })
  }
}
function jm(s) {
  let e
  return {
    c() {
      ;(e = F("div")),
        (e.innerHTML = '<div class="c-progress-bar__bar svelte-dg8hvh"></div>'),
        A(e, "class", "c-progress-bar svelte-dg8hvh")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    i: N,
    o: N,
    d(n) {
      n && x(e)
    },
  }
}
class Hu extends ne {
  constructor(e) {
    super(), oe(this, e, null, jm, te, {})
  }
}
function xa(s, e, n) {
  const t = s.slice()
  return (t[9] = e[n].text), (t[10] = e[n].action), (t[11] = e[n].appearance), t
}
const Hm = (s) => ({}),
  _a = (s) => ({ slot: "icon" })
function Um(s) {
  let e,
    n,
    t = s[9] + ""
  return {
    c() {
      ;(e = K(t)), (n = j())
    },
    m(o, r) {
      M(o, e, r), M(o, n, r)
    },
    p(o, r) {
      4 & r && t !== (t = o[9] + "") && ze(e, t)
    },
    d(o) {
      o && (x(e), x(n))
    },
  }
}
function Ca(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 2,
        variant: "solid",
        color: s[11] ? s[11] : "accent",
        class: "c-btns-card__button",
        title: s[9],
        $$slots: { default: [Um] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      return s[7](s[10])
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        4 & o && (r.color = s[11] ? s[11] : "accent"),
          4 & o && (r.title = s[9]),
          260 & o && (r.$$scope = { dirty: o, ctx: s }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ma(s) {
  let e, n
  return (
    (e = new Hu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Wm(s) {
  let e,
    n,
    t,
    o,
    r = ht(s[2]),
    i = []
  for (let l = 0; l < r.length; l += 1) i[l] = Ca(xa(s, r, l))
  const c = (l) =>
    m(i[l], 1, 1, () => {
      i[l] = null
    })
  let a = s[3] && Ma()
  return {
    c() {
      e = F("div")
      for (let l = 0; l < i.length; l += 1) i[l].c()
      ;(n = j()),
        a && a.c(),
        (t = he()),
        A(e, "class", "c-btns-card__buttons svelte-1701q2d")
    },
    m(l, u) {
      M(l, e, u)
      for (let p = 0; p < i.length; p += 1) i[p] && i[p].m(e, null)
      M(l, n, u), a && a.m(l, u), M(l, t, u), (o = !0)
    },
    p(l, u) {
      if (36 & u) {
        let p
        for (r = ht(l[2]), p = 0; p < r.length; p += 1) {
          const g = xa(l, r, p)
          i[p]
            ? (i[p].p(g, u), d(i[p], 1))
            : ((i[p] = Ca(g)), i[p].c(), d(i[p], 1), i[p].m(e, null))
        }
        for (Y(), p = r.length; p < i.length; p += 1) c(p)
        X()
      }
      l[3]
        ? a
          ? 8 & u && d(a, 1)
          : ((a = Ma()), a.c(), d(a, 1), a.m(t.parentNode, t))
        : a &&
          (Y(),
          m(a, 1, 1, () => {
            a = null
          }),
          X())
    },
    i(l) {
      if (!o) {
        for (let u = 0; u < r.length; u += 1) d(i[u])
        d(a), (o = !0)
      }
    },
    o(l) {
      i = i.filter(Boolean)
      for (let u = 0; u < i.length; u += 1) m(i[u])
      m(a), (o = !1)
    },
    d(l) {
      l && (x(e), x(n), x(t)), fn(i, l), a && a.d(l)
    },
  }
}
function qm(s) {
  let e
  const n = s[6].icon,
    t = Ze(n, s, s[8], _a)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 256 & r) &&
        Je(t, n, o, o[8], e ? et(n, o[8], r, Hm) : Qe(o[8]), _a)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function Gm(s) {
  let e, n
  return (
    (e = new Jr({
      props: {
        color: s[1],
        description: s[0],
        callout: s[4],
        $$slots: { icon: [qm], default: [Wm] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        2 & o && (r.color = t[1]),
          1 & o && (r.description = t[0]),
          16 & o && (r.callout = t[4]),
          268 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Vm(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { description: r } = e,
    { color: i } = e,
    { buttons: c = [] } = e,
    { inProgress: a = !1 } = e,
    { callout: l } = e
  function u(p) {
    dn.postMessage({ type: st.mainPanelPerformAction, data: p })
  }
  return (
    (s.$$set = (p) => {
      "description" in p && n(0, (r = p.description)),
        "color" in p && n(1, (i = p.color)),
        "buttons" in p && n(2, (c = p.buttons)),
        "inProgress" in p && n(3, (a = p.inProgress)),
        "callout" in p && n(4, (l = p.callout)),
        "$$scope" in p && n(8, (o = p.$$scope))
    }),
    [r, i, c, a, l, u, t, (p) => u(p), o]
  )
}
let er = class extends ne {
  constructor(s) {
    super(),
      oe(this, s, Vm, Gm, te, {
        description: 0,
        color: 1,
        buttons: 2,
        inProgress: 3,
        callout: 4,
      })
  }
}
function Ym(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(n, "fill-rule", "evenodd"),
        A(n, "clip-rule", "evenodd"),
        A(
          n,
          "d",
          "M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",
        ),
        A(n, "fill", "currentColor"),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "0 0 15 15"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class $o extends ne {
  constructor(e) {
    super(), oe(this, e, null, Ym, te, {})
  }
}
function Xm(s) {
  return { c: N, m: N, p: N, i: N, o: N, d: N }
}
function Km(s) {
  let e, n
  return (
    (e = new Jr({
      props: {
        color: "warning",
        description:
          "Current workspace contains your home directory. Augment cannot upload your home directory to the cloud. Please open a different workspace",
        $$slots: { icon: [op] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Zm(s) {
  let e, n
  return (
    (e = new Jr({
      props: {
        color: "warning",
        description: `The workspace you have opened exceeds Augment's ${s[1].maxTrackableFileCount} file upload limit. Please use a .augmentignore or .gitignore to exclude files from being uploaded, or open a smaller workspace.`,
        $$slots: { icon: [rp] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o &&
          (r.description = `The workspace you have opened exceeds Augment's ${t[1].maxTrackableFileCount} file upload limit. Please use a .augmentignore or .gitignore to exclude files from being uploaded, or open a smaller workspace.`),
          8 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Jm(s) {
  let e, n
  return (
    (e = new er({
      props: {
        color: "neutral",
        description:
          "To provide the best quality responses, Augment will index your code in our secure cloud. Your data always stays secure and private. [Learn More](https://docs.augmentcode.com/setup-augment/workspace-indexing)",
        callout:
          s[2].userTier === "community"
            ? "You are subscribed to the Community plan, we may use any code you share to train our AI models."
            : void 0,
        buttons: [{ text: "Enable Indexing", action: "grant-sync-permission" }],
        $$slots: { icon: [sp] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o &&
          (r.callout =
            t[2].userTier === "community"
              ? "You are subscribed to the Community plan, we may use any code you share to train our AI models."
              : void 0),
          8 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Qm(s) {
  let e, n
  return (
    (e = new er({
      props: {
        color: "warning",
        description:
          "Codeium suggestions will collide with Augment's suggestions. Turn off Codeium to fix this.",
        buttons: [{ text: "Disable Codeium", action: "disable-codeium" }],
        $$slots: { icon: [ip] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ep(s) {
  let e, n
  return (
    (e = new er({
      props: {
        color: "warning",
        description:
          "GitHub Copilot suggestions will collide with Augment's suggestions. Turn off Copilot to fix this.",
        buttons: [
          { text: "Disable Github Copilot", action: "disable-github-copilot" },
        ],
        $$slots: { icon: [ap] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function tp(s) {
  let e, n
  return (
    (e = new er({
      props: {
        color: "neutral",
        description: "Please complete the sign-in process in your browser.",
        buttons: [
          { text: "Cancel", action: "cancel-sign-in", appearance: "neutral" },
        ],
        inProgress: !0,
        $$slots: { icon: [cp] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function np(s) {
  let e, n
  return (
    (e = new er({
      props: {
        color: "neutral",
        description:
          "Welcome to Augment! Sign in to your existing account or create a new one to get started.",
        buttons: [{ text: "Start using Augment", action: "sign-in" }],
        $$slots: { icon: [lp] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function op(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function rp(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function sp(s) {
  let e, n
  return (
    (e = new $o({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ip(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ap(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function cp(s) {
  let e, n
  return (
    (e = new $o({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function lp(s) {
  let e, n
  return (
    (e = new $o({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function up(s) {
  let e, n, t, o
  const r = [np, tp, ep, Qm, Jm, Zm, Km, Xm],
    i = []
  function c(a, l) {
    return a[0] === Tt.signInRequired
      ? 0
      : a[0] === Us.signInInProgress
        ? 1
        : a[0] === Tt.disableCopilot
          ? 2
          : a[0] === Tt.disableCodeium
            ? 3
            : a[0] === Tt.syncingPermissionNeeded
              ? 4
              : a[0] === Tt.workspaceTooLarge
                ? 5
                : a[0] === Tt.uploadingHomeDir
                  ? 6
                  : a[0] === Tt.allActionsComplete
                    ? 7
                    : -1
  }
  return (
    ~(e = c(s)) && (n = i[e] = r[e](s)),
    {
      c() {
        n && n.c(), (t = he())
      },
      m(a, l) {
        ~e && i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, [l]) {
        let u = e
        ;(e = c(a)),
          e === u
            ? ~e && i[e].p(a, l)
            : (n &&
                (Y(),
                m(i[u], 1, 1, () => {
                  i[u] = null
                }),
                X()),
              ~e
                ? ((n = i[e]),
                  n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
                  d(n, 1),
                  n.m(t.parentNode, t))
                : (n = null))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), ~e && i[e].d(a)
      },
    }
  )
}
function dp(s, e, n) {
  let t,
    o = N,
    r = () => (o(), (o = mt(c, (a) => n(2, (t = a)))), c)
  s.$$.on_destroy.push(() => o())
  let { card: i } = e,
    { flagsModel: c } = e
  return (
    r(),
    (s.$$set = (a) => {
      "card" in a && n(0, (i = a.card)),
        "flagsModel" in a && r(n(1, (c = a.flagsModel)))
    }),
    [i, c, t]
  )
}
let fp = class extends ne {
  constructor(s) {
    super(), oe(this, s, dp, up, te, { card: 0, flagsModel: 1 })
  }
}
var mp = K1,
  pp = /\s/,
  $p = function (s) {
    for (var e = s.length; e-- && pp.test(s.charAt(e)); );
    return e
  },
  hp = /^\s+/,
  gp = Z1,
  vp = J1,
  wp = function (s) {
    return s && s.slice(0, $p(s) + 1).replace(hp, "")
  },
  Aa = Bs,
  yp = function (s) {
    return typeof s == "symbol" || (vp(s) && gp(s) == "[object Symbol]")
  },
  bp = /^[-+]0x[0-9a-f]+$/i,
  xp = /^0b[01]+$/i,
  _p = /^0o[0-7]+$/i,
  Cp = parseInt,
  Mp = Bs,
  ys = function () {
    return mp.Date.now()
  },
  ka = function (s) {
    if (typeof s == "number") return s
    if (yp(s)) return NaN
    if (Aa(s)) {
      var e = typeof s.valueOf == "function" ? s.valueOf() : s
      s = Aa(e) ? e + "" : e
    }
    if (typeof s != "string") return s === 0 ? s : +s
    s = wp(s)
    var n = xp.test(s)
    return n || _p.test(s) ? Cp(s.slice(2), n ? 2 : 8) : bp.test(s) ? NaN : +s
  },
  Ap = Math.max,
  kp = Math.min,
  Ep = function (s, e, n) {
    var t,
      o,
      r,
      i,
      c,
      a,
      l = 0,
      u = !1,
      p = !1,
      g = !0
    if (typeof s != "function") throw new TypeError("Expected a function")
    function h(H) {
      var O = t,
        z = o
      return (t = o = void 0), (l = H), (i = s.apply(z, O))
    }
    function k(H) {
      var O = H - a
      return a === void 0 || O >= e || O < 0 || (p && H - l >= r)
    }
    function I() {
      var H = ys()
      if (k(H)) return C(H)
      c = setTimeout(
        I,
        (function (O) {
          var z = e - (O - a)
          return p ? kp(z, r - (O - l)) : z
        })(H),
      )
    }
    function C(H) {
      return (c = void 0), g && t ? h(H) : ((t = o = void 0), i)
    }
    function S() {
      var H = ys(),
        O = k(H)
      if (((t = arguments), (o = this), (a = H), O)) {
        if (c === void 0)
          return (function (z) {
            return (l = z), (c = setTimeout(I, e)), u ? h(z) : i
          })(a)
        if (p) return clearTimeout(c), (c = setTimeout(I, e)), h(a)
      }
      return c === void 0 && (c = setTimeout(I, e)), i
    }
    return (
      (e = ka(e) || 0),
      Mp(n) &&
        ((u = !!n.leading),
        (r = (p = "maxWait" in n) ? Ap(ka(n.maxWait) || 0, e) : r),
        (g = "trailing" in n ? !!n.trailing : g)),
      (S.cancel = function () {
        c !== void 0 && clearTimeout(c), (l = 0), (t = a = o = c = void 0)
      }),
      (S.flush = function () {
        return c === void 0 ? i : C(ys())
      }),
      S
    )
  },
  Ip = Ep,
  Sp = Bs,
  Tp = function (s, e, n) {
    var t = !0,
      o = !0
    if (typeof s != "function") throw new TypeError("Expected a function")
    return (
      Sp(n) &&
        ((t = "leading" in n ? !!n.leading : t),
        (o = "trailing" in n ? !!n.trailing : o)),
      Ip(s, e, { leading: t, maxWait: e, trailing: o })
    )
  }
const Uu = Od(Tp)
class Lp {
  constructor(e, n, t) {
    Z(this, "_agenticExchangeStatus", Ct(Rr.notRunning))
    Z(this, "_isCurrConversationAgentic", Ct(!1))
    Z(this, "_isAutoModeApproved", Ct(!1))
    Z(this, "_showAutoModeWarning")
    Z(this, "_hasEverUsedAgent", Ct(void 0))
    Z(this, "_classifiedMemoriesMap", new Map())
    Z(this, "_disposers", [])
    Z(
      this,
      "isAgenticTurnComplete",
      Jt(this._agenticExchangeStatus, (e) => e === Rr.notRunning),
    )
    Z(this, "_lastConversation", Ct({ chat: void 0, agent: void 0 }))
    Z(this, "_shouldCreateNewConversation", () => {
      const e = this._chatModel.currentConversationModel
      return !xn.isEmpty(e)
    })
    Z(this, "setToAgentic", async () => {
      if (Bt(this._chatModel.currentConversationModel)) return
      const e = this._shouldCreateNewConversation(),
        n = ft(this._lastConversation).agent
      let t
      if (
        (this._lastConversation.update(() => ({
          chat: this._chatModel.currentConversationModel.id,
          agent: void 0,
        })),
        e || !n)
      ) {
        const r = await this._create()
        ;(r.extraData = { isAgentConversation: !0 }),
          this._chatModel.deleteInvalidConversations("agent"),
          this._chatModel.currentConversationModel.setConversation(r),
          (t = r.id)
      } else this._chatModel.setCurrentConversation(n), (t = n)
      this._chatModel.extensionClient.reportAgentSessionEvent({
        eventName: Dr.openedAgentConversation,
        conversationId: t,
      })
      const o = this._chatModel.currentConversationModel.subscribe(
        async (r) => {
          ;(await this._maybeTriggerWelcomeMessage(r.id)) && o()
        },
      )
    })
    Z(this, "setToChat", () => {
      if (!Bt(this._chatModel.currentConversationModel)) return
      const e = this._shouldCreateNewConversation(),
        n = ft(this._lastConversation).chat
      if (
        (this._lastConversation.update(() => ({
          chat: void 0,
          agent: this._chatModel.currentConversationModel.id,
        })),
        e || !n)
      ) {
        const t = { ...xn.create(), extraData: { isAgentConversation: !1 } }
        this._chatModel.deleteInvalidConversations("chat"),
          this._chatModel.currentConversationModel.setConversation(t)
      } else this._chatModel.setCurrentConversation(n)
    })
    Z(this, "_maybeTriggerWelcomeMessage", async (e) => {
      var o
      const n = this._chatModel.currentConversationModel
      if (n.id !== e) return !1
      if (
        (await this.refreshHasEverUsedAgent(),
        !xn.isEmpty(n) ||
          xn.isNamed(n) ||
          ((o = n.extraData) == null ? void 0 : o.hasAgentOnboarded) ||
          ft(this._hasEverUsedAgent) ||
          (this.setHasEverUsedAgent(!0),
          n.setName("Welcome to the Augment Agent"),
          (n.extraData = { isAgentConversation: !0, hasAgentOnboarded: !0 }),
          !su()))
      )
        return !0
      const t = await this._chatModel.extensionClient.getAgentOnboardingPrompt()
      return (
        await n.sendExchange({
          chatItemType: Pn.agentOnboarding,
          request_message: t,
          status: Ft.draft,
        }),
        !0
      )
    })
    Z(this, "markDirty", () => {
      const e = this._chatModel.currentConversationModel
      e.extraData = { ...e.extraData, hasDirtyEdits: !0 }
    })
    Z(this, "markClean", () => {
      const e = this._chatModel.currentConversationModel
      e.extraData = { ...e.extraData, hasDirtyEdits: !1 }
    })
    Z(this, "_findAgentic", () =>
      this._chatModel.orderedConversations().find(Bt),
    )
    Z(this, "_findChat", () =>
      this._chatModel.orderedConversations().find((e) => !Bt(e)),
    )
    Z(this, "_create", async () => ({
      ...xn.create({
        personaType:
          await this._chatModel.currentConversationModel.decidePersonaType(),
      }),
      extraData: { isAgentConversation: !0, baselineTimestamp: 0 },
    }))
    Z(this, "updateBaselineTimestamp", (e) => {
      const n = Math.min(e, Date.now()),
        t = this._chatModel.currentConversationModel
      Bt(t) && (t.extraData = { ...t.extraData, baselineTimestamp: n })
    })
    Z(this, "getBaselineTimestamp", () => {
      const e = this._chatModel.currentConversationModel
      return Bt(e) ? (e.extraData.baselineTimestamp ?? 0) : 0
    })
    Z(
      this,
      "getConversationId",
      () => this._chatModel.currentConversationModel.id,
    )
    Z(this, "interruptAgent", async () => {
      await this._toolsModel.interruptAllTools(),
        await this._chatModel.currentConversationModel.cancelMessage()
      const e = this._chatModel.currentConversationModel.lastExchange
      e != null &&
        e.request_id &&
        this._classifiedMemoriesMap.delete(e.request_id)
    })
    Z(this, "_resetStateToDefaultValues", () => {
      this.setHasEverUsedAgent(!1),
        this._chatModel.extensionClient.setAgentAutoModeApproved(!1),
        this._isAutoModeApproved.set(!1),
        this._chatModel.agentExecutionMode.set(In.manual)
    })
    Z(this, "acceptAutoMode", () => {
      this._chatModel.extensionClient.setAgentAutoModeApproved(!0),
        this._isAutoModeApproved.set(!0),
        this._chatModel.agentExecutionMode.set(In.auto)
    })
    Z(this, "refreshAutoModeAcceptance", async () => {
      const e =
        await this._chatModel.extensionClient.checkAgentAutoModeApproval()
      this._isAutoModeApproved.set(e)
    })
    Z(this, "rejectAutoMode", () => {
      this._chatModel.extensionClient.setAgentAutoModeApproved(!1),
        this._isAutoModeApproved.set(!1),
        this._chatModel.agentExecutionMode.set(In.manual)
    })
    Z(this, "setHasEverUsedAgent", (e) => {
      this._chatModel.extensionClient.setHasEverUsedAgent(e),
        this._hasEverUsedAgent.set(e)
    })
    Z(this, "refreshHasEverUsedAgent", async () => {
      if (ft(this.hasEverUsedAgent) !== void 0) return
      const e = await this._chatModel.extensionClient.checkHasEverUsedAgent()
      ft(this.hasEverUsedAgent) === void 0 && this._hasEverUsedAgent.set(e)
    })
    var i
    ;(this._chatModel = e),
      (this._toolsModel = n),
      (this._checkpointStore = t),
      this._checkpointStore.registerAgentConversationModel(this)
    const o = Object.values(this._chatModel.conversations).some((c) => {
        var a
        return (a = c.extraData) == null ? void 0 : a.isAgentConversation
      }),
      r =
        ((i = this._chatModel.currentConversationModel.extraData) == null
          ? void 0
          : i.isAgentConversation) === !0
    ;(o || r) && this.setHasEverUsedAgent(!0),
      this.refreshAutoModeAcceptance(),
      this.refreshHasEverUsedAgent(),
      (this._showAutoModeWarning = Jt(
        [
          this._isAutoModeApproved,
          this._chatModel.agentExecutionMode,
          this._isCurrConversationAgentic,
        ],
        ([c, a, l]) => !c && a === In.auto && l,
      )),
      this._disposers.push(
        this._chatModel.currentConversationModel.subscribe(() => {
          const c = this._chatModel.currentConversationModel,
            a = Bt(c)
          this._isCurrConversationAgentic.set(a)
        }),
      ),
      this._disposers.push(
        this._chatModel.currentConversationModel.subscribe(
          Uu(
            () => {
              const c = Kd(this._chatModel.currentConversationModel)
              this._agenticExchangeStatus.set(c)
            },
            1e3,
            { leading: !0, trailing: !0 },
          ),
        ),
      ),
      this._disposers.push(
        this._isCurrConversationAgentic.subscribe((c) => {
          c
            ? (this._chatModel.extensionClient.setChatMode(Wi.agent),
              this._chatModel.specialContextInputModel.enableAgentMemories())
            : (this._chatModel.extensionClient.setChatMode(Wi.chat),
              this._chatModel.specialContextInputModel.disableAgentMemories()),
            this._agenticExchangeStatus.set(Rr.notRunning)
        }),
      ),
      this._disposers.push(
        this._chatModel.currentConversationModel.onBeforeChangeConversation(
          (c, a) => {
            var l
            if (Bt(c))
              return (
                xn.isEmpty(a) &&
                  ((l = a.extraData) == null
                    ? void 0
                    : l.isAgentConversation) !== !1 &&
                  this._chatModel.conversations[a.id] === void 0 &&
                  (a = {
                    ...a,
                    extraData: { ...a.extraData, isAgentConversation: !0 },
                  }),
                a
              )
          },
        ),
      ),
      this._disposers.push(
        this._chatModel.currentConversationModel.subscribe((c) => {
          const a = c.lastExchange,
            l = this._chatModel.flags.memoryClassificationOnFirstToken
          a &&
            a.request_id &&
            l &&
            (a.status === Ft.sent &&
              a.response_text &&
              a.response_text.length > 0 &&
              !this._classifiedMemoriesMap.has(a.request_id) &&
              (this._classifiedMemoriesMap.set(a.request_id, !0), Vi(c, a)),
            !a.request_id ||
              (a.status !== Ft.success &&
                a.status !== Ft.failed &&
                a.status !== Ft.cancelled) ||
              this._classifiedMemoriesMap.delete(a.request_id))
        }),
      ),
      this._disposers.push(
        this._chatModel.currentConversationModel.onSendExchange((c) => {
          this._chatModel.flags.memoryClassificationOnFirstToken ||
            Vi(this._chatModel.currentConversationModel, c)
        }),
      ),
      this._disposers.push(
        this._chatModel.currentConversationModel.onNewConversation(() => {
          const c = this._chatModel.currentConversationModel.id
          this._chatModel.extensionClient.setCurrentConversation(c),
            Bt(this._chatModel.currentConversationModel) &&
              !this._chatModel.currentConversationModel.chatHistory.some(lu) &&
              this._checkpointStore.maybeCreateOriginalCheckpoint()
        }),
      ),
      this._chatModel.extensionClient.setCurrentConversation(
        this._chatModel.currentConversationModel.id,
      ),
      this._disposers.push(
        this.isAgenticTurnComplete.subscribe((c) => {
          var p, g
          if (!c || !Bt(this._chatModel.currentConversationModel)) return
          const a = this._chatModel.currentConversationModel,
            l = Zd(a)
          if (!l) return
          const u = Gd.create()
          u.setFlag(Xn.start)
          try {
            const h = (p = Jd(a)) == null ? void 0 : p.request_id
            h && u.setRequestId(Xn.lastUserExchangeRequestId, h)
            const { memoriesRequestId: k, memory: I } = l
            if ((u.setRequestId(Xn.memoriesRequestId, k), !I))
              return void u.setFlag(Xn.emptyMemory)
            if (Qd(a)) return void u.setFlag(Xn.agenticTurnHasRememberToolCall)
            if (
              (this._chatModel.extensionClient.callTool(
                ((g = a.lastExchange) == null ? void 0 : g.request_id) ?? "",
                "remember",
                "remember",
                {
                  memory: I,
                  caller: qi.classify_and_distill,
                  isComplexNewMemory: !1,
                  memoriesRequestId: k,
                },
                a.chatHistory.filter((C) => Or(C)).map(_s),
                a.id,
              ),
              h)
            ) {
              const C = e1(a, h)
              u.setFlag(Xn.removeUserExchangeMemoryFailed, !C)
            }
          } catch {
            u.setFlag(Xn.exceptionThrown)
          } finally {
            u.setFlag(Xn.end),
              this._chatModel.extensionClient.reportAgentSessionEvent({
                eventName: Dr.flushMemories,
                conversationId: this._chatModel.currentConversationModel.id,
                eventData: { flushMemoriesData: u },
              })
          }
        }),
      ),
      this._disposers.push(
        this.isAgenticTurnComplete.subscribe(async (c) => {
          if (c) {
            const a = ft(this._checkpointStore.currentCheckpoint),
              l = ft(this._chatModel.currentConversationModel).id
            ;(await this._chatModel.extensionClient.hasChangesSince(
              (a == null ? void 0 : a.fromTimestamp) ??
                this.getBaselineTimestamp(),
            )) &&
              l === ft(this._chatModel.currentConversationModel).id &&
              this._checkpointStore.createNewCheckpoint()
          }
        }),
      ),
      this._disposers.push(
        this._checkpointStore.targetCheckpointSummary.subscribe(() => {
          ft(this._checkpointStore.targetCheckpointHasChanges)
            ? this.markDirty()
            : this.markClean()
        }),
      )
  }
  get isCurrConversationAgentic() {
    return this._isCurrConversationAgentic
  }
  get agentExchangeStatus() {
    return this._agenticExchangeStatus
  }
  async distillMemory(e) {
    const n = this._chatModel.currentConversationModel.chatHistory.find(
      (o) => t1(o) && o.request_id === e,
    )
    if (!(n != null && n.request_message)) return
    const { responseText: t } =
      await this._chatModel.currentConversationModel.sendSilentExchange({
        request_message: n.request_message,
        disableRetrieval: !0,
        disableHistory: !1,
        disableSelectedCodeDetails: !0,
        memoriesInfo: { isDistill: !0 },
      })
    try {
      const o = JSON.parse(t)
      o.content &&
        (await this._chatModel.extensionClient.callTool(
          e,
          "remember",
          "remember",
          {
            memory: o.content,
            caller: qi.classify_and_distill,
            isComplexNewMemory: !1,
          },
          this._chatModel.currentConversationModel.chatHistory
            .filter(Or)
            .map(_s),
          this._chatModel.currentConversationModel.id,
        ))
    } catch (o) {
      console.warn("Failed to parse JSON from distill memory response", o)
    }
  }
  async resetOnboarding() {
    this._resetStateToDefaultValues()
    const e = this._chatModel.currentConversationModel
    Bt(e) &&
      ((e.extraData = { ...e.extraData, hasAgentOnboarded: !1 }),
      await this._maybeTriggerWelcomeMessage(e.id))
  }
  get showAutoModeWarning() {
    return this._showAutoModeWarning
  }
  get hasEverUsedAgent() {
    return this._hasEverUsedAgent
  }
  dispose() {
    this._disposers.forEach((e) => e()),
      (this._disposers = []),
      this._classifiedMemoriesMap.clear()
  }
}
function Ea(s) {
  let e, n
  return (
    (e = new Jr({
      props: {
        color: "accent",
        description: "Agent Mode is now available",
        onClose: s[5],
        $$slots: { icon: [Np], default: [Pp] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.onClose = t[5]),
          65 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Rp(s) {
  let e
  return {
    c() {
      e = K("Try it out")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Pp(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 2,
        variant: "solid",
        color: "accent",
        title: "Try it out",
        $$slots: { default: [Rp] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[4]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        64 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Np(s) {
  let e, n
  return (
    (e = new $o({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Fp(s) {
  let e,
    n,
    t = s[0] && Ea(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, [r]) {
      o[0]
        ? t
          ? (t.p(o, r), 1 & r && d(t, 1))
          : ((t = Ea(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function Dp(s, e, n) {
  let t,
    o,
    r,
    i = N
  s.$$.on_destroy.push(() => i())
  const c = Xe("agentConversationModel")
  return (
    (s.$$.update = () => {
      8 & s.$$.dirty && n(0, (o = r === !1))
    }),
    n(1, (t = c.hasEverUsedAgent)),
    i(),
    (i = mt(t, (a) => n(3, (r = a)))),
    [
      o,
      t,
      c,
      r,
      async () => {
        n(0, (o = !1)), await c.setToAgentic()
      },
      async () => {
        n(0, (o = !1)), c.setHasEverUsedAgent(!0)
      },
    ]
  )
}
class Op extends ne {
  constructor(e) {
    super(), oe(this, e, Dp, Fp, te, {})
  }
}
function zp(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 448 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M337 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-143 143L97 127c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l80 80c9.4 9.4 24.6 9.4 33.9 0zm104 120c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-247 247L41 295c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L143 465c9.4 9.4 24.6 9.4 33.9 0z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 448 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Bp(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Wu extends ne {
  constructor(e) {
    super(), oe(this, e, Bp, zp, te, {})
  }
}
function jp(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 512 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M135 369c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-87-87L424 248c22.1 0 40 17.9 40 40v168c0 13.3 10.7 24 24 24s24-10.7 24-24V288c0-48.6-39.4-88-88-88H81.9l87-87c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L7 207c-9.4 9.4-9.4 24.6 0 33.9z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 512 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Hp(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class qu extends ne {
  constructor(e) {
    super(), oe(this, e, Hp, jp, te, {})
  }
}
function Up(s) {
  let e, n, t
  return (
    (e = new qu({})),
    {
      c() {
        w(e.$$.fragment),
          (n = K(`
      Discard All`))
      },
      m(o, r) {
        y(e, o, r), M(o, n, r), (t = !0)
      },
      i(o) {
        t || (d(e.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(n), b(e, o)
      },
    }
  )
}
function Wp(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: s[0] ? "Discard all changes" : "No changes to undo",
        $$slots: { default: [Up] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o &&
          (r.content = t[0] ? "Discard all changes" : "No changes to undo"),
          32 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function qp(s) {
  let e, n, t
  return (
    (e = new Wu({})),
    {
      c() {
        w(e.$$.fragment),
          (n = K(`
      Keep All`))
      },
      m(o, r) {
        y(e, o, r), M(o, n, r), (t = !0)
      },
      i(o) {
        t || (d(e.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(n), b(e, o)
      },
    }
  )
}
function Gp(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: s[0]
          ? "Keep all changes and clear checkpoints"
          : "No changes to keep",
        $$slots: { default: [qp] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o &&
          (r.content = t[0]
            ? "Keep all changes and clear checkpoints"
            : "No changes to keep"),
          32 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Vp(s) {
  let e, n, t, o, r
  return (
    (n = new _t({
      props: {
        class: "c-bottom-controls__revert-btn",
        variant: "soft",
        color: "neutral",
        size: 1,
        disabled: !s[0],
        $$slots: { default: [Wp] },
        $$scope: { ctx: s },
      },
    })),
    n.$on("click", s[2]),
    (o = new _t({
      props: {
        class: "c-bottom-controls__accept-btn",
        variant: "soft",
        color: "success",
        size: 1,
        disabled: !s[0],
        $$slots: { default: [Gp] },
        $$scope: { ctx: s },
      },
    })),
    o.$on("click", s[3]),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          w(o.$$.fragment),
          A(e, "class", "c-bottom-controls svelte-1pc5clx")
      },
      m(i, c) {
        M(i, e, c), y(n, e, null), B(e, t), y(o, e, null), (r = !0)
      },
      p(i, [c]) {
        const a = {}
        1 & c && (a.disabled = !i[0]),
          33 & c && (a.$$scope = { dirty: c, ctx: i }),
          n.$set(a)
        const l = {}
        1 & c && (l.disabled = !i[0]),
          33 & c && (l.$$scope = { dirty: c, ctx: i }),
          o.$set(l)
      },
      i(i) {
        r || (d(n.$$.fragment, i), d(o.$$.fragment, i), (r = !0))
      },
      o(i) {
        m(n.$$.fragment, i), m(o.$$.fragment, i), (r = !1)
      },
      d(i) {
        i && x(e), b(n), b(o)
      },
    }
  )
}
function Yp(s, e, n) {
  let t
  const o = Xe("checkpointStore"),
    { targetCheckpointHasChanges: r } = o
  return (
    Ge(s, r, (i) => n(0, (t = i))),
    [
      t,
      r,
      async function () {
        await o.rejectAll()
      },
      async function () {
        await o.acceptAll()
      },
    ]
  )
}
class Xp extends ne {
  constructor(e) {
    super(), oe(this, e, Yp, Vp, te, {})
  }
}
function Kp(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(
          n,
          "d",
          "M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",
        ),
        A(n, "fill", "currentColor"),
        A(n, "fill-rule", "evenodd"),
        A(n, "clip-rule", "evenodd"),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "0 0 15 15"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class Zp extends ne {
  constructor(e) {
    super(), oe(this, e, null, Kp, te, {})
  }
}
function Jp(s) {
  let e, n
  return (
    (e = new n1({ props: { slot: "rightIcon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Qp(s) {
  let e, n
  return (
    (e = new Kt({
      props: {
        class: "edit-item__filespan",
        size: 1,
        filepath: s[0].relPath,
        $$slots: { rightIcon: [Jp] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.filepath = t[0].relPath),
          256 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function e$(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        delayDurationMs: 1500,
        triggerOn: [Lt.Hover],
        content: s[0].relPath,
        $$slots: { default: [Qp] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.content = t[0].relPath),
          257 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ia(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 1,
        variant: "ghost",
        color: "neutral",
        $$slots: { default: [n$] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[4]) && s[4].apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        258 & o && (r.$$scope = { dirty: o, ctx: s }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function t$(s) {
  let e, n
  return (
    (e = new uu({
      props: {
        totalAddedLines: s[1].totalAddedLines,
        totalRemovedLines: s[1].totalRemovedLines,
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.totalAddedLines = t[1].totalAddedLines),
          2 & o && (r.totalRemovedLines = t[1].totalRemovedLines),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function n$(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: "View Diff",
        $$slots: { default: [t$] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        258 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Sa(s) {
  let e, n, t, o
  const r = [r$, o$],
    i = []
  function c(a, l) {
    return a[3] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e === u
            ? i[e].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (n = i[e]),
              n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
              d(n, 1),
              n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function o$(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "ghost",
        color: "neutral",
        $$slots: { default: [c$] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[7]) && s[7].apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        260 & o && (r.$$scope = { dirty: o, ctx: s }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function r$(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: "Changes applied",
        class: "edit-item__controls-container__applied",
        $$slots: { default: [u$] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        256 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function s$(s) {
  let e, n
  return (
    (e = new Zp({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function i$(s) {
  let e, n
  return (
    (e = new Eo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function a$(s) {
  let e, n, t, o
  const r = [i$, s$],
    i = []
  function c(a, l) {
    return a[2] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function c$(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: s[2] ? "Applying changes..." : "Apply changes",
        $$slots: { default: [a$] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.content = t[2] ? "Applying changes..." : "Apply changes"),
          260 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function l$(s) {
  let e, n, t
  return (
    (n = new Zo({})),
    {
      c() {
        ;(e = K(`Applied
            `)),
          w(n.$$.fragment)
      },
      m(o, r) {
        M(o, e, r), y(n, o, r), (t = !0)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n, o)
      },
    }
  )
}
function u$(s) {
  let e, n
  return (
    (e = new Ve({
      props: { size: 1, $$slots: { default: [l$] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        256 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ta(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "ghost",
        color: "neutral",
        $$slots: { default: [f$] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[5]) && s[5].apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        256 & o && (r.$$scope = { dirty: o, ctx: s }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function d$(s) {
  let e, n
  return (
    (e = new du({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function f$(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: "Open File",
        $$slots: { default: [d$] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        256 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function La(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "ghost",
        color: "neutral",
        $$slots: { default: [p$] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[6]) && s[6].apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        256 & o && (r.$$scope = { dirty: o, ctx: s }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function m$(s) {
  let e, n
  return (
    (e = new Yr({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function p$(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: "Undo Changes",
        $$slots: { default: [m$] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        256 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $$(s) {
  let e, n, t, o, r, i, c, a, l
  ;(t = new _t({
    props: {
      class: "edit-item__file-button",
      size: 1,
      variant: "ghost",
      color: "neutral",
      $$slots: { default: [e$] },
      $$scope: { ctx: s },
    },
  })),
    t.$on("click", function () {
      kt(s[4]) && s[4].apply(this, arguments)
    })
  let u = s[1] && Ia(s),
    p = s[7] && Sa(s),
    g = s[5] && Ta(s),
    h = s[6] && La(s)
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        w(t.$$.fragment),
        (o = j()),
        u && u.c(),
        (r = j()),
        (i = F("div")),
        p && p.c(),
        (c = j()),
        g && g.c(),
        (a = j()),
        h && h.c(),
        A(n, "class", "edit-item__info-container"),
        A(i, "class", "edit-item__controls-container"),
        A(e, "class", "edit-item__container svelte-17yiovs")
    },
    m(k, I) {
      M(k, e, I),
        B(e, n),
        y(t, n, null),
        B(e, o),
        u && u.m(e, null),
        B(e, r),
        B(e, i),
        p && p.m(i, null),
        B(i, c),
        g && g.m(i, null),
        B(i, a),
        h && h.m(i, null),
        (l = !0)
    },
    p(k, [I]) {
      s = k
      const C = {}
      257 & I && (C.$$scope = { dirty: I, ctx: s }),
        t.$set(C),
        s[1]
          ? u
            ? (u.p(s, I), 2 & I && d(u, 1))
            : ((u = Ia(s)), u.c(), d(u, 1), u.m(e, r))
          : u &&
            (Y(),
            m(u, 1, 1, () => {
              u = null
            }),
            X()),
        s[7]
          ? p
            ? (p.p(s, I), 128 & I && d(p, 1))
            : ((p = Sa(s)), p.c(), d(p, 1), p.m(i, c))
          : p &&
            (Y(),
            m(p, 1, 1, () => {
              p = null
            }),
            X()),
        s[5]
          ? g
            ? (g.p(s, I), 32 & I && d(g, 1))
            : ((g = Ta(s)), g.c(), d(g, 1), g.m(i, a))
          : g &&
            (Y(),
            m(g, 1, 1, () => {
              g = null
            }),
            X()),
        s[6]
          ? h
            ? (h.p(s, I), 64 & I && d(h, 1))
            : ((h = La(s)), h.c(), d(h, 1), h.m(i, null))
          : h &&
            (Y(),
            m(h, 1, 1, () => {
              h = null
            }),
            X())
    },
    i(k) {
      l || (d(t.$$.fragment, k), d(u), d(p), d(g), d(h), (l = !0))
    },
    o(k) {
      m(t.$$.fragment, k), m(u), m(p), m(g), m(h), (l = !1)
    },
    d(k) {
      k && x(e), b(t), u && u.d(), p && p.d(), g && g.d(), h && h.d()
    },
  }
}
function h$(s, e, n) {
  let { qualifiedPathName: t } = e,
    { lineChanges: o } = e,
    { isApplyPending: r = !1 } = e,
    { hasApplied: i = !1 } = e,
    { onClickReview: c } = e,
    { onClickFile: a } = e,
    { onClickRevert: l } = e,
    { onApplyChanges: u } = e
  return (
    (s.$$set = (p) => {
      "qualifiedPathName" in p && n(0, (t = p.qualifiedPathName)),
        "lineChanges" in p && n(1, (o = p.lineChanges)),
        "isApplyPending" in p && n(2, (r = p.isApplyPending)),
        "hasApplied" in p && n(3, (i = p.hasApplied)),
        "onClickReview" in p && n(4, (c = p.onClickReview)),
        "onClickFile" in p && n(5, (a = p.onClickFile)),
        "onClickRevert" in p && n(6, (l = p.onClickRevert)),
        "onApplyChanges" in p && n(7, (u = p.onApplyChanges))
    }),
    [t, o, r, i, c, a, l, u]
  )
}
class g$ extends ne {
  constructor(e) {
    super(),
      oe(this, e, h$, $$, te, {
        qualifiedPathName: 0,
        lineChanges: 1,
        isApplyPending: 2,
        hasApplied: 3,
        onClickReview: 4,
        onClickFile: 5,
        onClickRevert: 6,
        onApplyChanges: 7,
      })
  }
}
function v$(s) {
  let e,
    n,
    t,
    o,
    r = s[0] === 1 ? "" : "s"
  return {
    c() {
      ;(e = K(s[0])), (n = K(" file")), (t = K(r)), (o = K(" changed"))
    },
    m(i, c) {
      M(i, e, c), M(i, n, c), M(i, t, c), M(i, o, c)
    },
    p(i, c) {
      1 & c && ze(e, i[0]),
        1 & c && r !== (r = i[0] === 1 ? "" : "s") && ze(t, r)
    },
    d(i) {
      i && (x(e), x(n), x(t), x(o))
    },
  }
}
function Ra(s) {
  let e, n, t
  return (
    (n = new uu({
      props: {
        totalAddedLines: s[1].totalAddedLines,
        totalRemovedLines: s[1].totalRemovedLines,
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-agent-edits-header__summary")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        2 & r && (i.totalAddedLines = o[1].totalAddedLines),
          2 & r && (i.totalRemovedLines = o[1].totalRemovedLines),
          n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Pa(s) {
  let e, n, t, o, r
  return (
    (n = new _t({
      props: {
        class: "c-agent-edits-header__revert-btn",
        variant: "soft",
        color: "neutral",
        size: 1,
        $$slots: { default: [y$] },
        $$scope: { ctx: s },
      },
    })),
    n.$on("click", function () {
      kt(s[4]) && s[4].apply(this, arguments)
    }),
    (o = new _t({
      props: {
        class: "c-agent-edits-header__accept-btn",
        variant: "soft",
        color: "success",
        size: 1,
        $$slots: { default: [x$] },
        $$scope: { ctx: s },
      },
    })),
    o.$on("click", function () {
      kt(s[5]) && s[5].apply(this, arguments)
    }),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          w(o.$$.fragment),
          A(e, "class", "c-agent-edits-header__actions")
      },
      m(i, c) {
        M(i, e, c), y(n, e, null), B(e, t), y(o, e, null), (r = !0)
      },
      p(i, c) {
        s = i
        const a = {}
        64 & c && (a.$$scope = { dirty: c, ctx: s }), n.$set(a)
        const l = {}
        64 & c && (l.$$scope = { dirty: c, ctx: s }), o.$set(l)
      },
      i(i) {
        r || (d(n.$$.fragment, i), d(o.$$.fragment, i), (r = !0))
      },
      o(i) {
        m(n.$$.fragment, i), m(o.$$.fragment, i), (r = !1)
      },
      d(i) {
        i && x(e), b(n), b(o)
      },
    }
  )
}
function w$(s) {
  let e, n, t, o
  return (
    (e = new qu({})),
    {
      c() {
        w(e.$$.fragment),
          (n = j()),
          (t = F("span")),
          (t.textContent = "Discard All"),
          A(t, "class", "c-agent-edits-header__revert-btn__text")
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), M(r, t, i), (o = !0)
      },
      p: N,
      i(r) {
        o || (d(e.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && (x(n), x(t)), b(e, r)
      },
    }
  )
}
function y$(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: "Discard all changes",
        $$slots: { default: [w$] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        64 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function b$(s) {
  let e, n, t, o
  return (
    (e = new Wu({})),
    {
      c() {
        w(e.$$.fragment),
          (n = j()),
          (t = F("span")),
          (t.textContent = "Keep All"),
          A(t, "class", "c-agent-edits-header__accept-btn__text")
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), M(r, t, i), (o = !0)
      },
      p: N,
      i(r) {
        o || (d(e.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && (x(n), x(t)), b(e, r)
      },
    }
  )
}
function x$(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: "Keep all changes and clear checkpoints",
        $$slots: { default: [b$] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        64 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function _$(s) {
  let e, n, t, o, r, i, c, a
  ;(t = new Y1({ props: { class: "c-agent-edits-header__collapse-btn" } })),
    (r = new xu({
      props: {
        class: "c-agent-edits-header__info-container",
        size: 1,
        $$slots: { text: [v$] },
        $$scope: { ctx: s },
      },
    }))
  let l = s[3] && Ra(s),
    u = s[2] && s[3] && Pa(s)
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        w(t.$$.fragment),
        (o = j()),
        w(r.$$.fragment),
        (i = j()),
        l && l.c(),
        (c = j()),
        u && u.c(),
        A(n, "class", "c-agent-edits-header__content"),
        A(e, "class", "c-agent-edits-header svelte-r2jrog")
    },
    m(p, g) {
      M(p, e, g),
        B(e, n),
        y(t, n, null),
        B(n, o),
        y(r, n, null),
        B(n, i),
        l && l.m(n, null),
        B(e, c),
        u && u.m(e, null),
        (a = !0)
    },
    p(p, [g]) {
      const h = {}
      65 & g && (h.$$scope = { dirty: g, ctx: p }),
        r.$set(h),
        p[3]
          ? l
            ? (l.p(p, g), 8 & g && d(l, 1))
            : ((l = Ra(p)), l.c(), d(l, 1), l.m(n, null))
          : l &&
            (Y(),
            m(l, 1, 1, () => {
              l = null
            }),
            X()),
        p[2] && p[3]
          ? u
            ? (u.p(p, g), 12 & g && d(u, 1))
            : ((u = Pa(p)), u.c(), d(u, 1), u.m(e, null))
          : u &&
            (Y(),
            m(u, 1, 1, () => {
              u = null
            }),
            X())
    },
    i(p) {
      a || (d(t.$$.fragment, p), d(r.$$.fragment, p), d(l), d(u), (a = !0))
    },
    o(p) {
      m(t.$$.fragment, p), m(r.$$.fragment, p), m(l), m(u), (a = !1)
    },
    d(p) {
      p && x(e), b(t), b(r), l && l.d(), u && u.d()
    },
  }
}
function C$(s, e, n) {
  let { filesCount: t } = e,
    { diffSummary: o } = e,
    { collapsed: r } = e,
    { hasChanges: i } = e,
    { onRevert: c } = e,
    { onKeep: a } = e
  return (
    (s.$$set = (l) => {
      "filesCount" in l && n(0, (t = l.filesCount)),
        "diffSummary" in l && n(1, (o = l.diffSummary)),
        "collapsed" in l && n(2, (r = l.collapsed)),
        "hasChanges" in l && n(3, (i = l.hasChanges)),
        "onRevert" in l && n(4, (c = l.onRevert)),
        "onKeep" in l && n(5, (a = l.onKeep))
    }),
    [t, o, r, i, c, a]
  )
}
class M$ extends ne {
  constructor(e) {
    super(),
      oe(this, e, C$, _$, te, {
        filesCount: 0,
        diffSummary: 1,
        collapsed: 2,
        hasChanges: 3,
        onRevert: 4,
        onKeep: 5,
      })
  }
}
function Na(s, e, n) {
  const t = s.slice()
  return (t[27] = e[n]), t
}
function Fa(s) {
  let e, n, t, o
  function r(c) {
    s[23](c)
  }
  let i = {
    class: "c-agent-edits-container__block-container",
    $$slots: { footer: [T$], header: [S$], default: [I$] },
    $$scope: { ctx: s },
  }
  return (
    s[5] !== void 0 && (i.collapsed = s[5]),
    (n = new X1({ props: i })),
    bt.push(() => Qt(n, "collapsed", r)),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-agent-edits-container svelte-19r1sqe")
      },
      m(c, a) {
        M(c, e, a), y(n, e, null), (o = !0)
      },
      p(c, a) {
        const l = {}
        1073741925 & a && (l.$$scope = { dirty: a, ctx: c }),
          !t && 32 & a && ((t = !0), (l.collapsed = c[5]), tn(() => (t = !1))),
          n.$set(l)
      },
      i(c) {
        o || (d(n.$$.fragment, c), (o = !0))
      },
      o(c) {
        m(n.$$.fragment, c), (o = !1)
      },
      d(c) {
        c && x(e), b(n)
      },
    }
  )
}
function A$(s) {
  let e, n, t
  return (
    (n = new Ve({
      props: {
        size: 1,
        color: "neutral",
        $$slots: { default: [E$] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-edits-list c-edits-list--empty svelte-19r1sqe")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        1073741824 & r && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function k$(s) {
  let e,
    n,
    t,
    o = ht(s[0]),
    r = []
  for (let c = 0; c < o.length; c += 1) r[c] = Da(Na(s, o, c))
  const i = (c) =>
    m(r[c], 1, 1, () => {
      r[c] = null
    })
  return {
    c() {
      ;(e = F("div")), (n = F("div"))
      for (let c = 0; c < r.length; c += 1) r[c].c()
      A(n, "class", "c-edits-section svelte-19r1sqe"),
        A(e, "class", "c-edits-list svelte-19r1sqe")
    },
    m(c, a) {
      M(c, e, a), B(e, n)
      for (let l = 0; l < r.length; l += 1) r[l] && r[l].m(n, null)
      t = !0
    },
    p(c, a) {
      if (57345 & a) {
        let l
        for (o = ht(c[0]), l = 0; l < o.length; l += 1) {
          const u = Na(c, o, l)
          r[l]
            ? (r[l].p(u, a), d(r[l], 1))
            : ((r[l] = Da(u)), r[l].c(), d(r[l], 1), r[l].m(n, null))
        }
        for (Y(), l = o.length; l < r.length; l += 1) i(l)
        X()
      }
    },
    i(c) {
      if (!t) {
        for (let a = 0; a < o.length; a += 1) d(r[a])
        t = !0
      }
    },
    o(c) {
      r = r.filter(Boolean)
      for (let a = 0; a < r.length; a += 1) m(r[a])
      t = !1
    },
    d(c) {
      c && x(e), fn(r, c)
    },
  }
}
function E$(s) {
  let e
  return {
    c() {
      e = K("No changes to show")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Da(s) {
  let e, n
  function t() {
    return s[20](s[27])
  }
  function o() {
    return s[21](s[27])
  }
  function r() {
    return s[22](s[27])
  }
  return (
    (e = new g$({
      props: {
        qualifiedPathName: s[27].qualifiedPathName,
        lineChanges: s[27].changesSummary,
        onClickFile: t,
        onClickReview: o,
        onClickRevert: r,
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(i, c) {
        y(e, i, c), (n = !0)
      },
      p(i, c) {
        s = i
        const a = {}
        1 & c && (a.qualifiedPathName = s[27].qualifiedPathName),
          1 & c && (a.lineChanges = s[27].changesSummary),
          1 & c && (a.onClickFile = t),
          1 & c && (a.onClickReview = o),
          1 & c && (a.onClickRevert = r),
          e.$set(a)
      },
      i(i) {
        n || (d(e.$$.fragment, i), (n = !0))
      },
      o(i) {
        m(e.$$.fragment, i), (n = !1)
      },
      d(i) {
        b(e, i)
      },
    }
  )
}
function I$(s) {
  let e, n, t, o
  const r = [k$, A$],
    i = []
  function c(a, l) {
    return a[0].length > 0 ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e === u
            ? i[e].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (n = i[e]),
              n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
              d(n, 1),
              n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function S$(s) {
  let e, n
  return (
    (e = new M$({
      props: {
        filesCount: s[0].length,
        diffSummary: s[2],
        collapsed: s[5],
        hasChanges: s[6],
        onRevert: s[16],
        onKeep: s[17],
        slot: "header",
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.filesCount = t[0].length),
          4 & o && (r.diffSummary = t[2]),
          32 & o && (r.collapsed = t[5]),
          64 & o && (r.hasChanges = t[6]),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function T$(s) {
  let e, n
  return (
    (e = new Xp({ props: { slot: "footer" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function L$(s) {
  let e,
    n,
    t = s[3] && s[4] > 0 && s[0].length > 0 && Fa(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, [r]) {
      o[3] && o[4] > 0 && o[0].length > 0
        ? t
          ? (t.p(o, r), 25 & r && d(t, 1))
          : ((t = Fa(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function Yx(s) {
  if (!s) return ""
  if (s === Number.MAX_SAFE_INTEGER) return "Now"
  const e = new Date(s),
    n = new Date(),
    t = e.getHours(),
    o = `${t % 12 || 12}:${e.getMinutes().toString().padStart(2, "0")}${t >= 12 ? "PM" : "AM"}`,
    r = Math.floor((n.getTime() - e.getTime()) / 864e5)
  return r === 0 ? o : r === 1 ? `Yesterday at ${o}` : `${r} days ago at ${o}`
}
function R$(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p,
    g,
    h = N
  s.$$.on_destroy.push(() => h())
  const k = Xe("chatModel")
  Ge(s, k, (ue) => n(18, (c = ue)))
  const I = Xe("agentConversationModel"),
    C = Xe("checkpointStore"),
    {
      targetCheckpointSummary: S,
      totalCheckpointCount: H,
      targetCheckpoint: O,
      targetCheckpointHasChanges: z,
    } = C
  Ge(s, S, (ue) => n(19, (a = ue))),
    Ge(s, H, (ue) => n(4, (u = ue))),
    Ge(s, O, (ue) => n(24, (i = ue))),
    Ge(s, z, (ue) => n(6, (g = ue)))
  const { isCurrConversationAgentic: $e } = I
  function pe(ue) {
    k.extensionClient.openFile({
      repoRoot: ue.rootPath,
      pathName: ue.relPath,
      allowOutOfWorkspace: !0,
    })
  }
  function re(ue) {
    const Ee = I.getBaselineTimestamp()
    k.extensionClient.showAgentReview(
      ue,
      Ee,
      i == null ? void 0 : i.toTimestamp,
      !1,
    )
  }
  function le(ue) {
    const Ee = I.getBaselineTimestamp()
    C.revertDocumentToTimestamp(ue, Ee)
  }
  return (
    Ge(s, $e, (ue) => n(3, (l = ue))),
    (s.$$.update = () => {
      524288 & s.$$.dirty &&
        n(
          0,
          (t = a.filter(
            (ue) =>
              ue.changesSummary &&
              (ue.changesSummary.totalAddedLines > 0 ||
                ue.changesSummary.totalRemovedLines > 0),
          )),
        ),
        1 & s.$$.dirty &&
          n(
            2,
            (o = t.reduce(
              (ue, Ee) => {
                var be, ee
                return (
                  (ue.totalAddedLines +=
                    ((be = Ee.changesSummary) == null
                      ? void 0
                      : be.totalAddedLines) ?? 0),
                  (ue.totalRemovedLines +=
                    ((ee = Ee.changesSummary) == null
                      ? void 0
                      : ee.totalRemovedLines) ?? 0),
                  ue
                )
              },
              { totalAddedLines: 0, totalRemovedLines: 0 },
            )),
          ),
        262144 & s.$$.dirty &&
          (n(1, (r = c.isAgentEditsCollapsed)),
          h(),
          (h = mt(r, (ue) => n(5, (p = ue)))))
    }),
    [
      t,
      r,
      o,
      l,
      u,
      p,
      g,
      k,
      S,
      H,
      O,
      z,
      $e,
      pe,
      re,
      le,
      async function () {
        await C.rejectAll()
      },
      async function () {
        await C.acceptAll()
      },
      c,
      a,
      (ue) => pe(ue.qualifiedPathName),
      (ue) => re(ue.qualifiedPathName),
      (ue) => le(ue.qualifiedPathName),
      function (ue) {
        ;(p = ue), r.set(p)
      },
    ]
  )
}
class P$ extends ne {
  constructor(e) {
    super(), oe(this, e, R$, L$, te, {})
  }
}
const N$ = Ct(!1)
function F$(s) {
  let e
  return {
    c() {
      e = K("Drop images to attach as context")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function D$(s) {
  let e
  return {
    c() {
      e = K("(png, jpg, jpeg)")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function O$(s) {
  let e, n, t, o, r
  const i = s[7].default,
    c = Ze(i, s, s[11], null),
    a =
      c ||
      (function (l) {
        let u, p, g, h, k, I
        return (
          (u = new o1({})),
          (g = new Ve({
            props: {
              class: "c-rich-text-editor-dropzone__text",
              size: 2,
              $$slots: { default: [F$] },
              $$scope: { ctx: l },
            },
          })),
          (k = new Ve({
            props: {
              class: "c-rich-text-editor-dropzone__text",
              size: 1,
              $$slots: { default: [D$] },
              $$scope: { ctx: l },
            },
          })),
          {
            c() {
              w(u.$$.fragment),
                (p = j()),
                w(g.$$.fragment),
                (h = j()),
                w(k.$$.fragment)
            },
            m(C, S) {
              y(u, C, S),
                M(C, p, S),
                y(g, C, S),
                M(C, h, S),
                y(k, C, S),
                (I = !0)
            },
            p(C, S) {
              const H = {}
              2048 & S && (H.$$scope = { dirty: S, ctx: C }), g.$set(H)
              const O = {}
              2048 & S && (O.$$scope = { dirty: S, ctx: C }), k.$set(O)
            },
            i(C) {
              I ||
                (d(u.$$.fragment, C),
                d(g.$$.fragment, C),
                d(k.$$.fragment, C),
                (I = !0))
            },
            o(C) {
              m(u.$$.fragment, C),
                m(g.$$.fragment, C),
                m(k.$$.fragment, C),
                (I = !1)
            },
            d(C) {
              C && (x(p), x(h)), b(u, C), b(g, C), b(k, C)
            },
          }
        )
      })(s)
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        a && a.c(),
        A(n, "class", "c-rich-text-editor-dropzone__content svelte-1f75lrb"),
        A(e, "class", "c-rich-text-editor-dropzone svelte-1f75lrb"),
        A(e, "role", "button"),
        A(e, "tabindex", "-1"),
        je(e, "is-active", s[0])
    },
    m(l, u) {
      M(l, e, u),
        B(e, n),
        a && a.m(n, null),
        (t = !0),
        o ||
          ((r = [
            Oe(window, "dragstart", s[10]),
            Oe(window, "dragenter", s[5]),
            Oe(window, "dragleave", s[3]),
            Oe(window, "drop", s[4]),
            Oe(window, "blur", s[4]),
            Oe(e, "dragover", Uo(Lr(s[8]))),
            Oe(e, "dragenter", Uo(Lr(s[9]))),
            Oe(e, "drop", Uo(Lr(s[2]))),
          ]),
          (o = !0))
    },
    p(l, [u]) {
      c &&
        c.p &&
        (!t || 2048 & u) &&
        Je(c, i, l, l[11], t ? et(i, l[11], u, null) : Qe(l[11]), null),
        (!t || 1 & u) && je(e, "is-active", l[0])
    },
    i(l) {
      t || (d(a, l), (t = !0))
    },
    o(l) {
      m(a, l), (t = !1)
    },
    d(l) {
      l && x(e), a && a.d(l), (o = !1), Yt(r)
    },
  }
}
const z$ = "application/x-augment/drag-origin/{}"
function Oa(s) {
  return z$.replace("{}", s.instanceId)
}
function B$(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { draggingStore: r = N$ } = e
  const i = Xe(Os.CONTEXT_KEY)
  let c
  return (
    r.subscribe((a) => n(0, (c = a))),
    (s.$$set = (a) => {
      "draggingStore" in a && n(6, (r = a.draggingStore)),
        "$$scope" in a && n(11, (o = a.$$scope))
    }),
    [
      c,
      i,
      function (a) {
        var l, u, p, g, h
        r.set(!1),
          (l = a.dataTransfer) != null &&
            l.files &&
            ((h =
              (u = i == null ? void 0 : i.commandManager.chain()) == null
                ? void 0
                : (p = u.command(({ view: k, tr: I }) => {
                    if (!k) return !0
                    const C = k.posAtCoords({ left: a.clientX, top: a.clientY })
                    if (C) {
                      const S = I.doc.resolve(C.pos)
                      I.setSelection(I1.create(I.doc, S.pos))
                    }
                    return !0
                  })).insertImagesIntoEditor) == null ||
              h.call(p, [
                ...(((g = a.dataTransfer) == null ? void 0 : g.files) ?? []),
              ]))
      },
      function (a) {
        ;(a.relatedTarget && a.relatedTarget !== document.body) || r.set(!1)
      },
      () => r.set(!1),
      (a) => {
        var p
        var l, u
        ;(l = a),
          (u = i),
          ((p = l.dataTransfer) != null && p.types.includes(Oa(u))) || r.set(!0)
      },
      r,
      t,
      function (a) {
        Wn.call(this, s, a)
      },
      function (a) {
        Wn.call(this, s, a)
      },
      (a) =>
        (function (l, u) {
          var p
          u.rootNode &&
            l.composedPath().includes(u.rootNode) &&
            ((p = l.dataTransfer) == null || p.setData(Oa(u), u.instanceId))
        })(a, i),
      o,
    ]
  )
}
class j$ extends ne {
  constructor(e) {
    super(), oe(this, e, B$, O$, te, { draggingStore: 6 })
  }
}
const H$ = /(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,
  U$ = S1.create({
    name: "image",
    addOptions: () => ({ inline: !1, allowBase64: !1, HTMLAttributes: {} }),
    inline() {
      return this.options.inline
    },
    group() {
      return this.options.inline ? "inline" : "block"
    },
    draggable: !0,
    addAttributes: () => ({
      src: { default: null },
      alt: { default: null },
      title: { default: null },
    }),
    parseHTML() {
      return [
        {
          tag: this.options.allowBase64
            ? "img[src]"
            : 'img[src]:not([src^="data:"])',
        },
      ]
    },
    renderHTML({ HTMLAttributes: s }) {
      return ["img", T1(this.options.HTMLAttributes, s)]
    },
    addCommands() {
      return {
        setImage:
          (s) =>
          ({ commands: e }) =>
            e.insertContent({ type: this.name, attrs: s }),
      }
    },
    addInputRules() {
      return [
        L1({
          find: H$,
          type: this.type,
          getAttributes: (s) => {
            const [, , e, n, t] = s
            return { src: n, alt: e, title: t }
          },
        }),
      ]
    },
  })
class Ko extends Error {
  constructor(n, t) {
    super(t)
    Z(this, "files")
    ;(this.files = n), (this.name = "ImageError")
  }
}
class W$ extends Ko {
  constructor(e, n) {
    const t = Math.round(e.size / 1024)
    super([e], `Image "${e.name}" exceeds size limit of ${n}KB. Size: ${t}KB `)
  }
}
class q$ extends Ko {
  constructor(e) {
    super([e], `File "${e.name}" is not an image`)
  }
}
class G$ extends Ko {
  constructor(e, n, t) {
    const o = [
      `Up to ${e} images are supported.`,
      "- Existing count: " + (e - n.length),
      `- Accepted count: ${n.length}`,
      `- Rejected count: ${t.length}`,
      "Did not insert images:",
      ...t.map((r) => `- ${r.name}`),
    ].join(`
`)
    super(t, o)
  }
}
function V$(s, e) {
  if (
    !(function (n) {
      return n.type.startsWith("image/")
    })(s)
  )
    return new q$(s)
  if ((e == null ? void 0 : e.maxImageSizeKb) !== void 0) {
    const n = 1024 * e.maxImageSizeKb
    if (s.size > n) return new W$(s, e.maxImageSizeKb)
  }
  return s
}
var un = ((s) => (
  (s.collapsed = "collapsed"), (s.preview = "preview"), (s.full = "full"), s
))(un || {})
function Y$(s) {
  let e,
    n,
    t,
    o = {
      ctx: s,
      current: null,
      token: null,
      hasCatch: !1,
      pending: J$,
      then: Z$,
      catch: K$,
      value: 21,
      blocks: [, , ,],
    }
  return (
    Ao((n = s[2](s[1])), o),
    {
      c() {
        ;(e = he()), o.block.c()
      },
      m(r, i) {
        M(r, e, i),
          o.block.m(r, (o.anchor = i)),
          (o.mount = () => e.parentNode),
          (o.anchor = e),
          (t = !0)
      },
      p(r, i) {
        ;(s = r),
          (o.ctx = s),
          (6 & i && n !== (n = s[2](s[1])) && Ao(n, o)) || Kr(o, s, i)
      },
      i(r) {
        t || (d(o.block), (t = !0))
      },
      o(r) {
        for (let i = 0; i < 3; i += 1) {
          const c = o.blocks[i]
          m(c)
        }
        t = !1
      },
      d(r) {
        r && x(e), o.block.d(r), (o.token = null), (o = null)
      },
    }
  )
}
function X$(s) {
  let e, n, t
  return (
    (n = new Qn({ props: { size: 2 } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-image__loading-spinner svelte-qqa5sa")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function K$(s) {
  return { c: N, m: N, p: N, i: N, o: N, d: N }
}
function Z$(s) {
  let e, n
  return {
    c() {
      ;(e = F("img")),
        ji(e.src, (n = s[21])) || A(e, "src", n),
        A(e, "alt", ""),
        A(e, "class", "c-rich-text-editor-image")
    },
    m(t, o) {
      M(t, e, o), s[14](e)
    },
    p(t, o) {
      6 & o && !ji(e.src, (n = t[21])) && A(e, "src", n)
    },
    i: N,
    o: N,
    d(t) {
      t && x(e), s[14](null)
    },
  }
}
function J$(s) {
  let e, n, t
  return (
    (n = new Qn({ props: { size: 2 } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-image__loading-spinner svelte-qqa5sa")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Q$(s) {
  let e
  return {
    c() {
      e = K(s[0])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      1 & t && ze(e, n[0])
    },
    d(n) {
      n && x(e)
    },
  }
}
function za(s) {
  let e,
    n,
    t = { nested: !1, $$slots: { default: [ch] }, $$scope: { ctx: s } }
  return (
    (e = new Fe.Root({ props: t })),
    s[18](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        const i = {}
        4194392 & r && (i.$$scope = { dirty: r, ctx: o }), e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[18](null), b(e, o)
      },
    }
  )
}
function eh(s) {
  let e, n
  return (
    (e = new Eo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function th(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        color: "neutral",
        variant: s[3] === "collapsed" ? "ghost-block" : "solid",
        $$slots: { default: [eh] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.variant = t[3] === "collapsed" ? "ghost-block" : "solid"),
          4194304 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function nh(s) {
  let e
  return {
    c() {
      e = K("Image options")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function oh(s) {
  let e
  return {
    c() {
      e = K("Collapsed view")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function rh(s) {
  let e
  return {
    c() {
      e = K("Preview")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function sh(s) {
  let e
  return {
    c() {
      e = K("Full size")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Ba(s) {
  let e, n, t, o
  return (
    (e = new Fe.Separator({})),
    (t = new Fe.Item({
      props: {
        onSelect: s[4],
        color: "error",
        $$slots: { default: [ih] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        16 & i && (c.onSelect = r[4]),
          4194304 & i && (c.$$scope = { dirty: i, ctx: r }),
          t.$set(c)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function ih(s) {
  let e
  return {
    c() {
      e = K("Remove image")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function ah(s) {
  let e,
    n,
    t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p = s[6]()
  ;(e = new Fe.Label({
    props: { $$slots: { default: [nh] }, $$scope: { ctx: s } },
  })),
    (t = new Fe.Item({
      props: {
        onSelect: s[15],
        highlight: s[3] === un.collapsed,
        $$slots: { default: [oh] },
        $$scope: { ctx: s },
      },
    })),
    (r = new Fe.Item({
      props: {
        onSelect: s[16],
        highlight: s[3] === un.preview,
        $$slots: { default: [rh] },
        $$scope: { ctx: s },
      },
    })),
    (c = new Fe.Item({
      props: {
        onSelect: s[17],
        highlight: s[3] === un.full,
        $$slots: { default: [sh] },
        $$scope: { ctx: s },
      },
    }))
  let g = p && Ba(s)
  return {
    c() {
      w(e.$$.fragment),
        (n = j()),
        w(t.$$.fragment),
        (o = j()),
        w(r.$$.fragment),
        (i = j()),
        w(c.$$.fragment),
        (a = j()),
        g && g.c(),
        (l = he())
    },
    m(h, k) {
      y(e, h, k),
        M(h, n, k),
        y(t, h, k),
        M(h, o, k),
        y(r, h, k),
        M(h, i, k),
        y(c, h, k),
        M(h, a, k),
        g && g.m(h, k),
        M(h, l, k),
        (u = !0)
    },
    p(h, k) {
      const I = {}
      4194304 & k && (I.$$scope = { dirty: k, ctx: h }), e.$set(I)
      const C = {}
      8 & k && (C.highlight = h[3] === un.collapsed),
        4194304 & k && (C.$$scope = { dirty: k, ctx: h }),
        t.$set(C)
      const S = {}
      8 & k && (S.highlight = h[3] === un.preview),
        4194304 & k && (S.$$scope = { dirty: k, ctx: h }),
        r.$set(S)
      const H = {}
      8 & k && (H.highlight = h[3] === un.full),
        4194304 & k && (H.$$scope = { dirty: k, ctx: h }),
        c.$set(H),
        64 & k && (p = h[6]()),
        p
          ? g
            ? (g.p(h, k), 64 & k && d(g, 1))
            : ((g = Ba(h)), g.c(), d(g, 1), g.m(l.parentNode, l))
          : g &&
            (Y(),
            m(g, 1, 1, () => {
              g = null
            }),
            X())
    },
    i(h) {
      u ||
        (d(e.$$.fragment, h),
        d(t.$$.fragment, h),
        d(r.$$.fragment, h),
        d(c.$$.fragment, h),
        d(g),
        (u = !0))
    },
    o(h) {
      m(e.$$.fragment, h),
        m(t.$$.fragment, h),
        m(r.$$.fragment, h),
        m(c.$$.fragment, h),
        m(g),
        (u = !1)
    },
    d(h) {
      h && (x(n), x(o), x(i), x(a), x(l)),
        b(e, h),
        b(t, h),
        b(r, h),
        b(c, h),
        g && g.d(h)
    },
  }
}
function ch(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [th] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "bottom",
        align: "end",
        $$slots: { default: [ah] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        4194312 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        4194392 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function lh(s) {
  let e, n, t, o, r, i, c, a
  const l = [X$, Y$],
    u = []
  function p(h, k) {
    return h[5] ? 0 : 1
  }
  ;(n = p(s)),
    (t = u[n] = l[n](s)),
    (i = new Ve({
      props: {
        size: s[3] === "collapsed" ? 2 : 1,
        class: "c-image__title",
        $$slots: { default: [Q$] },
        $$scope: { ctx: s },
      },
    }))
  let g = !s[5] && za(s)
  return {
    c() {
      ;(e = F("div")),
        t.c(),
        (o = j()),
        (r = F("div")),
        w(i.$$.fragment),
        (c = j()),
        g && g.c(),
        A(r, "class", "c-image__action-header svelte-qqa5sa"),
        je(r, "is-active", s[7]),
        A(e, "class", "c-image-container svelte-qqa5sa"),
        je(e, "is-collapsed", s[3] === "collapsed"),
        je(e, "is-preview", s[3] === "preview"),
        je(e, "is-full", s[3] === "full")
    },
    m(h, k) {
      M(h, e, k),
        u[n].m(e, null),
        B(e, o),
        B(e, r),
        y(i, r, null),
        B(r, c),
        g && g.m(r, null),
        (a = !0)
    },
    p(h, k) {
      let I = n
      ;(n = p(h)),
        n === I
          ? u[n].p(h, k)
          : (Y(),
            m(u[I], 1, 1, () => {
              u[I] = null
            }),
            X(),
            (t = u[n]),
            t ? t.p(h, k) : ((t = u[n] = l[n](h)), t.c()),
            d(t, 1),
            t.m(e, o))
      const C = {}
      8 & k && (C.size = h[3] === "collapsed" ? 2 : 1),
        4194305 & k && (C.$$scope = { dirty: k, ctx: h }),
        i.$set(C),
        h[5]
          ? g &&
            (Y(),
            m(g, 1, 1, () => {
              g = null
            }),
            X())
          : g
            ? (g.p(h, k), 32 & k && d(g, 1))
            : ((g = za(h)), g.c(), d(g, 1), g.m(r, null)),
        (!a || 128 & k) && je(r, "is-active", h[7]),
        (!a || 8 & k) && je(e, "is-collapsed", h[3] === "collapsed"),
        (!a || 8 & k) && je(e, "is-preview", h[3] === "preview"),
        (!a || 8 & k) && je(e, "is-full", h[3] === "full")
    },
    i(h) {
      a || (d(t), d(i.$$.fragment, h), d(g), (a = !0))
    },
    o(h) {
      m(t), m(i.$$.fragment, h), m(g), (a = !1)
    },
    d(h) {
      h && x(e), u[n].d(), b(i), g && g.d()
    },
  }
}
function uh(s) {
  let e, n, t, o
  return (
    (e = new ef({
      props: {
        insetContent: !0,
        interactive: !0,
        size: 1,
        class: "c-image-renderer",
        $$slots: { default: [lh] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[19]),
    e.$on("keydown", s[20]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i),
          (n = !0),
          t || ((o = Oe(window, "click", s[13], !0)), (t = !0))
      },
      p(r, [i]) {
        const c = {}
        4195327 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r), (t = !1), o()
      },
    }
  )
}
function dh(s, e, n) {
  let { title: t } = e,
    { src: o } = e,
    { loadImage: r } = e,
    { renderMode: i = un.collapsed } = e,
    { removeImage: c } = e,
    { setImageMode: a } = e,
    { isLoading: l = !1 } = e,
    { isEditable: u } = e
  function p(C) {
    a(C), k == null || k.requestClose()
  }
  function g(C) {
    ;(C.key !== "ArrowUp" &&
      C.key !== "ArrowDown" &&
      C.key !== "ArrowLeft" &&
      C.key !== "ArrowRight") ||
      (n(7, (I = !0)), C.preventDefault(), C.stopPropagation())
  }
  let h,
    k,
    I = !1
  return (
    (s.$$set = (C) => {
      "title" in C && n(0, (t = C.title)),
        "src" in C && n(1, (o = C.src)),
        "loadImage" in C && n(2, (r = C.loadImage)),
        "renderMode" in C && n(3, (i = C.renderMode)),
        "removeImage" in C && n(4, (c = C.removeImage)),
        "setImageMode" in C && n(12, (a = C.setImageMode)),
        "isLoading" in C && n(5, (l = C.isLoading)),
        "isEditable" in C && n(6, (u = C.isEditable))
    }),
    [
      t,
      o,
      r,
      i,
      c,
      l,
      u,
      I,
      h,
      k,
      p,
      g,
      a,
      (C) => {
        C.composedPath().some((S) => S === h) || n(7, (I = !1))
      },
      function (C) {
        bt[C ? "unshift" : "push"](() => {
          ;(h = C), n(8, h)
        })
      },
      () => p(un.collapsed),
      () => p(un.preview),
      () => p(un.full),
      function (C) {
        bt[C ? "unshift" : "push"](() => {
          ;(k = C), n(9, k)
        })
      },
      (C) => {
        n(7, (I = !0)), C.preventDefault()
      },
      (C) => {
        g(C), Fn("Escape", () => n(7, (I = !1)))(C)
      },
    ]
  )
}
class fh extends ne {
  constructor(e) {
    super(),
      oe(this, e, dh, uh, te, {
        title: 0,
        src: 1,
        loadImage: 2,
        renderMode: 3,
        removeImage: 4,
        setImageMode: 12,
        isLoading: 5,
        isEditable: 6,
      })
  }
}
async function Gu(s, e = 1024) {
  return new Promise((n, t) => {
    const o = document.createElement("canvas"),
      r = o.getContext("2d"),
      i = new Image()
    ;(i.onload = () => {
      let c = i.width,
        a = i.height
      c > a
        ? c > e && ((a = Math.round(a * (e / c))), (c = e))
        : a > e && ((c = Math.round(c * (e / a))), (a = e)),
        (o.width = c),
        (o.height = a),
        r
          ? (r.drawImage(i, 0, 0, c, a),
            o.toBlob((l) => {
              l != null ? n(l) : t(new Error("Failed to create blob"))
            }))
          : t(new Error("Could not get canvas context"))
    }),
      (i.onerror = () => t(new Error("Failed to load image"))),
      (i.src = URL.createObjectURL(s))
  })
}
const Hr = class Hr {
  constructor(e) {
    Z(this, "_tipTapExtension")
    Z(this, "_editor")
    Z(this, "_createTipTapExtension", () => {
      const e = this.registerEditor,
        n = this.unregisterEditor,
        t = this.insertImagesIntoEditor
      return U$.extend({
        addOptions() {
          var o
          return {
            ...((o = this.parent) == null ? void 0 : o.call(this)),
            allowBase64: !0,
            preserveOnSplit: !1,
            defaultRenderMode: un.collapsed,
          }
        },
        addAttributes() {
          var o
          return {
            ...((o = this.parent) == null ? void 0 : o.call(this)),
            renderMode: { default: un.collapsed },
            title: { default: "" },
            isLoading: { default: !1 },
          }
        },
        onCreate() {
          var o
          ;(o = this.parent) == null || o.call(this), e(this.editor)
        },
        onDestroy() {
          var o
          ;(o = this.parent) == null || o.call(this), n()
        },
        addCommands() {
          var o
          return {
            ...((o = this.parent) == null ? void 0 : o.call(this)),
            insertImagesIntoEditor:
              (r) =>
              ({ chain: i }) =>
                i()
                  .command(() => !!t(r))
                  .focus("end")
                  .run(),
          }
        },
        addNodeView: () => this._createNodeView(),
        addProseMirrorPlugins() {
          var o
          return [
            ...(((o = this.parent) == null ? void 0 : o.call(this)) ?? []),
            new P1({
              key: Hr.IMAGE_PASTE_HANDLER_PLUGIN_KEY,
              props: {
                handlePaste: (r, i) => {
                  var c, a
                  return (a =
                    (c = i.clipboardData) == null ? void 0 : c.files) != null &&
                    a.length
                    ? t([...i.clipboardData.files]).okFiles.length > 0 &&
                        (i.preventDefault(), !0)
                    : !1
                },
              },
            }),
          ]
        },
      })
    })
    Z(this, "_createNodeView", () => ({ node: e }) => {
      var o, r
      const n = document.createElement("div"),
        t = new fh({
          target: n,
          props: {
            title: String(e.attrs.title),
            src: String(e.attrs.src),
            loadImage:
              ((o = this._options) == null ? void 0 : o.renderImage) ??
              (() => Promise.resolve(void 0)),
            renderMode: e.attrs.renderMode,
            isLoading: !!e.attrs.isLoading,
            removeImage: async () => {
              var i
              if (this._editor) {
                try {
                  ;(i = this._options) != null &&
                    i.deleteImage &&
                    (await this._options.deleteImage(String(e.attrs.src)))
                } catch (c) {
                  console.error("Failed to delete image:", c)
                }
                this._editor
                  .chain()
                  .command(
                    ({ tr: c, state: a }) => (
                      a.doc.descendants((l, u) => {
                        if (e === l) return c.delete(u, u + l.nodeSize), !1
                      }),
                      !0
                    ),
                  )
                  .focus("end")
                  .run()
              }
            },
            setImageMode: (i) => {
              var a, l
              if (!this._editor || e.attrs.renderMode === i) return
              ;(function (u, p, g) {
                u.chain()
                  .command(
                    ({ tr: h, state: k }) => (
                      k.doc.descendants((I, C) => {
                        if (p.type === I.type && p.attrs.src === I.attrs.src)
                          return (
                            h.setNodeMarkup(C, void 0, { ...I.attrs, ...g }), !1
                          )
                      }),
                      !0
                    ),
                  )
                  .run()
              })(this._editor, e, { renderMode: i })
              const c = this._editor.getJSON()
              ;(l = (a = this._options) == null ? void 0 : a.changeImageMode) ==
                null || l.call(a, c)
            },
            isEditable:
              ((r = this._options) == null ? void 0 : r.isEditable) ??
              (() => !0),
          },
        })
      return {
        dom: n,
        destroy: () => {
          t.$destroy()
        },
        update: (i) =>
          i.type.name === "image" &&
          ((e = i),
          t.$set({
            src: String(i.attrs.src),
            renderMode: i.attrs.renderMode,
            isLoading: !!i.attrs.isLoading,
          }),
          !0),
      }
    })
    Z(this, "registerEditor", (e) => {
      this._editor = e
    })
    Z(this, "unregisterEditor", () => {
      this._editor = void 0
    })
    Z(this, "_getImageNodeCount", () => {
      if (!this._editor) return
      let e = 0
      return (
        this._editor.state.doc.descendants((n) => {
          n.type.name === "image" && e++
        }),
        e
      )
    })
    Z(this, "updateOptions", (e) => {
      this._options = { ...e }
    })
    Z(this, "insertImagesIntoEditor", (e) => {
      const { validImages: n, errors: t } = this.validateImages(e),
        { imagesToInsert: o, errors: r } = this.checkImageCountLimit(n),
        i = []
      for (const c of o) {
        if (!this._editor) continue
        const a = this._insertLoadingImage(this._editor, c.name)
        this._processImage(c, a).catch((l) => {
          i.push(new Ko([c], String(l)))
        })
      }
      return { errors: [...t, ...r, ...i], okFiles: o }
    })
    ;(this._options = e),
      (this._tipTapExtension = this._createTipTapExtension())
  }
  validateImages(e) {
    const n = [],
      t = []
    for (const o of e) {
      const r = V$(o, this._options)
      r instanceof Ko ? n.push(r) : t.push(r)
    }
    return { validImages: t, errors: n }
  }
  checkImageCountLimit(e) {
    var i
    const n = this._getImageNodeCount() ?? 0,
      t = (i = this._options) == null ? void 0 : i.maxImages
    if (t === void 0 || n + e.length <= t)
      return { imagesToInsert: e, errors: [] }
    const o = e.slice(0, t - n),
      r = e.slice(t - n)
    return { imagesToInsert: o, errors: [new G$(t, o, r)] }
  }
  async _processImage(e, n) {
    var t, o
    try {
      const r = await Gu(e)
      if (!r || !this._editor) return
      const i = new File([r], e.name, { type: e.type }),
        c =
          (await ((o = (t = this._options) == null ? void 0 : t.saveImage) ==
          null
            ? void 0
            : o.call(t, i))) ?? i.name
      this._updateImageNode(n, { src: c, title: i.name, isLoading: !1 })
    } catch (r) {
      throw (
        (console.error("Could not process image: ", r),
        this._editor && this._removeImageNode(n),
        r)
      )
    }
  }
  get tipTapExtension() {
    return this._tipTapExtension
  }
  _findImageNodeBySrc(e) {
    if (!this._editor || !e) return null
    let n = null
    return (
      this._editor.state.doc.descendants(
        (t, o) =>
          t.type.name !== "image" ||
          t.attrs.src !== e ||
          ((n = { node: t, pos: o }), !1),
      ),
      n
    )
  }
  _insertLoadingImage(e, n) {
    const { from: t } = e.state.selection,
      o = `${n}-${Date.now()}-${Math.random().toString(36).substring(2)}`
    return (
      e
        .chain()
        .command(({ tr: r }) => {
          const i = t || r.doc.content.size
          return (
            r.insert(i, [
              e.schema.nodes.image.create({
                src: o,
                originalName: n,
                title: n,
                renderMode: un.collapsed,
                isLoading: !0,
              }),
              e.schema.nodes.paragraph.create({ text: "" }),
            ]),
            !0
          )
        })
        .focus("end")
        .run(),
      o
    )
  }
  _updateImageNode(e, n) {
    if (!this._editor) return
    const t = this._findImageNodeBySrc(e)
    t &&
      this._editor
        .chain()
        .command(
          ({ tr: o }) => (
            o.setNodeMarkup(t.pos, void 0, { ...t.node.attrs, ...n }), !0
          ),
        )
        .run()
  }
  _removeImageNode(e) {
    if (!this._editor) return
    const n = this._findImageNodeBySrc(e)
    n &&
      this._editor
        .chain()
        .command(({ tr: t }) => (t.delete(n.pos, n.pos + n.node.nodeSize), !0))
        .run()
  }
  static hasLoadingImages(e) {
    if (!e) return !1
    const n = (t) => {
      var o
      if (!t) return !1
      if (t.type === "image" && (o = t.attrs) != null && o.isLoading) return !0
      if (t.content) {
        if (!Array.isArray(t.content)) return !1
        for (const r of t.content) if (n(r)) return !0
      }
      return !1
    }
    return n(e)
  }
}
Z(
  Hr,
  "IMAGE_PASTE_HANDLER_PLUGIN_KEY",
  new R1("augment-prosemirror-image-paste-handler"),
)
let zr = Hr
function mh(s, e, n) {
  let { maxImages: t } = e,
    { saveImage: o } = e,
    { deleteImage: r } = e,
    { renderImage: i } = e,
    { isEditable: c = () => !0 } = e,
    { changeImageMode: a } = e
  const l = new zr({
      changeImageMode: a,
      maxImages: t,
      saveImage: o,
      deleteImage: r,
      renderImage: i,
      isEditable: c,
    }),
    u = Xe(Os.CONTEXT_KEY).pluginManager.registerPlugin(l)
  return (
    ko(u),
    (s.$$set = (p) => {
      "maxImages" in p && n(0, (t = p.maxImages)),
        "saveImage" in p && n(1, (o = p.saveImage)),
        "deleteImage" in p && n(2, (r = p.deleteImage)),
        "renderImage" in p && n(3, (i = p.renderImage)),
        "isEditable" in p && n(4, (c = p.isEditable)),
        "changeImageMode" in p && n(5, (a = p.changeImageMode))
    }),
    [t, o, r, i, c, a]
  )
}
let ph = class extends ne {
  constructor(s) {
    super(),
      oe(this, s, mh, null, te, {
        maxImages: 0,
        saveImage: 1,
        deleteImage: 2,
        renderImage: 3,
        isEditable: 4,
        changeImageMode: 5,
      })
  }
}
function ja(s, e) {
  if (s.length <= e || s.length === 0) return s
  const n = s.split(`
`),
    t = "... additional lines truncated ..." + (n[0].endsWith("\r") ? "\r" : "")
  let o = ""
  if (n.length < 2 || n[0].length + n[n.length - 1].length + t.length > e) {
    const r = Math.floor(e / 2)
    o = [s.slice(0, r), "<...>", s.slice(-r)].join("")
  } else {
    const r = [],
      i = []
    let c = t.length + 1
    for (let a = 0; a < Math.floor(n.length / 2); a++) {
      const l = n[a],
        u = n[n.length - 1 - a],
        p = l.length + u.length + 2
      if (c + p > e) break
      ;(c += p), r.push(l), i.push(u)
    }
    r.push(t),
      r.push(...i.reverse()),
      (o = r.join(`
`))
  }
  return o
}
function $h(s) {
  var n
  if (!s) return Er.IMAGE_FORMAT_UNSPECIFIED
  switch ((n = s.split("/")[1]) == null ? void 0 : n.toLowerCase()) {
    case "jpeg":
    case "jpg":
      return Er.JPEG
    case "png":
      return Er.PNG
    default:
      return Er.IMAGE_FORMAT_UNSPECIFIED
  }
}
async function hh(s, e, n, t = 1024) {
  try {
    const o = (function (i, c, a) {
        const l = atob(i)
        let u = l.length
        const p = new Uint8Array(u)
        for (; u--; ) p[u] = l.charCodeAt(u)
        return new File([p], c, { type: a })
      })(s, e, n),
      r = await Gu(o, t)
    return new Promise((i, c) => {
      const a = new FileReader()
      ;(a.onloadend = () => {
        if (typeof a.result == "string") {
          const l = a.result.split(","),
            u = l.length > 1 ? l[1] : a.result
          i({ dataUrl: u, mimeType: "image/png" })
        } else c(new Error("Failed to convert blob to data URL"))
      }),
        (a.onerror = (l) => {
          c(new Error("FileReader error"))
        }),
        a.readAsDataURL(r)
    })
  } catch (o) {
    return console.error("Error scaling image:", o), { dataUrl: s, mimeType: n }
  }
}
async function gh(s, e = !0) {
  if (!s.contentNodes || s.contentNodes.length === 0) return s
  const n = await (async function (t, o = !0) {
    const r = []
    for (const i of t)
      if (
        i.type === Go.ContentImage &&
        i.image_content &&
        i.image_content.image_data
      ) {
        if (!o) continue
        const c = i.image_content.image_data,
          a = i.image_content.media_type || "image/png",
          l = `image.${a.split("/")[1] || "png"}`,
          u = await hh(c, l, a)
        r.push({
          type: Go.ContentImage,
          image_content: { image_data: u.dataUrl, media_type: u.mimeType },
        })
      } else r.push(i)
    return r
  })(s.contentNodes, e)
  return { ...s, contentNodes: n }
}
const Ur = class Ur {
  constructor(e, n, t) {
    Z(this, "_disposables", [])
    Z(this, "_activeTool")
    Z(this, "_activeToolCancelled", !1)
    Z(this, "_processLastExchange", (e, n) => {
      var o
      const t =
        (o = n.structured_output_nodes) == null
          ? void 0
          : o.filter((r) => r.type === Gi.TOOL_USE)
      for (const r of t ?? []) {
        const i = r.tool_use
        if (i === void 0) continue
        const c = this._conversationModel.getToolUseState(e, i.tool_use_id)
        c.phase === Nt.new &&
          this._validateAndCheckTool(
            e,
            i.tool_use_id,
            i.tool_name,
            JSON.parse(i.input_json),
            this._conversationModel.chatHistory.filter((a) => Or(a)).map(_s),
          ),
          this._markCancelledIfStale(e, i.tool_use_id, c.phase)
      }
    })
    Z(this, "_validateAndCheckTool", async (e, n, t, o, r) => {
      var l
      const i = this._conversationModel.id
      if (this._activeTool !== void 0)
        return void console.error(
          "_validateAndCheckTool called while another tool is active",
          this._activeTool,
        )
      ;(this._activeTool = { id: n, requestId: e, phase: Nt.checkingSafety }),
        this._conversationModel.updateToolUseState({
          requestId: e,
          toolUseId: n,
          phase: Nt.checkingSafety,
        })
      const c = await this._extensionClient.getToolIdentifier(t)
      if (!c.found)
        return (
          (this._activeTool = void 0),
          void this._reportToolError(e, n, `Tool "${t}" does not exist`)
        )
      if (c.toolIdentifier.hostName === Zi.mcpHost) {
        const u = this._conversationModel.lastExchange
        if (u != null && u.structured_output_nodes) {
          const p = u.structured_output_nodes.find((g) => {
            var h
            return (
              g.type === Gi.TOOL_USE &&
              ((h = g.tool_use) == null ? void 0 : h.tool_use_id) === n
            )
          })
          p != null &&
            p.tool_use &&
            c.mcpToolName &&
            c.mcpServerName &&
            ((p.tool_use.mcp_server_name = c.mcpServerName),
            (p.tool_use.mcp_tool_name = c.mcpToolName))
        }
      }
      if (
        ft(this._chatModel.agentExecutionMode) === In.auto &&
        (l = this._conversationModel.extraData) != null &&
        l.isAgentConversation &&
        c.toolIdentifier.hostName !== Zi.remoteToolHost
      )
        return (
          (this._activeTool = void 0),
          void (await this.callTool(e, n, t, o, r, i))
        )
      const a = await this._extensionClient.checkSafe(t, o)
      ;(this._activeTool = void 0),
        a
          ? await this.callTool(e, n, t, o, r, this._conversationModel.id)
          : this._conversationModel.updateToolUseState({
              requestId: e,
              toolUseId: n,
              phase: Nt.runnable,
            })
    })
    Z(this, "_reportToolError", (e, n, t) => {
      this._conversationModel.updateToolUseState({
        requestId: e,
        toolUseId: n,
        phase: Nt.error,
        result: { isError: !0, text: t },
      }),
        this._sendToolResultExchange(e, n, {
          content: t,
          is_error: !0,
          tool_use_id: n,
        })
    })
    Z(this, "_sendToolResultExchange", (e, n, t) => {
      const o = this._conversationModel.getLastToolUseState()
      ;(o == null ? void 0 : o.requestId) === e &&
      (o == null ? void 0 : o.toolUseId) === n
        ? this._conversationModel.sendExchange({
            request_message: "",
            status: Ft.draft,
            structured_request_nodes: [
              { id: 1, type: Vd.TOOL_RESULT, tool_result_node: t },
            ],
          })
        : this._extensionClient.reportError({
            originalRequestId: e,
            sanitizedMessage:
              "Tried to send tool result after conversation advanced",
            stackTrace: "",
            diagnostics: [{ key: "tool_use_id", value: n }],
          })
    })
    Z(this, "callTool", async (e, n, t, o, r, i) => {
      if (this._activeTool !== void 0)
        return void console.error(
          "callTool called while another tool is active",
          "tried to run:",
          n,
          "active tool:",
          this._activeTool,
        )
      let c
      this._conversationModel.updateToolUseState({
        requestId: e,
        toolUseId: n,
        phase: Nt.running,
      }),
        (this._activeTool = { id: n, requestId: e, phase: Nt.running })
      try {
        const u = (function (k, I) {
            if (k.contentNodes && k.contentNodes.length > 0) {
              const C = k.contentNodes.map((S) => {
                if (S.type === Go.ContentText) {
                  let H = ""
                  return (
                    S.text_content &&
                      (H = ja(S.text_content, I / k.contentNodes.length)),
                    { ...S, text_content: H }
                  )
                }
                return S
              })
              return { ...k, contentNodes: C }
            }
            return { ...k, text: ja(k.text, I) }
          })(
            await this._extensionClient.callTool(e, n, t, o, r, i),
            Ur.maxResultBytes,
          ),
          p = await gh(u, this._chatModel.flags.enableDebugFeatures)
        if (this._activeToolCancelled)
          return (
            (this._activeToolCancelled = !1),
            (this._activeTool = void 0),
            void this._conversationModel.updateToolUseState({
              requestId: e,
              toolUseId: n,
              phase: Nt.cancelled,
              result: p,
            })
          )
        let g,
          h = p.isError ? Nt.error : Nt.completed
        this._conversationModel.updateToolUseState({
          requestId: e,
          toolUseId: n,
          phase: h,
          result: p,
        }),
          p.contentNodes
            ? ((a = p.contentNodes),
              (l = this._chatModel.flags.enableDebugFeatures),
              (g = a.map((k) =>
                k.type === Go.ContentText
                  ? { type: hs.CONTENT_TEXT, text_content: k.text_content }
                  : k.type === Go.ContentImage && k.image_content && l
                    ? {
                        type: hs.CONTENT_IMAGE,
                        image_content: {
                          image_data: k.image_content.image_data,
                          format: $h(k.image_content.media_type),
                        },
                      }
                    : {
                        type: hs.CONTENT_TEXT,
                        text_content: "[Error: Invalid content node]",
                      },
              )),
              (c = {
                content: "",
                is_error: p.isError,
                request_id: p.requestId,
                tool_use_id: n,
                content_nodes: g,
              }))
            : (c = {
                content: p.text,
                is_error: p.isError,
                request_id: p.requestId,
                tool_use_id: n,
              })
      } catch (u) {
        if (this._activeToolCancelled)
          return (
            (this._activeToolCancelled = !1),
            (this._activeTool = void 0),
            void this._conversationModel.updateToolUseState({
              requestId: e,
              toolUseId: n,
              phase: Nt.cancelled,
            })
          )
        const p = u instanceof Error ? u.message : String(u)
        this._conversationModel.updateToolUseState({
          requestId: e,
          toolUseId: n,
          phase: Nt.error,
          result: { isError: !0, text: p },
        }),
          (c = { content: p, is_error: !0, tool_use_id: n })
      }
      var a, l
      ;(this._activeTool = void 0), this._sendToolResultExchange(e, n, c)
    })
    Z(this, "cancelToolRun", async (e, n) => {
      this._activeTool !== void 0 &&
      this._activeTool.requestId === e &&
      this._activeTool.id === n
        ? ((this._activeTool = { id: n, requestId: e, phase: Nt.cancelling }),
          this._conversationModel.updateToolUseState({
            requestId: e,
            toolUseId: n,
            phase: Nt.cancelling,
          }),
          (this._activeToolCancelled = !0),
          await this._extensionClient.cancelToolRun(e, n),
          (this._activeTool = void 0))
        : console.error(
            "cancelToolRun called while another tool is active",
            "tried to cancel:",
            n,
            "active tool:",
            this._activeTool,
          )
    })
    Z(this, "skipToolRun", async (e, n) => {
      this._activeTool === void 0
        ? (this._conversationModel.updateToolUseState({
            requestId: e,
            toolUseId: n,
            phase: Nt.cancelled,
          }),
          this._sendToolResultExchange(e, n, {
            content: "Tool did not run. User clicked `Skip` to cancel.",
            is_error: !0,
            tool_use_id: n,
          }))
        : console.error(
            "skipToolRun called while another tool is active",
            "tried to cancel:",
            n,
            "active tool:",
            this._activeTool,
          )
    })
    Z(this, "_markCancelledIfStale", (e, n, t) => {
      ;(this._activeTool !== void 0 &&
        this._activeTool.id === n &&
        this._activeTool.requestId === e) ||
        (t !== Nt.new &&
          t !== Nt.checkingSafety &&
          t !== Nt.cancelling &&
          t !== Nt.running) ||
        this._conversationModel.updateToolUseState({
          requestId: e,
          toolUseId: n,
          phase: Nt.cancelled,
        })
    })
    Z(this, "cancelActiveToolRun", async () => {
      this._activeTool !== void 0 &&
        (await this.cancelToolRun(
          this._activeTool.requestId,
          this._activeTool.id,
        ))
    })
    Z(this, "interruptAllTools", async () => {
      r1(this._conversationModel), await this.cancelActiveToolRun()
      const e = this._conversationModel.lastExchange
      e &&
        !s1(e) &&
        this._conversationModel.addChatItem({
          request_id: crypto.randomUUID(),
          status: Ft.cancelled,
          chatItemType: Pn.agenticTurnDelimiter,
        })
    })
    Z(this, "interruptToolsConversation", async () => {
      await this._conversationModel.cancelMessage(),
        await this.interruptAllTools()
    })
    Z(this, "dispose", () => {
      this._disposables.forEach((e) => e.dispose())
    })
    let o
    ;(this._conversationModel = e),
      (this._extensionClient = n),
      (this._chatModel = t)
    const r = this._conversationModel.subscribe((a) => {
        const l = a.lastExchange
        if (Or(l) && l.request_id !== void 0) {
          const u = l.request_id
          o !== u && (this._processLastExchange(u, l), (o = u))
        }
      }),
      i = this._conversationModel.onNewConversation(() => {
        this._extensionClient.closeAllToolProcesses()
      }),
      c = this._conversationModel.onHistoryDelete(() => {
        this.cancelActiveToolRun()
      })
    this._disposables.push({ dispose: r }, { dispose: i }, { dispose: c })
  }
  async getToolCallCheckpoint(e) {
    try {
      return await this._extensionClient.getToolCallCheckpoint(e)
    } catch (n) {
      return void console.error("Failed to get tool call checkpoint:", n)
    }
  }
}
Z(Ur, "maxResultBytes", 65536)
let Is = Ur
function vh(s) {
  let e
  return {
    c() {
      ;(e = F("i")),
        (e.innerHTML =
          '<span class="c-chaser__gradient svelte-1mwwr16"></span>'),
        A(e, "class", "c-chaser svelte-1mwwr16"),
        je(e, "c-chaser--active", s[4]),
        ln(e, "--chaser-color", s[0]),
        ln(e, "--chaser-speed", s[1] + "s"),
        ln(e, "--chaser-fade-speed", s[2] + "s"),
        ln(e, "--chaser-tail-length", s[3] + "%")
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, [t]) {
      16 & t && je(e, "c-chaser--active", n[4]),
        1 & t && ln(e, "--chaser-color", n[0]),
        2 & t && ln(e, "--chaser-speed", n[1] + "s"),
        4 & t && ln(e, "--chaser-fade-speed", n[2] + "s"),
        8 & t && ln(e, "--chaser-tail-length", n[3] + "%")
    },
    i: N,
    o: N,
    d(n) {
      n && x(e)
    },
  }
}
function wh(s, e, n) {
  let t,
    { color: o = "rgba(255, 255, 255, 0.5)" } = e,
    { speed: r = 4 } = e,
    { repeat: i = 1 } = e,
    { startOnMount: c = !1 } = e,
    { fadeSpeed: a = 0.3 } = e,
    { tailLength: l = 5 } = e,
    { onStopChaser: u = () => {} } = e,
    p = !1,
    g = i === "infinite" ? 1 / 0 : i
  function h() {
    n(4, (p = !0)),
      clearTimeout(t),
      (t = setTimeout(
        () => {
          k()
        },
        1e3 * r * g,
      ))
  }
  function k() {
    p && (n(4, (p = !1)), clearTimeout(t), u())
  }
  return (
    c && h(),
    (s.$$set = (I) => {
      "color" in I && n(0, (o = I.color)),
        "speed" in I && n(1, (r = I.speed)),
        "repeat" in I && n(5, (i = I.repeat)),
        "startOnMount" in I && n(6, (c = I.startOnMount)),
        "fadeSpeed" in I && n(2, (a = I.fadeSpeed)),
        "tailLength" in I && n(3, (l = I.tailLength)),
        "onStopChaser" in I && n(7, (u = I.onStopChaser))
    }),
    [o, r, a, l, p, i, c, u, h, k]
  )
}
class Vu extends ne {
  constructor(e) {
    super(),
      oe(this, e, wh, vh, te, {
        color: 0,
        speed: 1,
        repeat: 5,
        startOnMount: 6,
        fadeSpeed: 2,
        tailLength: 3,
        onStopChaser: 7,
        startChaser: 8,
        stopChaser: 9,
      })
  }
  get startChaser() {
    return this.$$.ctx[8]
  }
  get stopChaser() {
    return this.$$.ctx[9]
  }
}
function yh(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 512 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M160 368c26.5 0 48 21.5 48 48v16l72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16zm48 124-.2.2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3v-80H64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0h384c35.3 0 64 28.7 64 64v288c0 35.3-28.7 64-64 64H309.3z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 512 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function bh(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class xh extends ne {
  constructor(e) {
    super(), oe(this, e, bh, yh, te, {})
  }
}
function _h(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 640 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M410.8 134.2c-19.3 8.6-42 3.5-55.9-12.5C332.8 96.1 300.3 80 264 80c-66.3 0-120 53.7-120 120v.2c0 20.4-12.8 38.5-32 45.3-37.4 13.2-64 48.8-64 90.5 0 53 43 96 96 96h363.3c.6-.1 1.3-.1 1.9-.2 46.2-2.7 82.8-41 82.8-87.8 0-36-21.6-67.1-52.8-80.7-20.1-8.8-31.6-30-28.1-51.7.6-3.8.9-7.7.9-11.7 0-39.8-32.2-72-72-72-10.5 0-20.4 2.2-29.2 6.2zM512 479.8v.2H144C64.5 480 0 415.5 0 336c0-62.7 40.1-116 96-135.8v-.2c0-92.8 75.2-168 168-168 50.9 0 96.4 22.6 127.3 58.3C406.2 83.7 422.6 80 440 80c66.3 0 120 53.7 120 120 0 6.6-.5 13-1.5 19.3 48 21 81.5 68.9 81.5 124.7 0 72.4-56.6 131.6-128 135.8"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 640 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Ch(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Mh extends ne {
  constructor(e) {
    super(), oe(this, e, Ch, _h, te, {})
  }
}
function Ah(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 512 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M322.3 268c9.4 2.6 19.3 4 29.7 4 60.5 0 109.8-48 111.9-108l-25.3 25.3c-12 12-28.3 18.7-45.3 18.7H368c-35.3 0-64-28.7-64-64v-25.4c0-17 6.7-33.3 18.7-45.3L348 48.1c-60 2-108 51.4-108 111.9 0 10.3 1.4 20.3 4 29.7 4.6 16.6-.2 34.4-12.4 46.6L57.1 410.7c-5.9 5.8-9.1 13.8-9.1 22.1C48 450 62 464 79.2 464c8.3 0 16.2-3.3 22.1-9.1l174.4-174.5c12.2-12.2 30-16.9 46.6-12.4M424.6 39.4l-67.9 67.9c-3 3-4.7 7.1-4.7 11.3V144c0 8.8 7.2 16 16 16h25.4c4.2 0 8.3-1.7 11.3-4.7l67.9-67.9c7.2-7.2 19.3-5.9 23.7 3.3 10.1 21 15.7 44.5 15.7 69.3 0 88.4-71.6 160-160 160-14.7 0-28.9-2-42.3-5.7L135.2 488.8a79.09 79.09 0 0 1-56 23.2C35.5 512 0 476.5 0 432.8c0-21 8.3-41.1 23.2-56l174.5-174.5c-3.7-13.4-5.7-27.6-5.7-42.3C192 71.6 263.6 0 352 0c24.8 0 48.3 5.7 69.3 15.7 9.2 4.4 10.5 16.5 3.3 23.7M88 408a16 16 0 1 1 0 32 16 16 0 1 1 0-32"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 512 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function kh(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Eh extends ne {
  constructor(e) {
    super(), oe(this, e, kh, Ah, te, {})
  }
}
function Ih(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 576 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M234.7 42.7 197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1 14.1 37.7c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2l-37.7-14.1L263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5zM461.4 48 496 82.6 386.2 192.3l-34.6-34.6zM80 429.4l237.7-237.7 34.6 34.6L114.6 464zM427.4 14.1 46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0l381.3-381.4c18.7-18.7 18.7-49.1 0-67.9l-34.6-34.5c-18.7-18.7-49.1-18.7-67.9 0M7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L64 96zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 576 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Sh(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Th extends ne {
  constructor(e) {
    super(), oe(this, e, Sh, Ih, te, {})
  }
}
function Lh(s) {
  let e, n, t, o, r, i
  return (
    (e = new Th({})),
    (t = new Ve({
      props: { size: 2, $$slots: { default: [Fh] }, $$scope: { ctx: s } },
    })),
    (r = new Ve({
      props: {
        size: 1,
        class: "c-mode-secondary-label",
        $$slots: { default: [Dh] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment),
          (n = j()),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment)
      },
      m(c, a) {
        y(e, c, a), M(c, n, a), y(t, c, a), M(c, o, a), y(r, c, a), (i = !0)
      },
      i(c) {
        i ||
          (d(e.$$.fragment, c),
          d(t.$$.fragment, c),
          d(r.$$.fragment, c),
          (i = !0))
      },
      o(c) {
        m(e.$$.fragment, c), m(t.$$.fragment, c), m(r.$$.fragment, c), (i = !1)
      },
      d(c) {
        c && (x(n), x(o)), b(e, c), b(t, c), b(r, c)
      },
    }
  )
}
function Rh(s) {
  let e, n, t, o
  return (
    (e = new Eh({})),
    (t = new Ve({
      props: { size: 2, $$slots: { default: [Oh] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Ph(s) {
  let e, n, t, o
  return (
    (e = new xh({})),
    (t = new Ve({
      props: { size: 2, $$slots: { default: [zh] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Nh(s) {
  let e, n, t, o
  return (
    (e = new Mh({})),
    (t = new Ve({
      props: { size: 2, $$slots: { default: [Bh] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Fh(s) {
  let e
  return {
    c() {
      e = K("Agent")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Dh(s) {
  let e
  return {
    c() {
      e = K("Auto")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Oh(s) {
  let e
  return {
    c() {
      e = K("Agent")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function zh(s) {
  let e
  return {
    c() {
      e = K("Chat")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Bh(s) {
  let e
  return {
    c() {
      e = K("Remote Agent")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function jh(s) {
  let e, n, t, o
  const r = [Nh, Ph, Rh, Lh],
    i = []
  function c(a, l) {
    return a[2]
      ? 0
      : a[0]
        ? a[1] === In.manual
          ? 2
          : a[1] === In.auto
            ? 3
            : -1
        : 1
  }
  return (
    ~(n = c(s)) && (t = i[n] = r[n](s)),
    {
      c() {
        ;(e = F("div")),
          t && t.c(),
          A(e, "class", "c-mode-display svelte-zm754")
      },
      m(a, l) {
        M(a, e, l), ~n && i[n].m(e, null), (o = !0)
      },
      p(a, [l]) {
        let u = n
        ;(n = c(a)),
          n !== u &&
            (t &&
              (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X()),
            ~n
              ? ((t = i[n]),
                t || ((t = i[n] = r[n](a)), t.c()),
                d(t, 1),
                t.m(e, null))
              : (t = null))
      },
      i(a) {
        o || (d(t), (o = !0))
      },
      o(a) {
        m(t), (o = !1)
      },
      d(a) {
        a && x(e), ~n && i[n].d()
      },
    }
  )
}
function Hh(s, e, n) {
  let { isAgentEnabled: t = !1 } = e,
    { agentExecutionMode: o } = e,
    { isBackgroundAgent: r = !1 } = e
  return (
    (s.$$set = (i) => {
      "isAgentEnabled" in i && n(0, (t = i.isAgentEnabled)),
        "agentExecutionMode" in i && n(1, (o = i.agentExecutionMode)),
        "isBackgroundAgent" in i && n(2, (r = i.isBackgroundAgent))
    }),
    [t, o, r]
  )
}
class qs extends ne {
  constructor(e) {
    super(),
      oe(this, e, Hh, jh, te, {
        isAgentEnabled: 0,
        agentExecutionMode: 1,
        isBackgroundAgent: 2,
      })
  }
}
function Uh(s) {
  let e, n, t
  return (
    (n = new qs({
      props: {
        isAgentEnabled: s[2],
        agentExecutionMode: s[3],
        isBackgroundAgent: s[6],
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-mode-display-item svelte-e7nc78"),
          je(e, "c-mode-display-item--selected", s[5])
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        4 & r && (i.isAgentEnabled = o[2]),
          8 & r && (i.agentExecutionMode = o[3]),
          64 & r && (i.isBackgroundAgent = o[6]),
          n.$set(i),
          (!t || 32 & r) && je(e, "c-mode-display-item--selected", o[5])
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Wh(s) {
  let e, n
  return (
    (e = new Fe.Item({
      props: {
        onSelect: s[0],
        $$slots: { default: [Uh] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.onSelect = t[0]),
          236 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function qh(s) {
  let e, n, t
  return (
    (n = new wt({
      props: {
        triggerOn: [Lt.Hover],
        content: s[1],
        side: s[4],
        $$slots: { default: [Wh] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-mode-display-item-container svelte-e7nc78")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, [r]) {
        const i = {}
        2 & r && (i.content = o[1]),
          16 & r && (i.side = o[4]),
          237 & r && (i.$$scope = { dirty: r, ctx: o }),
          n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Gh(s, e, n) {
  let { onSelect: t } = e,
    { tooltipContent: o = "" } = e,
    { isAgentEnabled: r = !1 } = e,
    { agentExecutionMode: i } = e,
    { tooltipSide: c = "top" } = e,
    { selected: a = !1 } = e,
    { isBackgroundAgent: l = !1 } = e
  return (
    (s.$$set = (u) => {
      "onSelect" in u && n(0, (t = u.onSelect)),
        "tooltipContent" in u && n(1, (o = u.tooltipContent)),
        "isAgentEnabled" in u && n(2, (r = u.isAgentEnabled)),
        "agentExecutionMode" in u && n(3, (i = u.agentExecutionMode)),
        "tooltipSide" in u && n(4, (c = u.tooltipSide)),
        "selected" in u && n(5, (a = u.selected)),
        "isBackgroundAgent" in u && n(6, (l = u.isBackgroundAgent))
    }),
    [t, o, r, i, c, a, l]
  )
}
class Pr extends ne {
  constructor(e) {
    super(),
      oe(this, e, Gh, qh, te, {
        onSelect: 0,
        tooltipContent: 1,
        isAgentEnabled: 2,
        agentExecutionMode: 3,
        tooltipSide: 4,
        selected: 5,
        isBackgroundAgent: 6,
      })
  }
}
function Vh(s) {
  let e,
    n,
    t = {
      onOpenChange: s[13],
      nested: !1,
      $$slots: { default: [eg] },
      $$scope: { ctx: s },
    }
  return (
    (e = new Fe.Root({ props: t })),
    s[23](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        const i = {}
        67112724 & r && (i.$$scope = { dirty: r, ctx: o }), e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[23](null), b(e, o)
      },
    }
  )
}
function Yh(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 1,
        variant: "ghost",
        color: "accent",
        disabled: !0,
        title: "You can only interact with your remote agent in this window.",
        $$slots: { default: [tg] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        67108864 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ha(s) {
  let e, n
  return (
    (e = new Vu({ props: { startOnMount: !0, repeat: "infinite" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Xh(s) {
  let e, n
  return (
    (e = new Qo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Kh(s) {
  let e, n
  return (
    (e = new fu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Zh(s) {
  var g
  let e,
    n,
    t,
    o,
    r,
    i,
    c,
    a = s[4] && Ha()
  t = new qs({
    props: {
      isAgentEnabled: s[10],
      agentExecutionMode: s[11],
      isBackgroundAgent: (g = s[9]) == null ? void 0 : g.isActive,
    },
  })
  const l = [Kh, Xh],
    u = []
  function p(h, k) {
    return h[2] ? 0 : 1
  }
  return (
    (r = p(s)),
    (i = u[r] = l[r](s)),
    {
      c() {
        a && a.c(),
          (e = j()),
          (n = F("div")),
          w(t.$$.fragment),
          (o = j()),
          i.c(),
          A(n, "class", "c-toggle-mode-button__trigger-text")
      },
      m(h, k) {
        a && a.m(h, k),
          M(h, e, k),
          M(h, n, k),
          y(t, n, null),
          B(n, o),
          u[r].m(n, null),
          (c = !0)
      },
      p(h, k) {
        var S
        h[4]
          ? a
            ? 16 & k && d(a, 1)
            : ((a = Ha()), a.c(), d(a, 1), a.m(e.parentNode, e))
          : a &&
            (Y(),
            m(a, 1, 1, () => {
              a = null
            }),
            X())
        const I = {}
        1024 & k && (I.isAgentEnabled = h[10]),
          2048 & k && (I.agentExecutionMode = h[11]),
          512 & k &&
            (I.isBackgroundAgent = (S = h[9]) == null ? void 0 : S.isActive),
          t.$set(I)
        let C = r
        ;(r = p(h)),
          r !== C &&
            (Y(),
            m(u[C], 1, 1, () => {
              u[C] = null
            }),
            X(),
            (i = u[r]),
            i || ((i = u[r] = l[r](h)), i.c()),
            d(i, 1),
            i.m(n, null))
      },
      i(h) {
        c || (d(a), d(t.$$.fragment, h), d(i), (c = !0))
      },
      o(h) {
        m(a), m(t.$$.fragment, h), m(i), (c = !1)
      },
      d(h) {
        h && (x(e), x(n)), a && a.d(h), b(t), u[r].d()
      },
    }
  )
}
function Jh(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 1,
        variant: s[4] ? "soft" : "ghost",
        color: "accent",
        $$slots: { default: [Zh] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        16 & o && (r.variant = t[4] ? "soft" : "ghost"),
          67112468 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ua(s) {
  let e, n
  return (
    (e = new Pr({
      props: {
        onSelect: s[22],
        isBackgroundAgent: !0,
        tooltipSide: "right",
        tooltipContent: "Run background agents in the cloud",
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Qh(s) {
  let e, n, t, o, r, i, c, a
  ;(e = new Pr({
    props: {
      onSelect: s[19],
      isAgentEnabled: !1,
      tooltipSide: "right",
      tooltipContent: "Ask Augment",
    },
  })),
    (t = new Pr({
      props: {
        onSelect: s[20],
        isAgentEnabled: !0,
        agentExecutionMode: In.manual,
        tooltipSide: "right",
        tooltipContent: "Require approval for some tools",
      },
    })),
    (r = new Pr({
      props: {
        onSelect: s[21],
        isAgentEnabled: !0,
        agentExecutionMode: In.auto,
        tooltipSide: "right",
        tooltipContent: "Autorun all tools",
      },
    }))
  let l = s[8] && Ua(s)
  return {
    c() {
      w(e.$$.fragment),
        (n = j()),
        w(t.$$.fragment),
        (o = j()),
        w(r.$$.fragment),
        (i = j()),
        l && l.c(),
        (c = he())
    },
    m(u, p) {
      y(e, u, p),
        M(u, n, p),
        y(t, u, p),
        M(u, o, p),
        y(r, u, p),
        M(u, i, p),
        l && l.m(u, p),
        M(u, c, p),
        (a = !0)
    },
    p(u, p) {
      u[8]
        ? l
          ? (l.p(u, p), 256 & p && d(l, 1))
          : ((l = Ua(u)), l.c(), d(l, 1), l.m(c.parentNode, c))
        : l &&
          (Y(),
          m(l, 1, 1, () => {
            l = null
          }),
          X())
    },
    i(u) {
      a ||
        (d(e.$$.fragment, u),
        d(t.$$.fragment, u),
        d(r.$$.fragment, u),
        d(l),
        (a = !0))
    },
    o(u) {
      m(e.$$.fragment, u),
        m(t.$$.fragment, u),
        m(r.$$.fragment, u),
        m(l),
        (a = !1)
    },
    d(u) {
      u && (x(n), x(o), x(i), x(c)), b(e, u), b(t, u), b(r, u), l && l.d(u)
    },
  }
}
function eg(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [Jh] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "top",
        align: "start",
        $$slots: { default: [Qh] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        67112468 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        67109120 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function tg(s) {
  let e, n, t
  return (
    (n = new qs({ props: { isAgentEnabled: !0, isBackgroundAgent: !0 } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-toggle-mode-button__trigger-text")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function ng(s) {
  let e, n, t, o
  const r = [Yh, Vh],
    i = []
  function c(a, l) {
    return a[1].flags.isRemoteAgentWindow ? 0 : 1
  }
  return (
    (n = c(s)),
    (t = i[n] = r[n](s)),
    {
      c() {
        ;(e = F("div")),
          t.c(),
          A(e, "class", "c-toggle-mode-button svelte-1hoi5c5")
      },
      m(a, l) {
        M(a, e, l), i[n].m(e, null), (o = !0)
      },
      p(a, [l]) {
        let u = n
        ;(n = c(a)),
          n === u
            ? i[n].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (t = i[n]),
              t ? t.p(a, l) : ((t = i[n] = r[n](a)), t.c()),
              d(t, 1),
              t.m(e, null))
      },
      i(a) {
        o || (d(t), (o = !0))
      },
      o(a) {
        m(t), (o = !1)
      },
      d(a) {
        a && x(e), i[n].d()
      },
    }
  )
}
function og(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p,
    g,
    h = N,
    k = N,
    I = () => (k(), (k = mt(H, (ee) => n(1, (u = ee)))), H),
    C = N,
    S = N
  s.$$.on_destroy.push(() => h()),
    s.$$.on_destroy.push(() => k()),
    s.$$.on_destroy.push(() => C()),
    s.$$.on_destroy.push(() => S())
  let { chatModel: H = Xe("chatModel") } = e
  I()
  let { agentConversationModel: O = Xe("agentConversationModel") } = e
  const z = Xe(_o.key)
  Ge(s, z, (ee) => n(9, (a = ee)))
  const $e = Xe(Xo.key),
    pe = Xe(Vo) ?? Ct(Gr)
  let re,
    le = !1
  function ue() {
    $e.setToChat(), re == null || re.requestClose(), Wo(pe, z)
  }
  async function Ee(ee) {
    await $e.setToAgent(ee),
      n(4, (c = !1)),
      Wo(pe, z),
      re == null || re.requestClose()
  }
  function be() {
    z
      ? ($e.setToRemoteAgent(), Wo(pe, a), re == null || re.requestClose())
      : console.error("No remote agents model found")
  }
  return (
    (s.$$set = (ee) => {
      "chatModel" in ee && I(n(0, (H = ee.chatModel))),
        "agentConversationModel" in ee && n(17, (O = ee.agentConversationModel))
    }),
    (s.$$.update = () => {
      2 & s.$$.dirty && n(8, (t = u.flags.enableBackgroundAgents)),
        131072 & s.$$.dirty &&
          (n(7, (o = O.isCurrConversationAgentic)),
          C(),
          (C = mt(o, (ee) => n(10, (p = ee))))),
        2 & s.$$.dirty &&
          (n(6, (r = u.agentExecutionMode)),
          S(),
          (S = mt(r, (ee) => n(11, (g = ee))))),
        131072 & s.$$.dirty &&
          (n(5, (i = O.hasEverUsedAgent)),
          h(),
          (h = mt(i, (ee) => n(18, (l = ee))))),
        262144 & s.$$.dirty && n(4, (c = l === !1))
    }),
    [
      H,
      u,
      le,
      re,
      c,
      i,
      r,
      o,
      t,
      a,
      p,
      g,
      z,
      function (ee) {
        n(2, (le = ee))
      },
      ue,
      Ee,
      be,
      O,
      l,
      () => ue(),
      () => Ee(In.manual),
      () => Ee(In.auto),
      () => be(),
      function (ee) {
        bt[ee ? "unshift" : "push"](() => {
          ;(re = ee), n(3, re)
        })
      },
    ]
  )
}
class rg extends ne {
  constructor(e) {
    super(),
      oe(this, e, og, ng, te, { chatModel: 0, agentConversationModel: 17 })
  }
}
function sg(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 384 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="m134.6 51.7-10.8 140.9c-1.1 14.6-8.8 27.8-20.9 36-23.9 16.2-41.8 40.8-49.1 70.3l-1.3 5.1H168v-88c0-13.3 10.7-24 24-24s24 10.7 24 24v88h115.5l-1.3-5.1c-7.4-29.5-25.2-54.1-49.1-70.2-12.1-8.2-19.8-21.5-20.9-36l-10.8-141c-.1-1.2-.1-2.5-.1-3.7H134.8c0 1.2 0 2.5-.1 3.7zM168 352H32c-9.9 0-19.2-4.5-25.2-12.3s-8.2-17.9-5.8-27.5l6.2-25c10.3-41.3 35.4-75.7 68.7-98.3L83.1 96l3.7-48H56c-4.4 0-8.6-1.2-12.2-3.3C36.8 40.5 32 32.8 32 24 32 10.7 42.7 0 56 0h272c13.3 0 24 10.7 24 24 0 8.8-4.8 16.5-11.8 20.7-3.6 2.1-7.7 3.3-12.2 3.3h-30.8l3.7 48 7.1 92.9c33.3 22.6 58.4 57.1 68.7 98.3l6.2 25c2.4 9.6.2 19.7-5.8 27.5S361.7 352 351.9 352h-136v136c0 13.3-10.7 24-24 24s-24-10.7-24-24V352z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 384 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function ig(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
let ag = class extends ne {
  constructor(s) {
    super(), oe(this, s, ig, sg, te, {})
  }
}
function cg(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 384 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M32 32C32 14.3 46.3 0 64 0h256c17.7 0 32 14.3 32 32s-14.3 32-32 32h-29.5l11.4 148.2c36.7 19.9 65.7 53.2 79.5 94.7l1 3c3.3 9.8 1.6 20.5-4.4 28.8S362.3 352 352 352H32c-10.3 0-19.9-4.9-26-13.3s-7.7-19.1-4.4-28.8l1-3c13.8-41.5 42.8-74.8 79.5-94.7L93.5 64H64c-17.7 0-32-14.3-32-32m128 352h64v96c0 17.7-14.3 32-32 32s-32-14.3-32-32z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 384 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function lg(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class ug extends ne {
  constructor(e) {
    super(), oe(this, e, lg, cg, te, {})
  }
}
function dg(s) {
  let e, n
  return (
    (e = new ag({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function fg(s) {
  let e, n
  return (
    (e = new ug({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function mg(s) {
  let e, n, t, o
  const r = [fg, dg],
    i = []
  function c(a, l) {
    return a[0] ? 0 : 1
  }
  return (
    (n = c(s)),
    (t = i[n] = r[n](s)),
    {
      c() {
        ;(e = F("span")), t.c(), A(e, "class", "c-pin-button svelte-16rnrv4")
      },
      m(a, l) {
        M(a, e, l), i[n].m(e, null), (o = !0)
      },
      p(a, l) {
        let u = n
        ;(n = c(a)),
          n !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (t = i[n]),
            t || ((t = i[n] = r[n](a)), t.c()),
            d(t, 1),
            t.m(e, null))
      },
      i(a) {
        o || (d(t), (o = !0))
      },
      o(a) {
        m(t), (o = !1)
      },
      d(a) {
        a && x(e), i[n].d()
      },
    }
  )
}
function pg(s) {
  let e, n
  return (
    (e = new po.IconButton({
      props: {
        color: "neutral",
        $$slots: { default: [mg] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[3]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        17 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $g(s) {
  let e, n
  return (
    (e = new wt({
      props: { content: s[2], $$slots: { default: [pg] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        4 & o && (r.content = t[2]),
          19 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function hg(s, e, n) {
  let { isPinned: t = !1 } = e,
    { onPin: o } = e,
    { title: r = t ? "Unpin" : "Pin to context" } = e
  return (
    (s.$$set = (i) => {
      "isPinned" in i && n(0, (t = i.isPinned)),
        "onPin" in i && n(1, (o = i.onPin)),
        "title" in i && n(2, (r = i.title))
    }),
    [
      t,
      o,
      r,
      (i) => {
        i.stopPropagation(), o()
      },
    ]
  )
}
class gg extends ne {
  constructor(e) {
    super(), oe(this, e, hg, $g, te, { isPinned: 0, onPin: 1, title: 2 })
  }
}
function vg(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 576 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M156 32C100.6 32 48.8 46.6 27.1 53.6 10.3 59 0 74.5 0 91.1v312.4c0 26.1 24 44.2 48 40.2 19.8-3.3 54.8-7.7 100-7.7 54 0 97.5 25.5 112.5 35.6 7.5 5 16.8 8.4 27 8.4 11.5 0 21.6-4.2 29.3-9.9 13.4-9.8 52.3-34.1 111.2-34.1 47.7 0 80.5 4 99 7.2 23.9 4.1 49-13.8 49-40.6V91.1c0-16.5-10.3-32.1-27.1-37.5C527.2 46.6 475.4 32 420 32c-36.8 0-71.8 6.4-97.4 12.7-12.8 3.2-23.5 6.3-30.9 8.7-1.3.4-2.6.8-3.7 1.2-1.1-.4-2.4-.8-3.7-1.2-7.5-2.4-18.1-5.5-30.9-8.7C227.8 38.4 192.8 32 156 32m108 65.3v320.6c-26-13.7-67.2-29.9-116-29.9-42.9 0-77.4 3.7-100 7.1V97.3C70.3 90.6 112.4 80 156 80c31.6 0 62.6 5.6 85.9 11.3 8.6 2.1 16.1 4.2 22.1 6m48 319.2V97.3c6-1.8 13.5-3.9 22.1-6C357.4 85.6 388.4 80 420 80c43.6 0 85.7 10.6 108 17.3v297.4c-21.7-3.3-54.9-6.7-100-6.7-51.4 0-90.8 15-116 28.6z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 576 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function wg(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class yg extends ne {
  constructor(e) {
    super(), oe(this, e, wg, vg, te, {})
  }
}
function bg(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 384 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M320 464c8.8 0 16-7.2 16-16V160h-80c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16v384c0 8.8 7.2 16 16 16zM0 64C0 28.7 28.7 0 64 0h165.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 384 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function xg(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
let Yu = class extends ne {
  constructor(s) {
    super(), oe(this, s, xg, bg, te, {})
  }
}
function _g(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 576 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M384 480h48c11.4 0 21.9-6 27.6-15.9l112-192c5.8-9.9 5.8-22.1.1-32.1s-16.2-16-27.7-16H144c-11.4 0-21.9 6-27.6 15.9L48 357.1V96c0-8.8 7.2-16 16-16h117.5c4.2 0 8.3 1.7 11.3 4.7l26.5 26.5c21 21 49.5 32.8 79.2 32.8H416c8.8 0 16 7.2 16 16v32h48v-32c0-35.3-28.7-64-64-64H298.5c-17 0-33.3-6.7-45.3-18.7l-26.5-26.6c-12-12-28.3-18.7-45.3-18.7H64C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h23.7z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 576 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Cg(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Mg extends ne {
  constructor(e) {
    super(), oe(this, e, Cg, _g, te, {})
  }
}
function Ag(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 512 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H289.9L247 53.1A71.983 71.983 0 0 0 196.1 32zM48 96c0-8.8 7.2-16 16-16h132.1c6.4 0 12.5 2.5 17 7l45.3 45.3c7.5 7.5 17.7 11.7 28.3 11.7H448c8.8 0 16 7.2 16 16v256c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16zm305.2 168.2c6.3-3.6 9.5-11.2 6.8-17.9-1.7-4.3-3.7-8.4-5.9-12.4l-2-3.5c-2.4-4-5.1-7.9-7.9-11.5-4.5-5.7-12.6-6.8-18.9-3.1l-1.2.7c-8 4.6-17.9 3.5-25.9-1.2s-14.1-12.7-14.1-21.9V192c0-7.3-4.9-13.8-12.2-14.8-5.2-.7-10.5-1.1-15.8-1.1s-10.7.4-15.8 1.1c-7.2 1-12.2 7.5-12.2 14.8v1.4c0 9.3-6.1 17.3-14.1 21.9s-17.9 5.8-25.9 1.2l-1.2-.7c-6.3-3.6-14.4-2.6-18.9 3.1-2.9 3.7-5.5 7.5-8 11.5l-2 3.4c-2.2 4-4.2 8.2-5.9 12.5-2.7 6.8.4 14.3 6.8 17.9l1.2.7c8 4.6 12 13.8 12 23.1s-4 18.4-12 23.1l-1.2.7c-6.3 3.6-9.5 11.2-6.8 17.9 1.7 4.3 3.7 8.4 5.9 12.4l2.1 3.6c2.4 4 5 7.8 7.9 11.5 4.5 5.7 12.6 6.8 18.9 3.1l1.2-.7c8-4.6 17.9-3.5 25.9 1.2s14.1 12.7 14.1 21.9v1.4c0 7.3 4.9 13.8 12.2 14.8 5.2.7 10.5 1.1 15.8 1.1s10.7-.4 15.8-1.1c7.2-1 12.2-7.5 12.2-14.8v-1.4c0-9.3 6.1-17.3 14.1-21.9s17.9-5.8 25.9-1.2l1.2.7c6.3 3.6 14.4 2.6 18.9-3.1 2.9-3.6 5.5-7.5 7.9-11.4l2.1-3.6c2.2-4 4.2-8.1 5.9-12.4 2.7-6.8-.4-14.3-6.8-17.9l-1.2-.7c-8-4.6-12-13.8-12-23.1s4-18.5 12-23.1l1.2-.7zM221 288a35 35 0 1 1 70 0 35 35 0 1 1-70 0"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 512 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function kg(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Eg extends ne {
  constructor(e) {
    super(), oe(this, e, kg, Ag, te, {})
  }
}
function Ig(s) {
  let e, n
  return (
    (e = new yg({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Sg(s) {
  let e, n
  return (
    (e = new Eg({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Tg(s) {
  let e, n
  return (
    (e = new Mg({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Lg(s) {
  let e, n
  return (
    (e = new Yu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Rg(s) {
  let e, n, t, o
  const r = [Lg, Tg, Sg, Ig],
    i = []
  function c(a, l) {
    return a[0] === "file"
      ? 0
      : a[0] === "folder-opened"
        ? 1
        : a[0] === "root-folder"
          ? 2
          : a[0] === "book"
            ? 3
            : -1
  }
  return (
    ~(e = c(s)) && (n = i[e] = r[e](s)),
    {
      c() {
        n && n.c(), (t = he())
      },
      m(a, l) {
        ~e && i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, [l]) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (n &&
              (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X()),
            ~e
              ? ((n = i[e]),
                n || ((n = i[e] = r[e](a)), n.c()),
                d(n, 1),
                n.m(t.parentNode, t))
              : (n = null))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), ~e && i[e].d(a)
      },
    }
  )
}
function Pg(s, e, n) {
  let { icon: t } = e
  return (
    (s.$$set = (o) => {
      "icon" in o && n(0, (t = o.icon))
    }),
    [t]
  )
}
class Ng extends ne {
  constructor(e) {
    super(), oe(this, e, Pg, Rg, te, { icon: 0 })
  }
}
function Br(s) {
  switch (s) {
    case Ir.DEFAULT:
      return Ki
    case Ir.PROTOTYPER:
      return D1
    case Ir.BRAINSTORM:
      return F1
    case Ir.REVIEWER:
      return N1
    default:
      return Ki
  }
}
function Fg(s) {
  let e,
    n = s[0].label + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      1 & o && n !== (n = t[0].label + "") && ze(e, n)
    },
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
function Dg(s) {
  let e, n, t, o, r, i, c, a
  return (
    (n = new O1({
      props: {
        heightPx: 32,
        floatHeight: 4,
        animationDuration: 2.25,
        $$slots: { default: [qg] },
        $$scope: { ctx: s },
      },
    })),
    (r = new Ve({
      props: {
        size: 2,
        weight: "medium",
        $$slots: { default: [Gg] },
        $$scope: { ctx: s },
      },
    })),
    (c = new Ve({
      props: { size: 1, $$slots: { default: [Vg] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          (o = F("div")),
          w(r.$$.fragment),
          (i = j()),
          w(c.$$.fragment),
          A(
            e,
            "class",
            "c-mention-hover-contents__personality-icon svelte-11069rs",
          ),
          A(o, "class", "c-mention-hover-contents__personality svelte-11069rs")
      },
      m(l, u) {
        M(l, e, u),
          y(n, e, null),
          M(l, t, u),
          M(l, o, u),
          y(r, o, null),
          B(o, i),
          y(c, o, null),
          (a = !0)
      },
      p(l, u) {
        const p = {}
        3 & u && (p.$$scope = { dirty: u, ctx: l }), n.$set(p)
        const g = {}
        3 & u && (g.$$scope = { dirty: u, ctx: l }), r.$set(g)
        const h = {}
        3 & u && (h.$$scope = { dirty: u, ctx: l }), c.$set(h)
      },
      i(l) {
        a ||
          (d(n.$$.fragment, l),
          d(r.$$.fragment, l),
          d(c.$$.fragment, l),
          (a = !0))
      },
      o(l) {
        m(n.$$.fragment, l), m(r.$$.fragment, l), m(c.$$.fragment, l), (a = !1)
      },
      d(l) {
        l && (x(e), x(t), x(o)), b(n), b(r), b(c)
      },
    }
  )
}
function Og(s) {
  var r, i
  let e, n, t, o
  return (
    (e = new _u({})),
    (t = new Kt({
      props: {
        filepath: `${s[0].selection.pathName}:L${(r = s[0].selection.fullRange) == null ? void 0 : r.startLineNumber}-${(i = s[0].selection.fullRange) == null ? void 0 : i.endLineNumber}`,
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(c, a) {
        y(e, c, a), M(c, n, a), y(t, c, a), (o = !0)
      },
      p(c, a) {
        var u, p
        const l = {}
        1 & a &&
          (l.filepath = `${c[0].selection.pathName}:L${(u = c[0].selection.fullRange) == null ? void 0 : u.startLineNumber}-${(p = c[0].selection.fullRange) == null ? void 0 : p.endLineNumber}`),
          t.$set(l)
      },
      i(c) {
        o || (d(e.$$.fragment, c), d(t.$$.fragment, c), (o = !0))
      },
      o(c) {
        m(e.$$.fragment, c), m(t.$$.fragment, c), (o = !1)
      },
      d(c) {
        c && x(n), b(e, c), b(t, c)
      },
    }
  )
}
function zg(s) {
  let e,
    n,
    t = s[0].userGuidelines.overLimit && Wa(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, r) {
      o[0].userGuidelines.overLimit
        ? t
          ? (t.p(o, r), 1 & r && d(t, 1))
          : ((t = Wa(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function Bg(s) {
  let e, n, t, o, r, i, c, a
  return (
    (t = new z1({})),
    (r = new Kt({
      props: {
        class: "c-source-folder-item",
        filepath: s[0].sourceFolder.folderRoot,
      },
    })),
    (c = new B1({
      props: { class: "guidelines-filespan", sourceFolder: s[0].sourceFolder },
    })),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment),
          (i = j()),
          w(c.$$.fragment),
          A(n, "class", "l-source-folder-name svelte-11069rs"),
          A(e, "class", "l-mention-hover-contents__source-folder")
      },
      m(l, u) {
        M(l, e, u),
          B(e, n),
          y(t, n, null),
          B(n, o),
          y(r, n, null),
          B(e, i),
          y(c, e, null),
          (a = !0)
      },
      p(l, u) {
        const p = {}
        1 & u && (p.filepath = l[0].sourceFolder.folderRoot), r.$set(p)
        const g = {}
        1 & u && (g.sourceFolder = l[0].sourceFolder), c.$set(g)
      },
      i(l) {
        a ||
          (d(t.$$.fragment, l),
          d(r.$$.fragment, l),
          d(c.$$.fragment, l),
          (a = !0))
      },
      o(l) {
        m(t.$$.fragment, l), m(r.$$.fragment, l), m(c.$$.fragment, l), (a = !1)
      },
      d(l) {
        l && x(e), b(t), b(r), b(c)
      },
    }
  )
}
function jg(s) {
  let e, n, t, o
  return (
    (e = new j1({})),
    (t = new Kt({ props: { filepath: s[0].externalSource.name } })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1 & i && (c.filepath = r[0].externalSource.name), t.$set(c)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Hg(s) {
  let e, n, t, o
  return (
    (e = new iu({})),
    (t = new Kt({ props: { filepath: s[0].folder.pathName } })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1 & i && (c.filepath = r[0].folder.pathName), t.$set(c)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Ug(s) {
  let e, n, t, o
  return (
    (e = new au({})),
    (t = new Kt({ props: { filepath: s[0].recentFile.pathName } })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1 & i && (c.filepath = r[0].recentFile.pathName), t.$set(c)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Wg(s) {
  let e, n, t, o
  return (
    (e = new au({})),
    (t = new Kt({ props: { filepath: s[0].file.pathName } })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1 & i && (c.filepath = r[0].file.pathName), t.$set(c)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function qg(s) {
  let e, n, t
  var o = Br(s[0].personality.type)
  return (
    o && (e = Cn(o, {})),
    {
      c() {
        e && w(e.$$.fragment), (n = he())
      },
      m(r, i) {
        e && y(e, r, i), M(r, n, i), (t = !0)
      },
      p(r, i) {
        if (1 & i && o !== (o = Br(r[0].personality.type))) {
          if (e) {
            Y()
            const c = e
            m(c.$$.fragment, 1, 0, () => {
              b(c, 1)
            }),
              X()
          }
          o
            ? ((e = Cn(o, {})),
              w(e.$$.fragment),
              d(e.$$.fragment, 1),
              y(e, n.parentNode, n))
            : (e = null)
        }
      },
      i(r) {
        t || (e && d(e.$$.fragment, r), (t = !0))
      },
      o(r) {
        e && m(e.$$.fragment, r), (t = !1)
      },
      d(r) {
        r && x(n), e && b(e, r)
      },
    }
  )
}
function Gg(s) {
  let e,
    n = s[0].label + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      1 & o && n !== (n = t[0].label + "") && ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function Vg(s) {
  let e,
    n = s[0].personality.description + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      1 & o && n !== (n = t[0].personality.description + "") && ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function Wa(s) {
  let e, n, t, o
  return (
    (e = new mn({
      props: { class: "c-mention-hover-contents__guidelines-warning-icon" },
    })),
    (t = new Kt({
      props: {
        filepath: `Guidelines exceeded length limit of ${s[0].userGuidelines.lengthLimit} characters`,
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1 & i &&
          (c.filepath = `Guidelines exceeded length limit of ${r[0].userGuidelines.lengthLimit} characters`),
          t.$set(c)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Yg(s) {
  let e, n, t, o, r, i, c, a, l, u, p, g
  const h = [Wg, Ug, Hg, jg, Bg, zg, Og, Dg, Fg],
    k = []
  function I(C, S) {
    return (
      1 & S && (n = null),
      1 & S && (t = null),
      1 & S && (o = null),
      1 & S && (r = null),
      1 & S && (i = null),
      1 & S && (c = null),
      1 & S && (a = null),
      1 & S && (l = null),
      n == null && (n = !(!C[0] || !Ls(C[0]))),
      n
        ? 0
        : (t == null && (t = !(!C[0] || !Rs(C[0]))),
          t
            ? 1
            : (o == null && (o = !(!C[0] || !Ps(C[0]))),
              o
                ? 2
                : (r == null && (r = !(!C[0] || !Ns(C[0]))),
                  r
                    ? 3
                    : (i == null && (i = !(!C[0] || !Vr(C[0]))),
                      i
                        ? 4
                        : (c == null &&
                            (c = !!(
                              C[0] &&
                              Fs(C[0]) &&
                              C[0].userGuidelines.enabled
                            )),
                          c
                            ? 5
                            : (a == null && (a = !(!C[0] || !Ds(C[0]))),
                              a
                                ? 6
                                : (l == null && (l = !(!C[0] || !mu(C[0]))),
                                  l ? 7 : 8)))))))
    )
  }
  return (
    (u = I(s, -1)),
    (p = k[u] = h[u](s)),
    {
      c() {
        ;(e = F("div")),
          p.c(),
          A(e, "class", "c-mention-hover-contents svelte-11069rs")
      },
      m(C, S) {
        M(C, e, S), k[u].m(e, null), (g = !0)
      },
      p(C, [S]) {
        let H = u
        ;(u = I(C, S)),
          u === H
            ? k[u].p(C, S)
            : (Y(),
              m(k[H], 1, 1, () => {
                k[H] = null
              }),
              X(),
              (p = k[u]),
              p ? p.p(C, S) : ((p = k[u] = h[u](C)), p.c()),
              d(p, 1),
              p.m(e, null))
      },
      i(C) {
        g || (d(p), (g = !0))
      },
      o(C) {
        m(p), (g = !1)
      },
      d(C) {
        C && x(e), k[u].d()
      },
    }
  )
}
function Xg(s, e, n) {
  let { option: t } = e
  return (
    (s.$$set = (o) => {
      "option" in o && n(0, (t = o.option))
    }),
    [t]
  )
}
class tr extends ne {
  constructor(e) {
    super(), oe(this, e, Xg, Yg, te, { option: 0 })
  }
}
function Kg(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 384 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M345 137c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-119 119L73 103c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l119 119L39 375c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l119-119L311 409c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-119-119z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 384 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Zg(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Xu extends ne {
  constructor(e) {
    super(), oe(this, e, Zg, Kg, te, {})
  }
}
const Jg = (s) => ({}),
  qa = (s) => ({ slot: "chaser" }),
  Qg = (s) => ({}),
  Ga = (s) => ({}),
  e0 = (s) => ({}),
  Va = (s) => ({ slot: "leftButtons" }),
  t0 = (s) => ({}),
  Ya = (s) => ({})
function Xa(s) {
  let e, n
  return (
    (e = new Ws({ props: { class: "c-pulse-chip-warning-icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function n0(s) {
  let e, n, t
  const o = s[4].default,
    r = Ze(o, s, s[5], null)
  let i = s[3] && Xa()
  return {
    c() {
      ;(e = F("div")),
        r && r.c(),
        (n = j()),
        i && i.c(),
        A(e, "class", "c-context-badge__content svelte-gkpz0s")
    },
    m(c, a) {
      M(c, e, a), r && r.m(e, null), B(e, n), i && i.m(e, null), (t = !0)
    },
    p(c, a) {
      r &&
        r.p &&
        (!t || 32 & a) &&
        Je(r, o, c, c[5], t ? et(o, c[5], a, null) : Qe(c[5]), null),
        c[3]
          ? i
            ? 8 & a && d(i, 1)
            : ((i = Xa()), i.c(), d(i, 1), i.m(e, null))
          : i &&
            (Y(),
            m(i, 1, 1, () => {
              i = null
            }),
            X())
    },
    i(c) {
      t || (d(r, c), d(i), (t = !0))
    },
    o(c) {
      m(r, c), m(i), (t = !1)
    },
    d(c) {
      c && x(e), r && r.d(c), i && i.d()
    },
  }
}
function o0(s) {
  let e
  const n = s[4].chaser,
    t = Ze(n, s, s[5], qa)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 32 & r) &&
        Je(t, n, o, o[5], e ? et(n, o[5], r, Jg) : Qe(o[5]), qa)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function r0(s) {
  let e
  const n = s[4].leftIcon,
    t = Ze(n, s, s[5], Ga),
    o =
      t ||
      (function (r) {
        let i, c
        return (
          (i = new Yu({})),
          {
            c() {
              w(i.$$.fragment)
            },
            m(a, l) {
              y(i, a, l), (c = !0)
            },
            i(a) {
              c || (d(i.$$.fragment, a), (c = !0))
            },
            o(a) {
              m(i.$$.fragment, a), (c = !1)
            },
            d(a) {
              b(i, a)
            },
          }
        )
      })()
  return {
    c() {
      o && o.c()
    },
    m(r, i) {
      o && o.m(r, i), (e = !0)
    },
    p(r, i) {
      t &&
        t.p &&
        (!e || 32 & i) &&
        Je(t, n, r, r[5], e ? et(n, r[5], i, Qg) : Qe(r[5]), Ga)
    },
    i(r) {
      e || (d(o, r), (e = !0))
    },
    o(r) {
      m(o, r), (e = !1)
    },
    d(r) {
      o && o.d(r)
    },
  }
}
function s0(s) {
  let e
  const n = s[4].leftButtons,
    t = Ze(n, s, s[5], Va),
    o =
      t ||
      (function (r) {
        let i, c, a
        return (
          (c = new po.IconButton({
            props: {
              disabled: !0,
              $$slots: { default: [r0] },
              $$scope: { ctx: r },
            },
          })),
          {
            c() {
              ;(i = F("div")),
                w(c.$$.fragment),
                A(i, "class", "c-context-badge__left-icon svelte-gkpz0s")
            },
            m(l, u) {
              M(l, i, u), y(c, i, null), (a = !0)
            },
            p(l, u) {
              const p = {}
              32 & u && (p.$$scope = { dirty: u, ctx: l }), c.$set(p)
            },
            i(l) {
              a || (d(c.$$.fragment, l), (a = !0))
            },
            o(l) {
              m(c.$$.fragment, l), (a = !1)
            },
            d(l) {
              l && x(i), b(c)
            },
          }
        )
      })(s)
  return {
    c() {
      o && o.c()
    },
    m(r, i) {
      o && o.m(r, i), (e = !0)
    },
    p(r, i) {
      t
        ? t.p &&
          (!e || 32 & i) &&
          Je(t, n, r, r[5], e ? et(n, r[5], i, e0) : Qe(r[5]), Va)
        : o && o.p && (!e || 32 & i) && o.p(r, e ? i : -1)
    },
    i(r) {
      e || (d(o, r), (e = !0))
    },
    o(r) {
      m(o, r), (e = !1)
    },
    d(r) {
      o && o.d(r)
    },
  }
}
function Ka(s) {
  let e, n
  return (
    (e = new po.IconButton({
      props: {
        class: "c-context-badge__remove-btn",
        title: s[2].title,
        size: s[1],
        variant: "ghost",
        color: "neutral",
        $$slots: { default: [i0] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[2].onRemove) && s[2].onRemove.apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        4 & o && (r.title = s[2].title),
          2 & o && (r.size = s[1]),
          32 & o && (r.$$scope = { dirty: o, ctx: s }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function i0(s) {
  let e, n
  return (
    (e = new Xu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function a0(s) {
  let e, n, t
  const o = s[4].rightButtons,
    r = Ze(o, s, s[5], Ya)
  let i = s[2] && Ka(s)
  return {
    c() {
      r && r.c(), (e = j()), i && i.c(), (n = he())
    },
    m(c, a) {
      r && r.m(c, a), M(c, e, a), i && i.m(c, a), M(c, n, a), (t = !0)
    },
    p(c, a) {
      r &&
        r.p &&
        (!t || 32 & a) &&
        Je(r, o, c, c[5], t ? et(o, c[5], a, t0) : Qe(c[5]), Ya),
        c[2]
          ? i
            ? (i.p(c, a), 4 & a && d(i, 1))
            : ((i = Ka(c)), i.c(), d(i, 1), i.m(n.parentNode, n))
          : i &&
            (Y(),
            m(i, 1, 1, () => {
              i = null
            }),
            X())
    },
    i(c) {
      t || (d(r, c), d(i), (t = !0))
    },
    o(c) {
      m(r, c), m(i), (t = !1)
    },
    d(c) {
      c && (x(e), x(n)), r && r.d(c), i && i.d(c)
    },
  }
}
function c0(s) {
  let e, n, t
  return (
    (n = new po.Root({
      props: {
        color: s[0],
        size: s[1],
        $$slots: {
          rightButtons: [a0],
          leftButtons: [s0],
          chaser: [o0],
          default: [n0],
        },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-context-badge svelte-gkpz0s")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, [r]) {
        const i = {}
        1 & r && (i.color = o[0]),
          2 & r && (i.size = o[1]),
          46 & r && (i.$$scope = { dirty: r, ctx: o }),
          n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function l0(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { color: r = "neutral" } = e,
    { size: i = 1 } = e,
    { removeBtn: c } = e,
    { showWarning: a } = e
  return (
    (s.$$set = (l) => {
      "color" in l && n(0, (r = l.color)),
        "size" in l && n(1, (i = l.size)),
        "removeBtn" in l && n(2, (c = l.removeBtn)),
        "showWarning" in l && n(3, (a = l.showWarning)),
        "$$scope" in l && n(5, (o = l.$$scope))
    }),
    [r, i, c, a, t, o]
  )
}
class to extends ne {
  constructor(e) {
    super(),
      oe(this, e, l0, c0, te, {
        color: 0,
        size: 1,
        removeBtn: 2,
        showWarning: 3,
      })
  }
}
function u0(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(n, "fill-rule", "evenodd"),
        A(n, "clip-rule", "evenodd"),
        A(
          n,
          "d",
          "M7.07095 0.650238C6.67391 0.650238 6.32977 0.925096 6.24198 1.31231L6.0039 2.36247C5.6249 2.47269 5.26335 2.62363 4.92436 2.81013L4.01335 2.23585C3.67748 2.02413 3.23978 2.07312 2.95903 2.35386L2.35294 2.95996C2.0722 3.2407 2.0232 3.6784 2.23493 4.01427L2.80942 4.92561C2.62307 5.2645 2.47227 5.62594 2.36216 6.00481L1.31209 6.24287C0.924883 6.33065 0.650024 6.6748 0.650024 7.07183V7.92897C0.650024 8.32601 0.924883 8.67015 1.31209 8.75794L2.36228 8.99603C2.47246 9.375 2.62335 9.73652 2.80979 10.0755L2.2354 10.9867C2.02367 11.3225 2.07267 11.7602 2.35341 12.041L2.95951 12.6471C3.24025 12.9278 3.67795 12.9768 4.01382 12.7651L4.92506 12.1907C5.26384 12.377 5.62516 12.5278 6.0039 12.6379L6.24198 13.6881C6.32977 14.0753 6.67391 14.3502 7.07095 14.3502H7.92809C8.32512 14.3502 8.66927 14.0753 8.75705 13.6881L8.99505 12.6383C9.37411 12.5282 9.73573 12.3773 10.0748 12.1909L10.986 12.7653C11.3218 12.977 11.7595 12.928 12.0403 12.6473L12.6464 12.0412C12.9271 11.7604 12.9761 11.3227 12.7644 10.9869L12.1902 10.076C12.3768 9.73688 12.5278 9.37515 12.638 8.99596L13.6879 8.75794C14.0751 8.67015 14.35 8.32601 14.35 7.92897V7.07183C14.35 6.6748 14.0751 6.33065 13.6879 6.24287L12.6381 6.00488C12.528 5.62578 12.3771 5.26414 12.1906 4.92507L12.7648 4.01407C12.9766 3.6782 12.9276 3.2405 12.6468 2.95975L12.0407 2.35366C11.76 2.07292 11.3223 2.02392 10.9864 2.23565L10.0755 2.80989C9.73622 2.62328 9.37437 2.47229 8.99505 2.36209L8.75705 1.31231C8.66927 0.925096 8.32512 0.650238 7.92809 0.650238H7.07095ZM4.92053 3.81251C5.44724 3.44339 6.05665 3.18424 6.71543 3.06839L7.07095 1.50024H7.92809L8.28355 3.06816C8.94267 3.18387 9.5524 3.44302 10.0794 3.81224L11.4397 2.9547L12.0458 3.56079L11.1882 4.92117C11.5573 5.44798 11.8164 6.0575 11.9321 6.71638L13.5 7.07183V7.92897L11.932 8.28444C11.8162 8.94342 11.557 9.55301 11.1878 10.0798L12.0453 11.4402L11.4392 12.0462L10.0787 11.1886C9.55192 11.5576 8.94241 11.8166 8.28355 11.9323L7.92809 13.5002H7.07095L6.71543 11.932C6.0569 11.8162 5.44772 11.5572 4.92116 11.1883L3.56055 12.046L2.95445 11.4399L3.81213 10.0794C3.4431 9.55266 3.18403 8.94326 3.06825 8.2845L1.50002 7.92897V7.07183L3.06818 6.71632C3.18388 6.05765 3.44283 5.44833 3.81171 4.92165L2.95398 3.561L3.56008 2.95491L4.92053 3.81251ZM9.02496 7.50008C9.02496 8.34226 8.34223 9.02499 7.50005 9.02499C6.65786 9.02499 5.97513 8.34226 5.97513 7.50008C5.97513 6.65789 6.65786 5.97516 7.50005 5.97516C8.34223 5.97516 9.02496 6.65789 9.02496 7.50008ZM9.92496 7.50008C9.92496 8.83932 8.83929 9.92499 7.50005 9.92499C6.1608 9.92499 5.07513 8.83932 5.07513 7.50008C5.07513 6.16084 6.1608 5.07516 7.50005 5.07516C8.83929 5.07516 9.92496 6.16084 9.92496 7.50008Z",
        ),
        A(n, "fill", "currentColor"),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "0 0 15 15"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class d0 extends ne {
  constructor(e) {
    super(), oe(this, e, null, u0, te, {})
  }
}
function Za(s, e, n) {
  const t = s.slice()
  return (t[1] = e[n]), t
}
function f0(s) {
  let e
  return {
    c() {
      e = K("Repos")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function m0(s) {
  let e,
    n = s[1].sourceFolderGroup.length + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      2 & o && n !== (n = t[1].sourceFolderGroup.length + "") && ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function p0(s) {
  let e, n, t
  n = new Ve({
    props: { size: 1, $$slots: { default: [m0] }, $$scope: { ctx: s } },
  })
  let o = [
      Bd("accent"),
      { slot: "leftIcon" },
      { class: "c-multi-repo-chip__count" },
    ],
    r = {}
  for (let i = 0; i < o.length; i += 1) r = Le(r, o[i])
  return {
    c() {
      ;(e = F("div")), w(n.$$.fragment), zd(e, r), je(e, "svelte-sqp0vc", !0)
    },
    m(i, c) {
      M(i, e, c), y(n, e, null), (t = !0)
    },
    p(i, c) {
      const a = {}
      4098 & c && (a.$$scope = { dirty: c, ctx: i }),
        n.$set(a),
        je(e, "svelte-sqp0vc", !0)
    },
    i(i) {
      t || (d(n.$$.fragment, i), (t = !0))
    },
    o(i) {
      m(n.$$.fragment, i), (t = !1)
    },
    d(i) {
      i && x(e), b(n)
    },
  }
}
function $0(s) {
  let e, n
  return (
    (e = new Eo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function h0(s) {
  let e, n
  return (
    (e = new po.IconButton({
      props: {
        title: "Open menu",
        variant: "ghost",
        color: "neutral",
        size: 1,
        $$slots: { default: [$0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4096 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function g0(s) {
  let e
  return {
    c() {
      e = K("Repos")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function v0(s) {
  let e,
    n,
    t = s[1].name + ""
  return {
    c() {
      ;(e = K(t)), (n = j())
    },
    m(o, r) {
      M(o, e, r), M(o, n, r)
    },
    p(o, r) {
      4 & r && t !== (t = o[1].name + "") && ze(e, t)
    },
    d(o) {
      o && (x(e), x(n))
    },
  }
}
function Ja(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        content: "Edit repo instructions",
        $$slots: { default: [y0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4100 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function w0(s) {
  let e, n
  return (
    (e = new d0({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function y0(s) {
  let e, n
  const t = [s[5]]
  let o = { $$slots: { default: [w0] }, $$scope: { ctx: s } }
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return (
    (e = new Et({ props: o })),
    e.$on("click", function () {
      kt(s[1].onEditGuideline) && s[1].onEditGuideline.apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), (n = !0)
      },
      p(r, i) {
        s = r
        const c = 32 & i ? Mt(t, [Jn(s[5])]) : {}
        4096 & i && (c.$$scope = { dirty: i, ctx: s }), e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r)
      },
    }
  )
}
function b0(s) {
  let e, n
  return (
    (e = new Jo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function x0(s) {
  let e, n
  const t = [s[5]]
  let o = { $$slots: { default: [b0] }, $$scope: { ctx: s } }
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return (
    (e = new Et({ props: o })),
    e.$on("click", function () {
      kt(s[1].onRemove) && s[1].onRemove.apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), (n = !0)
      },
      p(r, i) {
        s = r
        const c = 32 & i ? Mt(t, [Jn(s[5])]) : {}
        4096 & i && (c.$$scope = { dirty: i, ctx: s }), e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r)
      },
    }
  )
}
function _0(s) {
  let e,
    n,
    t,
    o,
    r,
    i = s[1].onEditGuideline && Ja(s)
  return (
    (t = new wt({
      props: {
        content: "Remove repo from context",
        $$slots: { default: [x0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          i && i.c(),
          (n = j()),
          w(t.$$.fragment),
          (o = j()),
          A(
            e,
            "class",
            "c-multi-repo-chip__dropdown-item__actions svelte-sqp0vc",
          ),
          A(e, "slot", "iconRight"),
          je(
            e,
            "c-multi-repo-chip__dropdown-item__guideline-space",
            s[3] && !s[1].onEditGuideline,
          )
      },
      m(c, a) {
        M(c, e, a), i && i.m(e, null), B(e, n), y(t, e, null), B(e, o), (r = !0)
      },
      p(c, a) {
        c[1].onEditGuideline
          ? i
            ? (i.p(c, a), 4 & a && d(i, 1))
            : ((i = Ja(c)), i.c(), d(i, 1), i.m(e, n))
          : i &&
            (Y(),
            m(i, 1, 1, () => {
              i = null
            }),
            X())
        const l = {}
        4100 & a && (l.$$scope = { dirty: a, ctx: c }),
          t.$set(l),
          (!r || 12 & a) &&
            je(
              e,
              "c-multi-repo-chip__dropdown-item__guideline-space",
              c[3] && !c[1].onEditGuideline,
            )
      },
      i(c) {
        r || (d(i), d(t.$$.fragment, c), (r = !0))
      },
      o(c) {
        m(i), m(t.$$.fragment, c), (r = !1)
      },
      d(c) {
        c && x(e), i && i.d(), b(t)
      },
    }
  )
}
function Qa(s) {
  let e, n
  const t = [
    s[1],
    { class: "c-multi-repo-chip__dropdown-item" },
    { highlight: !1 },
    { disabled: !0 },
  ]
  let o = { $$slots: { iconRight: [_0], default: [v0] }, $$scope: { ctx: s } }
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return (
    (e = new Fe.Item({ props: o })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), (n = !0)
      },
      p(r, i) {
        const c = 4 & i ? Mt(t, [Jn(r[1]), t[1], t[2], t[3]]) : {}
        4108 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r)
      },
    }
  )
}
function C0(s) {
  let e, n, t, o
  e = new Fe.Label({
    props: { $$slots: { default: [g0] }, $$scope: { ctx: s } },
  })
  let r = ht(s[2]),
    i = []
  for (let a = 0; a < r.length; a += 1) i[a] = Qa(Za(s, r, a))
  const c = (a) =>
    m(i[a], 1, 1, () => {
      i[a] = null
    })
  return {
    c() {
      w(e.$$.fragment), (n = j())
      for (let a = 0; a < i.length; a += 1) i[a].c()
      t = he()
    },
    m(a, l) {
      y(e, a, l), M(a, n, l)
      for (let u = 0; u < i.length; u += 1) i[u] && i[u].m(a, l)
      M(a, t, l), (o = !0)
    },
    p(a, l) {
      const u = {}
      if ((4096 & l && (u.$$scope = { dirty: l, ctx: a }), e.$set(u), 44 & l)) {
        let p
        for (r = ht(a[2]), p = 0; p < r.length; p += 1) {
          const g = Za(a, r, p)
          i[p]
            ? (i[p].p(g, l), d(i[p], 1))
            : ((i[p] = Qa(g)), i[p].c(), d(i[p], 1), i[p].m(t.parentNode, t))
        }
        for (Y(), p = r.length; p < i.length; p += 1) c(p)
        X()
      }
    },
    i(a) {
      if (!o) {
        d(e.$$.fragment, a)
        for (let l = 0; l < r.length; l += 1) d(i[l])
        o = !0
      }
    },
    o(a) {
      m(e.$$.fragment, a), (i = i.filter(Boolean))
      for (let l = 0; l < i.length; l += 1) m(i[l])
      o = !1
    },
    d(a) {
      a && (x(n), x(t)), b(e, a), fn(i, a)
    },
  }
}
function M0(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [h0] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: { $$slots: { default: [C0] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        4096 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        4108 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function A0(s) {
  let e, n
  return (
    (e = new Fe.Root({
      props: {
        slot: "rightButtons",
        $$slots: { default: [M0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4108 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function k0(s) {
  let e, n
  return (
    (e = new to({
      props: {
        $$slots: { rightButtons: [A0], leftIcon: [p0], default: [f0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        4110 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function E0(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a = N,
    l = N,
    u = () => (l(), (l = mt(g, (h) => n(6, (c = h)))), g)
  s.$$.on_destroy.push(() => a()), s.$$.on_destroy.push(() => l())
  let { item: p } = e,
    { chatModel: g } = e
  return (
    u(),
    (s.$$set = (h) => {
      "item" in h && n(1, (p = h.item)),
        "chatModel" in h && u(n(0, (g = h.chatModel)))
    }),
    (s.$$.update = () => {
      64 & s.$$.dirty &&
        (n(4, (t = c == null ? void 0 : c.specialContextInputModel)),
        a(),
        (a = mt(t, (h) => n(7, (i = h))))),
        2 & s.$$.dirty &&
          n(
            2,
            (o = p.sourceFolderGroup.map((h) => ({
              filePath: h.sourceFolder.folderRoot,
              name: Cs(h.sourceFolder.folderRoot),
              onRemove: () => {
                return (
                  (k = h),
                  i == null || i.markInactive(k),
                  void (i == null ? void 0 : i.unpin(k))
                )
                var k
              },
              onEditGuideline:
                !!h.sourceFolder.guidelinesEnabled &&
                (() => {
                  return (
                    (k = h.sourceFolder.folderRoot),
                    void (g == null
                      ? void 0
                      : g.extensionClient.openGuidelines(k))
                  )
                  var k
                }),
            }))),
          ),
        4 & s.$$.dirty && n(3, (r = o.some((h) => h.onEditGuideline)))
    }),
    [g, p, o, r, t, { size: 1, variant: "ghost-block", color: "neutral" }, c]
  )
}
class I0 extends ne {
  constructor(e) {
    super(), oe(this, e, E0, k0, te, { item: 1, chatModel: 0 })
  }
}
function S0(s) {
  let e,
    n,
    t,
    o = (s[0] ?? "") + ""
  return {
    c() {
      ;(e = F("pre")),
        (n = F("code")),
        (t = K(o)),
        A(e, "class", "c-selection-preview__code svelte-mrw7pf")
    },
    m(r, i) {
      M(r, e, i), B(e, n), B(n, t)
    },
    p(r, i) {
      1 & i && o !== (o = (r[0] ?? "") + "") && ze(t, o)
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function T0(s) {
  let e, n, t, o
  function r(a) {
    s[5](a)
  }
  var i = s[8].default
  function c(a, l) {
    let u = {
      text: a[0] ?? "",
      options: {
        automaticLayout: !0,
        lineNumbers: "off",
        wrappingIndent: "same",
        padding: { top: 0, bottom: 0 },
        wordWrap: "off",
        contextmenu: !1,
        wordBasedSuggestions: "off",
        renderLineHighlight: "none",
        occurrencesHighlight: "off",
        selectionHighlight: !1,
        codeLens: !1,
        links: !1,
        hover: { enabled: !1 },
        hideCursorInOverviewRuler: !0,
        renderWhitespace: "none",
        renderFinalNewline: "on",
      },
    }
    return a[1] !== void 0 && (u.editorInstance = a[1]), { props: u }
  }
  return (
    i && ((e = Cn(i, c(s))), bt.push(() => Qt(e, "editorInstance", r))),
    {
      c() {
        e && w(e.$$.fragment), (t = he())
      },
      m(a, l) {
        e && y(e, a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        if (i !== (i = a[8].default)) {
          if (e) {
            Y()
            const u = e
            m(u.$$.fragment, 1, 0, () => {
              b(u, 1)
            }),
              X()
          }
          i
            ? ((e = Cn(i, c(a))),
              bt.push(() => Qt(e, "editorInstance", r)),
              w(e.$$.fragment),
              d(e.$$.fragment, 1),
              y(e, t.parentNode, t))
            : (e = null)
        } else if (i) {
          const u = {}
          1 & l && (u.text = a[0] ?? ""),
            !n &&
              2 & l &&
              ((n = !0), (u.editorInstance = a[1]), tn(() => (n = !1))),
            e.$set(u)
        }
      },
      i(a) {
        o || (e && d(e.$$.fragment, a), (o = !0))
      },
      o(a) {
        e && m(e.$$.fragment, a), (o = !1)
      },
      d(a) {
        a && x(t), e && b(e, a)
      },
    }
  )
}
function L0(s) {
  let e,
    n,
    t,
    o = (s[0] ?? "") + ""
  return {
    c() {
      ;(e = F("pre")),
        (n = F("code")),
        (t = K(o)),
        A(e, "class", "c-selection-preview__code svelte-mrw7pf")
    },
    m(r, i) {
      M(r, e, i), B(e, n), B(n, t)
    },
    p(r, i) {
      1 & i && o !== (o = (r[0] ?? "") + "") && ze(t, o)
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function R0(s) {
  let e,
    n,
    t =
      s[3] &&
      (function (o) {
        let r,
          i,
          c = {
            ctx: o,
            current: null,
            token: null,
            hasCatch: !0,
            pending: L0,
            then: T0,
            catch: S0,
            value: 8,
            blocks: [, , ,],
          }
        return (
          Ao(o[3], c),
          {
            c() {
              ;(r = he()), c.block.c()
            },
            m(a, l) {
              M(a, r, l),
                c.block.m(a, (c.anchor = l)),
                (c.mount = () => r.parentNode),
                (c.anchor = r),
                (i = !0)
            },
            p(a, l) {
              Kr(c, (o = a), l)
            },
            i(a) {
              i || (d(c.block), (i = !0))
            },
            o(a) {
              for (let l = 0; l < 3; l += 1) {
                const u = c.blocks[l]
                m(u)
              }
              i = !1
            },
            d(a) {
              a && x(r), c.block.d(a), (c.token = null), (c = null)
            },
          }
        )
      })(s)
  return {
    c() {
      ;(e = F("div")),
        t && t.c(),
        A(e, "class", "c-selection-hover-contents svelte-mrw7pf"),
        A(e, "style", s[2])
    },
    m(o, r) {
      M(o, e, r), t && t.m(e, null), (n = !0)
    },
    p(o, [r]) {
      o[3] && t.p(o, r), (!n || 4 & r) && A(e, "style", o[2])
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d()
    },
  }
}
function P0(s, e, n) {
  let { originalCode: t } = e
  const o = Zr(
    () => import("./index-UCrRExsK.js").then((l) => l.c),
    __vite__mapDeps([0, 1, 2, 3]),
    import.meta.url,
  )
  let r,
    i = "",
    c = !1
  const a = async (l, u) => {
    n(4, (c = !0)),
      n(
        2,
        (i = `
         width: ${l}px;
         height: min(${u}px, 40vh);
    `),
      )
  }
  return (
    (s.$$set = (l) => {
      "originalCode" in l && n(0, (t = l.originalCode))
    }),
    (s.$$.update = () => {
      2 & s.$$.dirty &&
        (r == null ||
          r.onDidContentSizeChange((l) => a(l.contentWidth, l.contentHeight))),
        18 & s.$$.dirty &&
          r &&
          !c &&
          a(
            r == null ? void 0 : r.getContentWidth(),
            r == null ? void 0 : r.getContentHeight(),
          )
    }),
    [
      t,
      r,
      i,
      o,
      c,
      function (l) {
        ;(r = l), n(1, r)
      },
    ]
  )
}
class N0 extends ne {
  constructor(e) {
    super(), oe(this, e, P0, R0, te, { originalCode: 0 })
  }
}
function F0(s) {
  let e, n
  const t = s[2].default,
    o = Ze(t, s, s[3], null)
  return {
    c() {
      ;(e = K(`Selection
    `)),
        o && o.c()
    },
    m(r, i) {
      M(r, e, i), o && o.m(r, i), (n = !0)
    },
    p(r, i) {
      o &&
        o.p &&
        (!n || 8 & i) &&
        Je(o, t, r, r[3], n ? et(t, r[3], i, null) : Qe(r[3]), null)
    },
    i(r) {
      n || (d(o, r), (n = !0))
    },
    o(r) {
      m(o, r), (n = !1)
    },
    d(r) {
      r && x(e), o && o.d(r)
    },
  }
}
function D0(s) {
  let e, n
  return (
    (e = new _u({ props: { slot: "leftIcon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function O0(s) {
  let e, n
  return (
    (e = new to({
      props: {
        color: "info",
        removeBtn: { title: "Remove selection from context", onRemove: s[1] },
        $$slots: { leftIcon: [D0], default: [F0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o &&
          (r.removeBtn = {
            title: "Remove selection from context",
            onRemove: t[1],
          }),
          8 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function z0(s) {
  let e, n
  return (
    (e = new N0({ props: { slot: "content", originalCode: s[0] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.originalCode = t[0]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function B0(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        maxWidth: "",
        $$slots: { content: [z0], default: [O0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        11 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function j0(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { originalCode: r } = e,
    { onRemove: i } = e
  return (
    (s.$$set = (c) => {
      "originalCode" in c && n(0, (r = c.originalCode)),
        "onRemove" in c && n(1, (i = c.onRemove)),
        "$$scope" in c && n(3, (o = c.$$scope))
    }),
    [r, i, t, o]
  )
}
class H0 extends ne {
  constructor(e) {
    super(), oe(this, e, j0, B0, te, { originalCode: 0, onRemove: 1 })
  }
}
function ec(s) {
  let e, n, t, o
  const r = [W0, U0],
    i = []
  function c(a, l) {
    return a[2] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e === u
            ? i[e].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (n = i[e]),
              n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
              d(n, 1),
              n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function U0(s) {
  let e, n, t, o, r
  return (
    (n = new to({
      props: {
        $$slots: { leftIcon: [G0], default: [q0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "role", "button"),
          A(e, "tabindex", "0"),
          ln(e, "cursor", "pointer")
      },
      m(i, c) {
        M(i, e, c),
          y(n, e, null),
          (t = !0),
          o ||
            ((r = [Oe(e, "click", s[3]), Oe(e, "keyup", Fn("Enter", s[3]))]),
            (o = !0))
      },
      p(i, c) {
        const a = {}
        32 & c && (a.$$scope = { dirty: c, ctx: i }), n.$set(a)
      },
      i(i) {
        t || (d(n.$$.fragment, i), (t = !0))
      },
      o(i) {
        m(n.$$.fragment, i), (t = !1)
      },
      d(i) {
        i && x(e), b(n), (o = !1), Yt(r)
      },
    }
  )
}
function W0(s) {
  let e, n
  return (
    (e = new wt({
      props: { $$slots: { content: [K0], default: [X0] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        33 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function q0(s) {
  let e
  return {
    c() {
      e = K("User Guidelines")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function G0(s) {
  let e, n
  return (
    (e = new _1({ props: { slot: "leftIcon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function V0(s) {
  let e, n, t
  return {
    c() {
      ;(e = F("div")),
        (e.textContent = "User Guidelines"),
        A(e, "role", "button"),
        A(e, "tabindex", "0"),
        ln(e, "cursor", "pointer")
    },
    m(o, r) {
      M(o, e, r),
        n ||
          ((t = [Oe(e, "click", Uo(s[3])), Oe(e, "keyup", Fn("Enter", s[3]))]),
          (n = !0))
    },
    p: N,
    d(o) {
      o && x(e), (n = !1), Yt(t)
    },
  }
}
function Y0(s) {
  let e, n
  return (
    (e = new mn({
      props: { class: "c-user-guidelines-warning-icon", slot: "leftIcon" },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function X0(s) {
  let e, n
  return (
    (e = new to({
      props: {
        $$slots: { leftIcon: [Y0], default: [V0] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        32 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function K0(s) {
  let e, n
  return (
    (e = new tr({ props: { option: s[0], slot: "content" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.option = t[0]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Z0(s) {
  let e,
    n,
    t = s[1] && ec(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, [r]) {
      o[1]
        ? t
          ? (t.p(o, r), 2 & r && d(t, 1))
          : ((t = ec(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function J0(s, e, n) {
  let t,
    o,
    { item: r } = e
  const i = i1()
  return (
    (s.$$set = (c) => {
      "item" in c && n(0, (r = c.item))
    }),
    (s.$$.update = () => {
      var c
      1 & s.$$.dirty && n(2, (t = r.showWarning)),
        1 & s.$$.dirty &&
          n(
            1,
            (o = ((c = r.userGuidelines) == null ? void 0 : c.enabled) ?? !1),
          )
    }),
    [
      r,
      o,
      t,
      function () {
        i && i.extensionClient.openSettingsPage("userGuidelines")
      },
    ]
  )
}
class Q0 extends ne {
  constructor(e) {
    super(), oe(this, e, J0, Z0, te, { item: 0 })
  }
}
var Ku,
  e2 = { exports: {} }
Ku = () =>
  (() => {
    var s = [
        ,
        (o, r, i) => {
          i.r(r), i.d(r, { default: () => l })
          var c,
            a =
              ((c =
                typeof document < "u" && document.currentScript
                  ? document.currentScript.src
                  : void 0),
              function (u = {}) {
                var p,
                  g,
                  h = u
                function k() {
                  function f(D) {
                    const W = E
                    ;(v = $ = 0),
                      (E = new Map()),
                      W.forEach((J) => {
                        try {
                          J(D)
                        } catch (q) {
                          console.error(q)
                        }
                      }),
                      this.ob(),
                      T && T.Tb()
                  }
                  let $ = 0,
                    v = 0,
                    E = new Map(),
                    T = null,
                    R = null
                  ;(this.requestAnimationFrame = function (D) {
                    $ || ($ = requestAnimationFrame(f.bind(this)))
                    const W = ++v
                    return E.set(W, D), W
                  }),
                    (this.cancelAnimationFrame = function (D) {
                      E.delete(D),
                        $ && E.size == 0 && (cancelAnimationFrame($), ($ = 0))
                    }),
                    (this.Rb = function (D) {
                      R && (document.body.remove(R), (R = null)),
                        D ||
                          ((R = document.createElement("div")),
                          (R.style.backgroundColor = "black"),
                          (R.style.position = "fixed"),
                          (R.style.right = 0),
                          (R.style.top = 0),
                          (R.style.color = "white"),
                          (R.style.padding = "4px"),
                          (R.innerHTML = "RIVE FPS"),
                          (D = function (W) {
                            R.innerHTML = "RIVE FPS " + W.toFixed(1)
                          }),
                          document.body.appendChild(R)),
                        (T = new (function () {
                          let W = 0,
                            J = 0
                          this.Tb = function () {
                            var q = performance.now()
                            J
                              ? (++W,
                                1e3 < (q -= J) &&
                                  (D((1e3 * W) / q), (W = J = 0)))
                              : ((J = q), (W = 0))
                          }
                        })())
                    }),
                    (this.Ob = function () {
                      R && (document.body.remove(R), (R = null)), (T = null)
                    }),
                    (this.ob = function () {})
                }
                function I(f) {
                  console.assert(!0)
                  const $ = new Map()
                  let v = -1 / 0
                  this.push = function (E) {
                    return (
                      (E = (E + ((1 << f) - 1)) >> f),
                      $.has(E) && clearTimeout($.get(E)),
                      $.set(
                        E,
                        setTimeout(function () {
                          $.delete(E),
                            $.length == 0
                              ? (v = -1 / 0)
                              : E == v &&
                                ((v = Math.max(...$.keys())),
                                console.assert(v < E))
                        }, 1e3),
                      ),
                      (v = Math.max(E, v)),
                      v << f
                    )
                  }
                }
                h.ready = new Promise((f, $) => {
                  ;(p = f), (g = $)
                })
                const C = h.onRuntimeInitialized
                h.onRuntimeInitialized = function () {
                  C && C()
                  let f = h.decodeAudio
                  h.decodeAudio = function (T, R) {
                    R((T = f(T)))
                  }
                  let $ = h.decodeFont
                  h.decodeFont = function (T, R) {
                    R((T = $(T)))
                  }
                  const v = h.FileAssetLoader
                  ;(h.ptrToAsset = (T) => {
                    let R = h.ptrToFileAsset(T)
                    return R.isImage
                      ? h.ptrToImageAsset(T)
                      : R.isFont
                        ? h.ptrToFontAsset(T)
                        : R.isAudio
                          ? h.ptrToAudioAsset(T)
                          : R
                  }),
                    (h.CustomFileAssetLoader = v.extend(
                      "CustomFileAssetLoader",
                      {
                        __construct: function ({ loadContents: T }) {
                          this.__parent.__construct.call(this), (this.Gb = T)
                        },
                        loadContents: function (T, R) {
                          return (T = h.ptrToAsset(T)), this.Gb(T, R)
                        },
                      },
                    )),
                    (h.CDNFileAssetLoader = v.extend("CDNFileAssetLoader", {
                      __construct: function () {
                        this.__parent.__construct.call(this)
                      },
                      loadContents: function (T) {
                        let R = h.ptrToAsset(T)
                        return (
                          (T = R.cdnUuid) !== "" &&
                          ((D = R.cdnBaseUrl + "/" + T),
                          ((W = new XMLHttpRequest()).responseType =
                            "arraybuffer"),
                          (W.onreadystatechange = function () {
                            W.readyState == 4 &&
                              W.status == 200 &&
                              ((J) => {
                                R.decode(new Uint8Array(J.response))
                              })(W)
                          }),
                          W.open("GET", D, !0),
                          W.send(null),
                          !0)
                        )
                        var D, W
                      },
                    })),
                    (h.FallbackFileAssetLoader = v.extend(
                      "FallbackFileAssetLoader",
                      {
                        __construct: function () {
                          this.__parent.__construct.call(this), (this.kb = [])
                        },
                        addLoader: function (T) {
                          this.kb.push(T)
                        },
                        loadContents: function (T, R) {
                          for (let D of this.kb)
                            if (D.loadContents(T, R)) return !0
                          return !1
                        },
                      },
                    ))
                  let E = h.computeAlignment
                  h.computeAlignment = function (T, R, D, W, J = 1) {
                    return E.call(this, T, R, D, W, J)
                  }
                }
                const S =
                    "createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(
                      " ",
                    ),
                  H = new (function () {
                    function f() {
                      if (!$) {
                        let pt = function (V, fe, Ye) {
                          if (
                            ((fe = ve.createShader(fe)),
                            ve.shaderSource(fe, Ye),
                            ve.compileShader(fe),
                            0 < ((Ye = ve.getShaderInfoLog(fe)) || "").length)
                          )
                            throw Ye
                          ve.attachShader(V, fe)
                        }
                        var Pe = document.createElement("canvas"),
                          ke = {
                            alpha: 1,
                            depth: 0,
                            stencil: 0,
                            antialias: 0,
                            premultipliedAlpha: 1,
                            preserveDrawingBuffer: 0,
                            powerPreference: "high-performance",
                            failIfMajorPerformanceCaveat: 0,
                            enableExtensionsByDefault: 1,
                            explicitSwapControl: 1,
                            renderViaOffscreenBackBuffer: 1,
                          }
                        let ve
                        if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                          if (((ve = Pe.getContext("webgl", ke)), (v = 1), !ve))
                            return (
                              console.log(
                                "No WebGL support. Image mesh will not be drawn.",
                              ),
                              !1
                            )
                        } else if ((ve = Pe.getContext("webgl2", ke))) v = 2
                        else {
                          if (!(ve = Pe.getContext("webgl", ke)))
                            return (
                              console.log(
                                "No WebGL support. Image mesh will not be drawn.",
                              ),
                              !1
                            )
                          v = 1
                        }
                        if (
                          ((ve = new Proxy(ve, {
                            get: (V, fe) =>
                              V.isContextLost()
                                ? (J ||
                                    (console.error(
                                      "Cannot render the mesh because the GL Context was lost. Tried to invoke ",
                                      fe,
                                    ),
                                    (J = !0)),
                                  typeof V[fe] == "function"
                                    ? function () {}
                                    : void 0)
                                : typeof V[fe] == "function"
                                  ? function (...Ye) {
                                      return V[fe].apply(V, Ye)
                                    }
                                  : V[fe],
                            set(V, fe, Ye) {
                              if (!V.isContextLost()) return (V[fe] = Ye), !0
                              J ||
                                (console.error(
                                  "Cannot render the mesh because the GL Context was lost. Tried to set property " +
                                    fe,
                                ),
                                (J = !0))
                            },
                          })),
                          (E = Math.min(
                            ve.getParameter(ve.MAX_RENDERBUFFER_SIZE),
                            ve.getParameter(ve.MAX_TEXTURE_SIZE),
                          )),
                          pt(
                            (Pe = ve.createProgram()),
                            ve.VERTEX_SHADER,
                            `attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`,
                          ),
                          pt(
                            Pe,
                            ve.FRAGMENT_SHADER,
                            `precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`,
                          ),
                          ve.bindAttribLocation(Pe, 0, "vertex"),
                          ve.bindAttribLocation(Pe, 1, "uv"),
                          ve.linkProgram(Pe),
                          0 <
                            ((ke = ve.getProgramInfoLog(Pe)) || "").trim()
                              .length)
                        )
                          throw ke
                        ;(T = ve.getUniformLocation(Pe, "mat")),
                          (R = ve.getUniformLocation(Pe, "translate")),
                          ve.useProgram(Pe),
                          ve.bindBuffer(ve.ARRAY_BUFFER, ve.createBuffer()),
                          ve.enableVertexAttribArray(0),
                          ve.enableVertexAttribArray(1),
                          ve.bindBuffer(
                            ve.ELEMENT_ARRAY_BUFFER,
                            ve.createBuffer(),
                          ),
                          ve.uniform1i(ve.getUniformLocation(Pe, "image"), 0),
                          ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0),
                          ($ = ve)
                      }
                      return !0
                    }
                    let $ = null,
                      v = 0,
                      E = 0,
                      T = null,
                      R = null,
                      D = 0,
                      W = 0,
                      J = !1
                    f(),
                      (this.hc = function () {
                        return f(), E
                      }),
                      (this.Mb = function (Pe) {
                        $.deleteTexture && $.deleteTexture(Pe)
                      }),
                      (this.Lb = function (Pe) {
                        if (!f()) return null
                        const ke = $.createTexture()
                        return ke
                          ? ($.bindTexture($.TEXTURE_2D, ke),
                            $.texImage2D(
                              $.TEXTURE_2D,
                              0,
                              $.RGBA,
                              $.RGBA,
                              $.UNSIGNED_BYTE,
                              Pe,
                            ),
                            $.texParameteri(
                              $.TEXTURE_2D,
                              $.TEXTURE_WRAP_S,
                              $.CLAMP_TO_EDGE,
                            ),
                            $.texParameteri(
                              $.TEXTURE_2D,
                              $.TEXTURE_WRAP_T,
                              $.CLAMP_TO_EDGE,
                            ),
                            $.texParameteri(
                              $.TEXTURE_2D,
                              $.TEXTURE_MAG_FILTER,
                              $.LINEAR,
                            ),
                            v == 2
                              ? ($.texParameteri(
                                  $.TEXTURE_2D,
                                  $.TEXTURE_MIN_FILTER,
                                  $.LINEAR_MIPMAP_LINEAR,
                                ),
                                $.generateMipmap($.TEXTURE_2D))
                              : $.texParameteri(
                                  $.TEXTURE_2D,
                                  $.TEXTURE_MIN_FILTER,
                                  $.LINEAR,
                                ),
                            ke)
                          : null
                      })
                    const q = new I(8),
                      _e = new I(8),
                      Me = new I(10),
                      Se = new I(10)
                    ;(this.Qb = function (Pe, ke, ve, pt, V) {
                      if (f()) {
                        var fe = q.push(Pe),
                          Ye = _e.push(ke)
                        if ($.canvas) {
                          for (var It of (($.canvas.width == fe &&
                            $.canvas.height == Ye) ||
                            (($.canvas.width = fe), ($.canvas.height = Ye)),
                          $.viewport(0, Ye - ke, Pe, ke),
                          $.disable($.SCISSOR_TEST),
                          $.clearColor(0, 0, 0, 0),
                          $.clear($.COLOR_BUFFER_BIT),
                          $.enable($.SCISSOR_TEST),
                          ve.sort(($t, Ln) => Ln.wb - $t.wb),
                          (fe = Me.push(pt)),
                          D != fe &&
                            ($.bufferData(
                              $.ARRAY_BUFFER,
                              8 * fe,
                              $.DYNAMIC_DRAW,
                            ),
                            (D = fe)),
                          (fe = 0),
                          ve))
                            $.bufferSubData($.ARRAY_BUFFER, fe, It.Ta),
                              (fe += 4 * It.Ta.length)
                          for (var $n of (console.assert(fe == 4 * pt), ve))
                            $.bufferSubData($.ARRAY_BUFFER, fe, $n.Db),
                              (fe += 4 * $n.Db.length)
                          for (var so of (console.assert(fe == 8 * pt),
                          (fe = Se.push(V)),
                          W != fe &&
                            ($.bufferData(
                              $.ELEMENT_ARRAY_BUFFER,
                              2 * fe,
                              $.DYNAMIC_DRAW,
                            ),
                            (W = fe)),
                          (It = 0),
                          ve))
                            $.bufferSubData(
                              $.ELEMENT_ARRAY_BUFFER,
                              It,
                              so.indices,
                            ),
                              (It += 2 * so.indices.length)
                          console.assert(It == 2 * V),
                            (so = 0),
                            ($n = !0),
                            (fe = It = 0)
                          for (const $t of ve) {
                            $t.image.Ka != so &&
                              ($.bindTexture($.TEXTURE_2D, $t.image.Ja || null),
                              (so = $t.image.Ka)),
                              $t.mc
                                ? ($.scissor(
                                    $t.Ya,
                                    Ye - $t.Za - $t.jb,
                                    $t.Ac,
                                    $t.jb,
                                  ),
                                  ($n = !0))
                                : $n &&
                                  ($.scissor(0, Ye - ke, Pe, ke), ($n = !1)),
                              (ve = 2 / Pe)
                            const Ln = -2 / ke
                            $.uniform4f(
                              T,
                              $t.ha[0] * ve * $t.Ba,
                              $t.ha[1] * Ln * $t.Ca,
                              $t.ha[2] * ve * $t.Ba,
                              $t.ha[3] * Ln * $t.Ca,
                            ),
                              $.uniform2f(
                                R,
                                $t.ha[4] * ve * $t.Ba +
                                  ve * ($t.Ya - $t.ic * $t.Ba) -
                                  1,
                                $t.ha[5] * Ln * $t.Ca +
                                  Ln * ($t.Za - $t.jc * $t.Ca) +
                                  1,
                              ),
                              $.vertexAttribPointer(0, 2, $.FLOAT, !1, 0, fe),
                              $.vertexAttribPointer(
                                1,
                                2,
                                $.FLOAT,
                                !1,
                                0,
                                fe + 4 * pt,
                              ),
                              $.drawElements(
                                $.TRIANGLES,
                                $t.indices.length,
                                $.UNSIGNED_SHORT,
                                It,
                              ),
                              (fe += 4 * $t.Ta.length),
                              (It += 2 * $t.indices.length)
                          }
                          console.assert(fe == 4 * pt),
                            console.assert(It == 2 * V)
                        }
                      }
                    }),
                      (this.canvas = function () {
                        return f() && $.canvas
                      })
                  })(),
                  O = h.onRuntimeInitialized
                h.onRuntimeInitialized = function () {
                  function f(de) {
                    switch (de) {
                      case q.srcOver:
                        return "source-over"
                      case q.screen:
                        return "screen"
                      case q.overlay:
                        return "overlay"
                      case q.darken:
                        return "darken"
                      case q.lighten:
                        return "lighten"
                      case q.colorDodge:
                        return "color-dodge"
                      case q.colorBurn:
                        return "color-burn"
                      case q.hardLight:
                        return "hard-light"
                      case q.softLight:
                        return "soft-light"
                      case q.difference:
                        return "difference"
                      case q.exclusion:
                        return "exclusion"
                      case q.multiply:
                        return "multiply"
                      case q.hue:
                        return "hue"
                      case q.saturation:
                        return "saturation"
                      case q.color:
                        return "color"
                      case q.luminosity:
                        return "luminosity"
                    }
                  }
                  function $(de) {
                    return (
                      "rgba(" +
                      ((16711680 & de) >>> 16) +
                      "," +
                      ((65280 & de) >>> 8) +
                      "," +
                      ((255 & de) >>> 0) +
                      "," +
                      ((4278190080 & de) >>> 24) / 255 +
                      ")"
                    )
                  }
                  function v() {
                    0 < Ye.length &&
                      (H.Qb(fe.drawWidth(), fe.drawHeight(), Ye, It, $n),
                      (Ye = []),
                      ($n = It = 0),
                      fe.reset(512, 512))
                    for (const de of V) {
                      for (const Te of de.H) Te()
                      de.H = []
                    }
                    V.clear()
                  }
                  O && O()
                  var E = h.RenderPaintStyle
                  const T = h.RenderPath,
                    R = h.RenderPaint,
                    D = h.Renderer,
                    W = h.StrokeCap,
                    J = h.StrokeJoin,
                    q = h.BlendMode,
                    _e = E.fill,
                    Me = E.stroke,
                    Se = h.FillRule.evenOdd
                  let Pe = 1
                  var ke = h.RenderImage.extend("CanvasRenderImage", {
                      __construct: function ({ la: de, xa: Te } = {}) {
                        this.__parent.__construct.call(this),
                          (this.Ka = Pe),
                          (Pe = (Pe + 1) & 2147483647 || 1),
                          (this.la = de),
                          (this.xa = Te)
                      },
                      __destruct: function () {
                        this.Ja &&
                          (H.Mb(this.Ja), URL.revokeObjectURL(this.Wa)),
                          this.__parent.__destruct.call(this)
                      },
                      decode: function (de) {
                        var Te = this
                        Te.xa && Te.xa(Te)
                        var ut = new Image()
                        ;(Te.Wa = URL.createObjectURL(
                          new Blob([de], { type: "image/png" }),
                        )),
                          (ut.onload = function () {
                            ;(Te.Fb = ut),
                              (Te.Ja = H.Lb(ut)),
                              Te.size(ut.width, ut.height),
                              Te.la && Te.la(Te)
                          }),
                          (ut.src = Te.Wa)
                      },
                    }),
                    ve = T.extend("CanvasRenderPath", {
                      __construct: function () {
                        this.__parent.__construct.call(this),
                          (this.T = new Path2D())
                      },
                      rewind: function () {
                        this.T = new Path2D()
                      },
                      addPath: function (de, Te, ut, dt, nt, gt, vt) {
                        var xt = this.T,
                          yn = xt.addPath
                        de = de.T
                        const zt = new DOMMatrix()
                        ;(zt.a = Te),
                          (zt.b = ut),
                          (zt.c = dt),
                          (zt.d = nt),
                          (zt.e = gt),
                          (zt.f = vt),
                          yn.call(xt, de, zt)
                      },
                      fillRule: function (de) {
                        this.Va = de
                      },
                      moveTo: function (de, Te) {
                        this.T.moveTo(de, Te)
                      },
                      lineTo: function (de, Te) {
                        this.T.lineTo(de, Te)
                      },
                      cubicTo: function (de, Te, ut, dt, nt, gt) {
                        this.T.bezierCurveTo(de, Te, ut, dt, nt, gt)
                      },
                      close: function () {
                        this.T.closePath()
                      },
                    }),
                    pt = R.extend("CanvasRenderPaint", {
                      color: function (de) {
                        this.Xa = $(de)
                      },
                      thickness: function (de) {
                        this.Ib = de
                      },
                      join: function (de) {
                        switch (de) {
                          case J.miter:
                            this.Ia = "miter"
                            break
                          case J.round:
                            this.Ia = "round"
                            break
                          case J.bevel:
                            this.Ia = "bevel"
                        }
                      },
                      cap: function (de) {
                        switch (de) {
                          case W.butt:
                            this.Ha = "butt"
                            break
                          case W.round:
                            this.Ha = "round"
                            break
                          case W.square:
                            this.Ha = "square"
                        }
                      },
                      style: function (de) {
                        this.Hb = de
                      },
                      blendMode: function (de) {
                        this.Eb = f(de)
                      },
                      clearGradient: function () {
                        this.ja = null
                      },
                      linearGradient: function (de, Te, ut, dt) {
                        this.ja = { yb: de, zb: Te, bb: ut, cb: dt, Ra: [] }
                      },
                      radialGradient: function (de, Te, ut, dt) {
                        this.ja = {
                          yb: de,
                          zb: Te,
                          bb: ut,
                          cb: dt,
                          Ra: [],
                          ec: !0,
                        }
                      },
                      addStop: function (de, Te) {
                        this.ja.Ra.push({ color: de, stop: Te })
                      },
                      completeGradient: function () {},
                      draw: function (de, Te, ut) {
                        let dt = this.Hb
                        var nt = this.Xa,
                          gt = this.ja
                        if (
                          ((de.globalCompositeOperation = this.Eb), gt != null)
                        ) {
                          nt = gt.yb
                          var vt = gt.zb
                          const yn = gt.bb
                          var xt = gt.cb
                          const zt = gt.Ra
                          gt.ec
                            ? ((gt = yn - nt),
                              (xt -= vt),
                              (nt = de.createRadialGradient(
                                nt,
                                vt,
                                0,
                                nt,
                                vt,
                                Math.sqrt(gt * gt + xt * xt),
                              )))
                            : (nt = de.createLinearGradient(nt, vt, yn, xt))
                          for (let Rn = 0, Xt = zt.length; Rn < Xt; Rn++)
                            (vt = zt[Rn]), nt.addColorStop(vt.stop, $(vt.color))
                          ;(this.Xa = nt), (this.ja = null)
                        }
                        switch (dt) {
                          case Me:
                            ;(de.strokeStyle = nt),
                              (de.lineWidth = this.Ib),
                              (de.lineCap = this.Ha),
                              (de.lineJoin = this.Ia),
                              de.stroke(Te)
                            break
                          case _e:
                            ;(de.fillStyle = nt), de.fill(Te, ut)
                        }
                      },
                    })
                  const V = new Set()
                  let fe = null,
                    Ye = [],
                    It = 0,
                    $n = 0
                  var so = (h.CanvasRenderer = D.extend("Renderer", {
                    __construct: function (de) {
                      this.__parent.__construct.call(this),
                        (this.S = [1, 0, 0, 1, 0, 0]),
                        (this.C = de.getContext("2d")),
                        (this.Ua = de),
                        (this.H = [])
                    },
                    save: function () {
                      this.S.push(...this.S.slice(this.S.length - 6)),
                        this.H.push(this.C.save.bind(this.C))
                    },
                    restore: function () {
                      const de = this.S.length - 6
                      if (6 > de)
                        throw "restore() called without matching save()."
                      this.S.splice(de),
                        this.H.push(this.C.restore.bind(this.C))
                    },
                    transform: function (de, Te, ut, dt, nt, gt) {
                      const vt = this.S,
                        xt = vt.length - 6
                      vt.splice(
                        xt,
                        6,
                        vt[xt] * de + vt[xt + 2] * Te,
                        vt[xt + 1] * de + vt[xt + 3] * Te,
                        vt[xt] * ut + vt[xt + 2] * dt,
                        vt[xt + 1] * ut + vt[xt + 3] * dt,
                        vt[xt] * nt + vt[xt + 2] * gt + vt[xt + 4],
                        vt[xt + 1] * nt + vt[xt + 3] * gt + vt[xt + 5],
                      ),
                        this.H.push(
                          this.C.transform.bind(this.C, de, Te, ut, dt, nt, gt),
                        )
                    },
                    rotate: function (de) {
                      const Te = Math.sin(de)
                      ;(de = Math.cos(de)),
                        this.transform(de, Te, -Te, de, 0, 0)
                    },
                    _drawPath: function (de, Te) {
                      this.H.push(
                        Te.draw.bind(
                          Te,
                          this.C,
                          de.T,
                          de.Va === Se ? "evenodd" : "nonzero",
                        ),
                      )
                    },
                    _drawRiveImage: function (de, Te, ut) {
                      var dt = de.Fb
                      if (dt) {
                        var nt = this.C,
                          gt = f(Te)
                        this.H.push(function () {
                          ;(nt.globalCompositeOperation = gt),
                            (nt.globalAlpha = ut),
                            nt.drawImage(dt, 0, 0),
                            (nt.globalAlpha = 1)
                        })
                      }
                    },
                    _getMatrix: function (de) {
                      const Te = this.S,
                        ut = Te.length - 6
                      for (let dt = 0; 6 > dt; ++dt) de[dt] = Te[ut + dt]
                    },
                    _drawImageMesh: function (
                      de,
                      Te,
                      ut,
                      dt,
                      nt,
                      gt,
                      vt,
                      xt,
                      yn,
                      zt,
                    ) {
                      var Rn = this.C.canvas.width,
                        Xt = this.C.canvas.height
                      const Fi = yn - vt,
                        Di = zt - xt
                      ;(vt = Math.max(vt, 0)),
                        (xt = Math.max(xt, 0)),
                        (yn = Math.min(yn, Rn)),
                        (zt = Math.min(zt, Xt))
                      const Oo = yn - vt,
                        zo = zt - xt
                      if (
                        (console.assert(Oo <= Math.min(Fi, Rn)),
                        console.assert(zo <= Math.min(Di, Xt)),
                        !(0 >= Oo || 0 >= zo))
                      ) {
                        ;(yn = Oo < Fi || zo < Di), (Rn = zt = 1)
                        var io = Math.ceil(Oo * zt),
                          ao = Math.ceil(zo * Rn)
                        ;(Xt = H.hc()),
                          io > Xt && ((zt *= Xt / io), (io = Xt)),
                          ao > Xt && ((Rn *= Xt / ao), (ao = Xt)),
                          fe ||
                            ((fe = new h.DynamicRectanizer(Xt)),
                            fe.reset(512, 512)),
                          0 > (Xt = fe.addRect(io, ao)) &&
                            (v(),
                            V.add(this),
                            (Xt = fe.addRect(io, ao)),
                            console.assert(0 <= Xt))
                        var Oi = 65535 & Xt,
                          zi = Xt >> 16
                        Ye.push({
                          ha: this.S.slice(this.S.length - 6),
                          image: de,
                          Ya: Oi,
                          Za: zi,
                          ic: vt,
                          jc: xt,
                          Ac: io,
                          jb: ao,
                          Ba: zt,
                          Ca: Rn,
                          Ta: new Float32Array(dt),
                          Db: new Float32Array(nt),
                          indices: new Uint16Array(gt),
                          mc: yn,
                          wb: (de.Ka << 1) | (yn ? 1 : 0),
                        }),
                          (It += dt.length),
                          ($n += gt.length)
                        var wo = this.C,
                          Ld = f(Te)
                        this.H.push(function () {
                          wo.save(),
                            wo.resetTransform(),
                            (wo.globalCompositeOperation = Ld),
                            (wo.globalAlpha = ut)
                          const Bi = H.canvas()
                          Bi &&
                            wo.drawImage(Bi, Oi, zi, io, ao, vt, xt, Oo, zo),
                            wo.restore()
                        })
                      }
                    },
                    _clipPath: function (de) {
                      this.H.push(
                        this.C.clip.bind(
                          this.C,
                          de.T,
                          de.Va === Se ? "evenodd" : "nonzero",
                        ),
                      )
                    },
                    clear: function () {
                      V.add(this),
                        this.H.push(
                          this.C.clearRect.bind(
                            this.C,
                            0,
                            0,
                            this.Ua.width,
                            this.Ua.height,
                          ),
                        )
                    },
                    flush: function () {},
                    translate: function (de, Te) {
                      this.transform(1, 0, 0, 1, de, Te)
                    },
                  }))
                  ;(h.makeRenderer = function (de) {
                    const Te = new so(de),
                      ut = Te.C
                    return new Proxy(Te, {
                      get(dt, nt) {
                        if (typeof dt[nt] == "function")
                          return function (...gt) {
                            return dt[nt].apply(dt, gt)
                          }
                        if (typeof ut[nt] == "function") {
                          if (-1 < S.indexOf(nt))
                            throw Error(
                              "RiveException: Method call to '" +
                                nt +
                                "()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.",
                            )
                          return function (...gt) {
                            Te.H.push(ut[nt].bind(ut, ...gt))
                          }
                        }
                        return dt[nt]
                      },
                      set(dt, nt, gt) {
                        if (nt in ut)
                          return (
                            Te.H.push(() => {
                              ut[nt] = gt
                            }),
                            !0
                          )
                      },
                    })
                  }),
                    (h.decodeImage = function (de, Te) {
                      new ke({ la: Te }).decode(de)
                    }),
                    (h.renderFactory = {
                      makeRenderPaint: function () {
                        return new pt()
                      },
                      makeRenderPath: function () {
                        return new ve()
                      },
                      makeRenderImage: function () {
                        let de = Ln
                        return new ke({
                          xa: () => {
                            de.total++
                          },
                          la: () => {
                            if ((de.loaded++, de.loaded === de.total)) {
                              const Te = de.ready
                              Te && (Te(), (de.ready = null))
                            }
                          },
                        })
                      },
                    })
                  let $t = h.load,
                    Ln = null
                  h.load = function (de, Te, ut = !0) {
                    const dt = new h.FallbackFileAssetLoader()
                    return (
                      Te !== void 0 && dt.addLoader(Te),
                      ut &&
                        ((Te = new h.CDNFileAssetLoader()), dt.addLoader(Te)),
                      new Promise(function (nt) {
                        let gt = null
                        ;(Ln = {
                          total: 0,
                          loaded: 0,
                          ready: function () {
                            nt(gt)
                          },
                        }),
                          (gt = $t(de, dt)),
                          Ln.total == 0 && nt(gt)
                      })
                    )
                  }
                  let Td = h.RendererWrapper.prototype.align
                  ;(h.RendererWrapper.prototype.align = function (
                    de,
                    Te,
                    ut,
                    dt,
                    nt = 1,
                  ) {
                    Td.call(this, de, Te, ut, dt, nt)
                  }),
                    (E = new k()),
                    (h.requestAnimationFrame = E.requestAnimationFrame.bind(E)),
                    (h.cancelAnimationFrame = E.cancelAnimationFrame.bind(E)),
                    (h.enableFPSCounter = E.Rb.bind(E)),
                    (h.disableFPSCounter = E.Ob),
                    (E.ob = v),
                    (h.resolveAnimationFrame = v),
                    (h.cleanup = function () {
                      fe && fe.delete()
                    })
                }
                var z,
                  $e,
                  pe = Object.assign({}, h),
                  re = "./this.program",
                  le = typeof window == "object",
                  ue = typeof importScripts == "function",
                  Ee = ""
                ;(le || ue) &&
                  (ue
                    ? (Ee = self.location.href)
                    : typeof document < "u" &&
                      document.currentScript &&
                      (Ee = document.currentScript.src),
                  c && (Ee = c),
                  (Ee =
                    Ee.indexOf("blob:") !== 0
                      ? Ee.substr(
                          0,
                          Ee.replace(/[?#].*/, "").lastIndexOf("/") + 1,
                        )
                      : ""),
                  ue &&
                    ($e = (f) => {
                      var $ = new XMLHttpRequest()
                      return (
                        $.open("GET", f, !1),
                        ($.responseType = "arraybuffer"),
                        $.send(null),
                        new Uint8Array($.response)
                      )
                    }),
                  (z = (f, $, v) => {
                    var E = new XMLHttpRequest()
                    E.open("GET", f, !0),
                      (E.responseType = "arraybuffer"),
                      (E.onload = () => {
                        E.status == 200 || (E.status == 0 && E.response)
                          ? $(E.response)
                          : v()
                      }),
                      (E.onerror = v),
                      E.send(null)
                  }))
                var be,
                  ee = h.print || console.log.bind(console),
                  Q = h.printErr || console.error.bind(console)
                Object.assign(h, pe),
                  (pe = null),
                  h.thisProgram && (re = h.thisProgram),
                  h.wasmBinary && (be = h.wasmBinary),
                  h.noExitRuntime,
                  typeof WebAssembly != "object" &&
                    qe("no native wasm support detected")
                var ye,
                  ge,
                  ae,
                  se,
                  xe,
                  tt,
                  Ie,
                  Be,
                  rt,
                  He,
                  Rt = !1
                function P() {
                  var f = ye.buffer
                  ;(h.HEAP8 = ae = new Int8Array(f)),
                    (h.HEAP16 = xe = new Int16Array(f)),
                    (h.HEAP32 = Ie = new Int32Array(f)),
                    (h.HEAPU8 = se = new Uint8Array(f)),
                    (h.HEAPU16 = tt = new Uint16Array(f)),
                    (h.HEAPU32 = Be = new Uint32Array(f)),
                    (h.HEAPF32 = rt = new Float32Array(f)),
                    (h.HEAPF64 = He = new Float64Array(f))
                }
                var _,
                  L = [],
                  U = [],
                  G = []
                function ce() {
                  var f = h.preRun.shift()
                  L.unshift(f)
                }
                var me,
                  Re = 0,
                  We = null
                function qe(f) {
                  throw (
                    (h.onAbort && h.onAbort(f),
                    Q((f = "Aborted(" + f + ")")),
                    (Rt = !0),
                    (f = new WebAssembly.RuntimeError(
                      f + ". Build with -sASSERTIONS for more info.",
                    )),
                    g(f),
                    f)
                  )
                }
                function De(f) {
                  return f.startsWith("data:application/octet-stream;base64,")
                }
                if (!De((me = "canvas_advanced.wasm"))) {
                  var Ce = me
                  me = h.locateFile ? h.locateFile(Ce, Ee) : Ee + Ce
                }
                function ie(f) {
                  if (f == me && be) return new Uint8Array(be)
                  if ($e) return $e(f)
                  throw "both async and sync fetching of the wasm failed"
                }
                function Ae(f, $, v) {
                  return (function (E) {
                    if (!be && (le || ue)) {
                      if (
                        typeof fetch == "function" &&
                        !E.startsWith("file://")
                      )
                        return fetch(E, { credentials: "same-origin" })
                          .then((T) => {
                            if (!T.ok)
                              throw (
                                "failed to load wasm binary file at '" + E + "'"
                              )
                            return T.arrayBuffer()
                          })
                          .catch(() => ie(E))
                      if (z)
                        return new Promise((T, R) => {
                          z(E, (D) => T(new Uint8Array(D)), R)
                        })
                    }
                    return Promise.resolve().then(() => ie(E))
                  })(f)
                    .then((E) => WebAssembly.instantiate(E, $))
                    .then((E) => E)
                    .then(v, (E) => {
                      Q("failed to asynchronously prepare wasm: " + E), qe(E)
                    })
                }
                var we,
                  lt,
                  yt = {
                    448252: (f, $, v, E, T) => {
                      if (
                        typeof window > "u" ||
                        (window.AudioContext || window.webkitAudioContext) ===
                          void 0
                      )
                        return 0
                      if (window.h === void 0) {
                        ;(window.h = { Aa: 0 }),
                          (window.h.I = {}),
                          (window.h.I.ya = f),
                          (window.h.I.capture = $),
                          (window.h.I.La = v),
                          (window.h.ga = {}),
                          (window.h.ga.stopped = E),
                          (window.h.ga.xb = T)
                        let R = window.h
                        ;(R.D = []),
                          (R.yc = function (D) {
                            for (var W = 0; W < R.D.length; ++W)
                              if (R.D[W] == null) return (R.D[W] = D), W
                            return R.D.push(D), R.D.length - 1
                          }),
                          (R.Cb = function (D) {
                            for (
                              R.D[D] = null;
                              0 < R.D.length && R.D[R.D.length - 1] == null;

                            )
                              R.D.pop()
                          }),
                          (R.Sc = function (D) {
                            for (var W = 0; W < R.D.length; ++W)
                              if (R.D[W] == D) return R.Cb(W)
                          }),
                          (R.ra = function (D) {
                            return R.D[D]
                          }),
                          (R.Bb = ["touchend", "click"]),
                          (R.unlock = function () {
                            for (var D = 0; D < R.D.length; ++D) {
                              var W = R.D[D]
                              W != null &&
                                W.J != null &&
                                W.state === R.ga.xb &&
                                W.J.resume().then(
                                  () => {
                                    Si(W.pb)
                                  },
                                  (J) => {
                                    console.error(
                                      "Failed to resume audiocontext",
                                      J,
                                    )
                                  },
                                )
                            }
                            R.Bb.map(function (J) {
                              document.removeEventListener(J, R.unlock, !0)
                            })
                          }),
                          R.Bb.map(function (D) {
                            document.addEventListener(D, R.unlock, !0)
                          })
                      }
                      return (window.h.Aa += 1), 1
                    },
                    450430: () => {
                      window.h !== void 0 &&
                        (--window.h.Aa, window.h.Aa === 0 && delete window.h)
                    },
                    450594: () =>
                      navigator.mediaDevices !== void 0 &&
                      navigator.mediaDevices.getUserMedia !== void 0,
                    450698: () => {
                      try {
                        var f = new (window.AudioContext ||
                            window.webkitAudioContext)(),
                          $ = f.sampleRate
                        return f.close(), $
                      } catch {
                        return 0
                      }
                    },
                    450869: (f, $, v, E, T, R) => {
                      if (window.h === void 0) return -1
                      var D = {},
                        W = {}
                      return (
                        f == window.h.I.ya && v != 0 && (W.sampleRate = v),
                        (D.J = new (window.AudioContext ||
                          window.webkitAudioContext)(W)),
                        D.J.suspend(),
                        (D.state = window.h.ga.stopped),
                        (v = 0),
                        f != window.h.I.ya && (v = $),
                        (D.Z = D.J.createScriptProcessor(E, v, $)),
                        (D.Z.onaudioprocess = function (J) {
                          if (
                            ((D.sa != null && D.sa.length != 0) ||
                              (D.sa = new Float32Array(rt.buffer, T, E * $)),
                            f == window.h.I.capture || f == window.h.I.La)
                          ) {
                            for (var q = 0; q < $; q += 1)
                              for (
                                var _e = J.inputBuffer.getChannelData(q),
                                  Me = D.sa,
                                  Se = 0;
                                Se < E;
                                Se += 1
                              )
                                Me[Se * $ + q] = _e[Se]
                            Ti(R, E, T)
                          }
                          if (f == window.h.I.ya || f == window.h.I.La)
                            for (
                              Li(R, E, T), q = 0;
                              q < J.outputBuffer.numberOfChannels;
                              ++q
                            )
                              for (
                                _e = J.outputBuffer.getChannelData(q),
                                  Me = D.sa,
                                  Se = 0;
                                Se < E;
                                Se += 1
                              )
                                _e[Se] = Me[Se * $ + q]
                          else
                            for (
                              q = 0;
                              q < J.outputBuffer.numberOfChannels;
                              ++q
                            )
                              J.outputBuffer.getChannelData(q).fill(0)
                        }),
                        (f != window.h.I.capture && f != window.h.I.La) ||
                          navigator.mediaDevices
                            .getUserMedia({ audio: !0, video: !1 })
                            .then(function (J) {
                              ;(D.Da = D.J.createMediaStreamSource(J)),
                                D.Da.connect(D.Z),
                                D.Z.connect(D.J.destination)
                            })
                            .catch(function (J) {
                              console.log("Failed to get user media: " + J)
                            }),
                        f == window.h.I.ya && D.Z.connect(D.J.destination),
                        (D.pb = R),
                        window.h.yc(D)
                      )
                    },
                    453746: (f) => window.h.ra(f).J.sampleRate,
                    453819: (f) => {
                      ;(f = window.h.ra(f)).Z !== void 0 &&
                        ((f.Z.onaudioprocess = function () {}),
                        f.Z.disconnect(),
                        (f.Z = void 0)),
                        f.Da !== void 0 && (f.Da.disconnect(), (f.Da = void 0)),
                        f.J.close(),
                        (f.J = void 0),
                        (f.pb = void 0)
                    },
                    454219: (f) => {
                      window.h.Cb(f)
                    },
                    454269: (f) => {
                      ;(f = window.h.ra(f)).J.resume(),
                        (f.state = window.h.ga.xb)
                    },
                    454408: (f) => {
                      ;(f = window.h.ra(f)).J.suspend(),
                        (f.state = window.h.ga.stopped)
                    },
                  },
                  nn = (f) => {
                    for (; 0 < f.length; ) f.shift()(h)
                  },
                  jt = (f, $) => {
                    for (var v = 0, E = f.length - 1; 0 <= E; E--) {
                      var T = f[E]
                      T === "."
                        ? f.splice(E, 1)
                        : T === ".."
                          ? (f.splice(E, 1), v++)
                          : v && (f.splice(E, 1), v--)
                    }
                    if ($) for (; v; v--) f.unshift("..")
                    return f
                  },
                  At = (f) => {
                    var $ = f.charAt(0) === "/",
                      v = f.substr(-1) === "/"
                    return (
                      (f = jt(
                        f.split("/").filter((E) => !!E),
                        !$,
                      ).join("/")) ||
                        $ ||
                        (f = "."),
                      f && v && (f += "/"),
                      ($ ? "/" : "") + f
                    )
                  },
                  gn = (f) => {
                    var $ =
                      /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/
                        .exec(f)
                        .slice(1)
                    return (
                      (f = $[0]),
                      ($ = $[1]),
                      f || $
                        ? ($ && ($ = $.substr(0, $.length - 1)), f + $)
                        : "."
                    )
                  },
                  Dt = (f) => {
                    if (f === "/") return "/"
                    var $ = (f = (f = At(f)).replace(/\/$/, "")).lastIndexOf(
                      "/",
                    )
                    return $ === -1 ? f : f.substr($ + 1)
                  },
                  Ot = (f) =>
                    (Ot = (() => {
                      if (
                        typeof crypto == "object" &&
                        typeof crypto.getRandomValues == "function"
                      )
                        return ($) => crypto.getRandomValues($)
                      qe("initRandomDevice")
                    })())(f)
                function on() {
                  for (
                    var f = "", $ = !1, v = arguments.length - 1;
                    -1 <= v && !$;
                    v--
                  ) {
                    if (typeof ($ = 0 <= v ? arguments[v] : "/") != "string")
                      throw new TypeError(
                        "Arguments to path.resolve must be strings",
                      )
                    if (!$) return ""
                    ;(f = $ + "/" + f), ($ = $.charAt(0) === "/")
                  }
                  return (
                    ($ ? "/" : "") +
                      (f = jt(
                        f.split("/").filter((E) => !!E),
                        !$,
                      ).join("/")) || "."
                  )
                }
                var rn =
                    typeof TextDecoder < "u" ? new TextDecoder("utf8") : void 0,
                  sn = (f, $, v) => {
                    var E = $ + v
                    for (v = $; f[v] && !(v >= E); ) ++v
                    if (16 < v - $ && f.buffer && rn)
                      return rn.decode(f.subarray($, v))
                    for (E = ""; $ < v; ) {
                      var T = f[$++]
                      if (128 & T) {
                        var R = 63 & f[$++]
                        if ((224 & T) == 192)
                          E += String.fromCharCode(((31 & T) << 6) | R)
                        else {
                          var D = 63 & f[$++]
                          65536 >
                          (T =
                            (240 & T) == 224
                              ? ((15 & T) << 12) | (R << 6) | D
                              : ((7 & T) << 18) |
                                (R << 12) |
                                (D << 6) |
                                (63 & f[$++]))
                            ? (E += String.fromCharCode(T))
                            : ((T -= 65536),
                              (E += String.fromCharCode(
                                55296 | (T >> 10),
                                56320 | (1023 & T),
                              )))
                        }
                      } else E += String.fromCharCode(T)
                    }
                    return E
                  },
                  Ht = [],
                  vn = (f) => {
                    for (var $ = 0, v = 0; v < f.length; ++v) {
                      var E = f.charCodeAt(v)
                      127 >= E
                        ? $++
                        : 2047 >= E
                          ? ($ += 2)
                          : 55296 <= E && 57343 >= E
                            ? (($ += 4), ++v)
                            : ($ += 3)
                    }
                    return $
                  },
                  en = (f, $, v, E) => {
                    if (!(0 < E)) return 0
                    var T = v
                    E = v + E - 1
                    for (var R = 0; R < f.length; ++R) {
                      var D = f.charCodeAt(R)
                      if (
                        (55296 <= D &&
                          57343 >= D &&
                          (D =
                            (65536 + ((1023 & D) << 10)) |
                            (1023 & f.charCodeAt(++R))),
                        127 >= D)
                      ) {
                        if (v >= E) break
                        $[v++] = D
                      } else {
                        if (2047 >= D) {
                          if (v + 1 >= E) break
                          $[v++] = 192 | (D >> 6)
                        } else {
                          if (65535 >= D) {
                            if (v + 2 >= E) break
                            $[v++] = 224 | (D >> 12)
                          } else {
                            if (v + 3 >= E) break
                            ;($[v++] = 240 | (D >> 18)),
                              ($[v++] = 128 | ((D >> 12) & 63))
                          }
                          $[v++] = 128 | ((D >> 6) & 63)
                        }
                        $[v++] = 128 | (63 & D)
                      }
                    }
                    return ($[v] = 0), v - T
                  }
                function an(f, $) {
                  var v = Array(vn(f) + 1)
                  return (f = en(f, v, 0, v.length)), $ && (v.length = f), v
                }
                var St = []
                function ho(f, $) {
                  ;(St[f] = { input: [], F: [], V: $ }), ns(f, dd)
                }
                var dd = {
                    open: function (f) {
                      var $ = St[f.node.za]
                      if (!$) throw new Ne(43)
                      ;(f.s = $), (f.seekable = !1)
                    },
                    close: function (f) {
                      f.s.V.qa(f.s)
                    },
                    qa: function (f) {
                      f.s.V.qa(f.s)
                    },
                    read: function (f, $, v, E) {
                      if (!f.s || !f.s.V.ib) throw new Ne(60)
                      for (var T = 0, R = 0; R < E; R++) {
                        try {
                          var D = f.s.V.ib(f.s)
                        } catch {
                          throw new Ne(29)
                        }
                        if (D === void 0 && T === 0) throw new Ne(6)
                        if (D == null) break
                        T++, ($[v + R] = D)
                      }
                      return T && (f.node.timestamp = Date.now()), T
                    },
                    write: function (f, $, v, E) {
                      if (!f.s || !f.s.V.Oa) throw new Ne(60)
                      try {
                        for (var T = 0; T < E; T++) f.s.V.Oa(f.s, $[v + T])
                      } catch {
                        throw new Ne(29)
                      }
                      return E && (f.node.timestamp = Date.now()), T
                    },
                  },
                  fd = {
                    ib: function () {
                      e: {
                        if (!Ht.length) {
                          var f = null
                          if (
                            (typeof window < "u" &&
                            typeof window.prompt == "function"
                              ? (f = window.prompt("Input: ")) !== null &&
                                (f += `
`)
                              : typeof readline == "function" &&
                                (f = readline()) !== null &&
                                (f += `
`),
                            !f)
                          ) {
                            f = null
                            break e
                          }
                          Ht = an(f, !0)
                        }
                        f = Ht.shift()
                      }
                      return f
                    },
                    Oa: function (f, $) {
                      $ === null || $ === 10
                        ? (ee(sn(f.F, 0)), (f.F = []))
                        : $ != 0 && f.F.push($)
                    },
                    qa: function (f) {
                      f.F && 0 < f.F.length && (ee(sn(f.F, 0)), (f.F = []))
                    },
                    bc: function () {
                      return {
                        Fc: 25856,
                        Hc: 5,
                        Ec: 191,
                        Gc: 35387,
                        Dc: [
                          3, 28, 127, 21, 4, 0, 1, 0, 17, 19, 26, 0, 18, 15, 23,
                          22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        ],
                      }
                    },
                    cc: function () {
                      return 0
                    },
                    dc: function () {
                      return [24, 80]
                    },
                  },
                  md = {
                    Oa: function (f, $) {
                      $ === null || $ === 10
                        ? (Q(sn(f.F, 0)), (f.F = []))
                        : $ != 0 && f.F.push($)
                    },
                    qa: function (f) {
                      f.F && 0 < f.F.length && (Q(sn(f.F, 0)), (f.F = []))
                    },
                  }
                function Xs(f, $) {
                  var v = f.j ? f.j.length : 0
                  v >= $ ||
                    (($ = Math.max($, (v * (1048576 > v ? 2 : 1.125)) >>> 0)),
                    v != 0 && ($ = Math.max($, 256)),
                    (v = f.j),
                    (f.j = new Uint8Array($)),
                    0 < f.v && f.j.set(v.subarray(0, f.v), 0))
                }
                var Ks,
                  Qr,
                  or,
                  rr,
                  at = {
                    O: null,
                    U: () => at.createNode(null, "/", 16895, 0),
                    createNode(f, $, v, E) {
                      if ((61440 & v) == 24576 || (61440 & v) == 4096)
                        throw new Ne(63)
                      return (
                        at.O ||
                          (at.O = {
                            dir: {
                              node: {
                                Y: at.l.Y,
                                P: at.l.P,
                                ka: at.l.ka,
                                va: at.l.va,
                                ub: at.l.ub,
                                Ab: at.l.Ab,
                                vb: at.l.vb,
                                sb: at.l.sb,
                                Ea: at.l.Ea,
                              },
                              stream: { ba: at.m.ba },
                            },
                            file: {
                              node: { Y: at.l.Y, P: at.l.P },
                              stream: {
                                ba: at.m.ba,
                                read: at.m.read,
                                write: at.m.write,
                                pa: at.m.pa,
                                lb: at.m.lb,
                                nb: at.m.nb,
                              },
                            },
                            link: {
                              node: { Y: at.l.Y, P: at.l.P, ma: at.l.ma },
                              stream: {},
                            },
                            $a: { node: { Y: at.l.Y, P: at.l.P }, stream: $d },
                          }),
                        (61440 & (v = ti(f, $, v, E)).mode) == 16384
                          ? ((v.l = at.O.dir.node),
                            (v.m = at.O.dir.stream),
                            (v.j = {}))
                          : (61440 & v.mode) == 32768
                            ? ((v.l = at.O.file.node),
                              (v.m = at.O.file.stream),
                              (v.v = 0),
                              (v.j = null))
                            : (61440 & v.mode) == 40960
                              ? ((v.l = at.O.link.node),
                                (v.m = at.O.link.stream))
                              : (61440 & v.mode) == 8192 &&
                                ((v.l = at.O.$a.node), (v.m = at.O.$a.stream)),
                        (v.timestamp = Date.now()),
                        f && ((f.j[$] = v), (f.timestamp = v.timestamp)),
                        v
                      )
                    },
                    Kc: (f) =>
                      f.j
                        ? f.j.subarray
                          ? f.j.subarray(0, f.v)
                          : new Uint8Array(f.j)
                        : new Uint8Array(0),
                    l: {
                      Y(f) {
                        var $ = {}
                        return (
                          ($.Jc = (61440 & f.mode) == 8192 ? f.id : 1),
                          ($.Mc = f.id),
                          ($.mode = f.mode),
                          ($.Oc = 1),
                          ($.uid = 0),
                          ($.Lc = 0),
                          ($.za = f.za),
                          (61440 & f.mode) == 16384
                            ? ($.size = 4096)
                            : (61440 & f.mode) == 32768
                              ? ($.size = f.v)
                              : (61440 & f.mode) == 40960
                                ? ($.size = f.link.length)
                                : ($.size = 0),
                          ($.Bc = new Date(f.timestamp)),
                          ($.Nc = new Date(f.timestamp)),
                          ($.Ic = new Date(f.timestamp)),
                          ($.Jb = 4096),
                          ($.Cc = Math.ceil($.size / $.Jb)),
                          $
                        )
                      },
                      P(f, $) {
                        if (
                          ($.mode !== void 0 && (f.mode = $.mode),
                          $.timestamp !== void 0 && (f.timestamp = $.timestamp),
                          $.size !== void 0 && (($ = $.size), f.v != $))
                        )
                          if ($ == 0) (f.j = null), (f.v = 0)
                          else {
                            var v = f.j
                            ;(f.j = new Uint8Array($)),
                              v && f.j.set(v.subarray(0, Math.min($, f.v))),
                              (f.v = $)
                          }
                      },
                      ka() {
                        throw ts[44]
                      },
                      va: (f, $, v, E) => at.createNode(f, $, v, E),
                      ub(f, $, v) {
                        if ((61440 & f.mode) == 16384) {
                          try {
                            var E = ir($, v)
                          } catch {}
                          if (E) for (var T in E.j) throw new Ne(55)
                        }
                        delete f.parent.j[f.name],
                          (f.parent.timestamp = Date.now()),
                          (f.name = v),
                          ($.j[v] = f),
                          ($.timestamp = f.parent.timestamp),
                          (f.parent = $)
                      },
                      Ab(f, $) {
                        delete f.j[$], (f.timestamp = Date.now())
                      },
                      vb(f, $) {
                        var v,
                          E = ir(f, $)
                        for (v in E.j) throw new Ne(55)
                        delete f.j[$], (f.timestamp = Date.now())
                      },
                      sb(f) {
                        var $,
                          v = [".", ".."]
                        for ($ in f.j) f.j.hasOwnProperty($) && v.push($)
                        return v
                      },
                      Ea: (f, $, v) => (
                        ((f = at.createNode(f, $, 41471, 0)).link = v), f
                      ),
                      ma(f) {
                        if ((61440 & f.mode) != 40960) throw new Ne(28)
                        return f.link
                      },
                    },
                    m: {
                      read(f, $, v, E, T) {
                        var R = f.node.j
                        if (T >= f.node.v) return 0
                        if (8 < (f = Math.min(f.node.v - T, E)) && R.subarray)
                          $.set(R.subarray(T, T + f), v)
                        else for (E = 0; E < f; E++) $[v + E] = R[T + E]
                        return f
                      },
                      write(f, $, v, E, T, R) {
                        if (($.buffer === ae.buffer && (R = !1), !E)) return 0
                        if (
                          (((f = f.node).timestamp = Date.now()),
                          $.subarray && (!f.j || f.j.subarray))
                        ) {
                          if (R) return (f.j = $.subarray(v, v + E)), (f.v = E)
                          if (f.v === 0 && T === 0)
                            return (f.j = $.slice(v, v + E)), (f.v = E)
                          if (T + E <= f.v)
                            return f.j.set($.subarray(v, v + E), T), E
                        }
                        if ((Xs(f, T + E), f.j.subarray && $.subarray))
                          f.j.set($.subarray(v, v + E), T)
                        else for (R = 0; R < E; R++) f.j[T + R] = $[v + R]
                        return (f.v = Math.max(f.v, T + E)), E
                      },
                      ba(f, $, v) {
                        if (
                          (v === 1
                            ? ($ += f.position)
                            : v === 2 &&
                              (61440 & f.node.mode) == 32768 &&
                              ($ += f.node.v),
                          0 > $)
                        )
                          throw new Ne(28)
                        return $
                      },
                      pa(f, $, v) {
                        Xs(f.node, $ + v),
                          (f.node.v = Math.max(f.node.v, $ + v))
                      },
                      lb(f, $, v, E, T) {
                        if ((61440 & f.node.mode) != 32768) throw new Ne(43)
                        if (((f = f.node.j), 2 & T || f.buffer !== ae.buffer)) {
                          if (
                            ((0 < v || v + $ < f.length) &&
                              (f = f.subarray
                                ? f.subarray(v, v + $)
                                : Array.prototype.slice.call(f, v, v + $)),
                            (v = !0),
                            qe(),
                            !($ = void 0))
                          )
                            throw new Ne(48)
                          ae.set(f, $)
                        } else (v = !1), ($ = f.byteOffset)
                        return { o: $, M: v }
                      },
                      nb: (f, $, v, E) => (at.m.write(f, $, 0, E, v, !1), 0),
                    },
                  },
                  es = null,
                  Zs = {},
                  sr = [],
                  pd = 1,
                  So = null,
                  Js = !0,
                  Ne = null,
                  ts = {},
                  no = (f, $ = {}) => {
                    if (!(f = on(f))) return { path: "", node: null }
                    if (8 < ($ = Object.assign({ gb: !0, Qa: 0 }, $)).Qa)
                      throw new Ne(32)
                    f = f.split("/").filter((D) => !!D)
                    for (var v = es, E = "/", T = 0; T < f.length; T++) {
                      var R = T === f.length - 1
                      if (R && $.parent) break
                      if (
                        ((v = ir(v, f[T])),
                        (E = At(E + "/" + f[T])),
                        v.wa && (!R || (R && $.gb)) && (v = v.wa.root),
                        !R || $.fb)
                      ) {
                        for (R = 0; (61440 & v.mode) == 40960; )
                          if (
                            ((v = hd(E)),
                            (E = on(gn(E), v)),
                            (v = no(E, { Qa: $.Qa + 1 }).node),
                            40 < R++)
                          )
                            throw new Ne(32)
                      }
                    }
                    return { path: E, node: v }
                  },
                  Qs = (f) => {
                    for (var $; ; ) {
                      if (f === f.parent)
                        return (
                          (f = f.U.mb),
                          $
                            ? f[f.length - 1] !== "/"
                              ? `${f}/${$}`
                              : f + $
                            : f
                        )
                      ;($ = $ ? `${f.name}/${$}` : f.name), (f = f.parent)
                    }
                  },
                  ei = (f, $) => {
                    for (var v = 0, E = 0; E < $.length; E++)
                      v = ((v << 5) - v + $.charCodeAt(E)) | 0
                    return ((f + v) >>> 0) % So.length
                  },
                  ir = (f, $) => {
                    var v
                    if ((v = (v = ar(f, "x")) ? v : f.l.ka ? 0 : 2))
                      throw new Ne(v, f)
                    for (v = So[ei(f.id, $)]; v; v = v.lc) {
                      var E = v.name
                      if (v.parent.id === f.id && E === $) return v
                    }
                    return f.l.ka(f, $)
                  },
                  ti = (f, $, v, E) => (
                    (f = new ki(f, $, v, E)),
                    ($ = ei(f.parent.id, f.name)),
                    (f.lc = So[$]),
                    (So[$] = f)
                  ),
                  ni = (f) => {
                    var $ = ["r", "w", "rw"][3 & f]
                    return 512 & f && ($ += "w"), $
                  },
                  ar = (f, $) =>
                    Js
                      ? 0
                      : !$.includes("r") || 292 & f.mode
                        ? ($.includes("w") && !(146 & f.mode)) ||
                          ($.includes("x") && !(73 & f.mode))
                          ? 2
                          : 0
                        : 2,
                  oi = (f, $) => {
                    try {
                      return ir(f, $), 20
                    } catch {}
                    return ar(f, "wx")
                  },
                  Vn = (f) => {
                    if (!(f = sr[f])) throw new Ne(8)
                    return f
                  },
                  ri = (f, $ = -1) => (
                    or ||
                      (((or = function () {
                        this.h = {}
                      }).prototype = {}),
                      Object.defineProperties(or.prototype, {
                        object: {
                          get() {
                            return this.node
                          },
                          set(v) {
                            this.node = v
                          },
                        },
                        flags: {
                          get() {
                            return this.h.flags
                          },
                          set(v) {
                            this.h.flags = v
                          },
                        },
                        position: {
                          get() {
                            return this.h.position
                          },
                          set(v) {
                            this.h.position = v
                          },
                        },
                      })),
                    (f = Object.assign(new or(), f)),
                    $ == -1 &&
                      ($ = (() => {
                        for (var v = 0; 4096 >= v; v++) if (!sr[v]) return v
                        throw new Ne(33)
                      })()),
                    (f.X = $),
                    (sr[$] = f)
                  ),
                  $d = {
                    open: (f) => {
                      ;(f.m = Zs[f.node.za].m), f.m.open && f.m.open(f)
                    },
                    ba: () => {
                      throw new Ne(70)
                    },
                  },
                  ns = (f, $) => {
                    Zs[f] = { m: $ }
                  },
                  si = (f, $) => {
                    var v = $ === "/",
                      E = !$
                    if (v && es) throw new Ne(10)
                    if (!v && !E) {
                      var T = no($, { gb: !1 })
                      if ((($ = T.path), (T = T.node).wa)) throw new Ne(10)
                      if ((61440 & T.mode) != 16384) throw new Ne(54)
                    }
                    ;($ = { type: f, Qc: {}, mb: $, kc: [] }),
                      ((f = f.U($)).U = $),
                      ($.root = f),
                      v ? (es = f) : T && ((T.wa = $), T.U && T.U.kc.push($))
                  },
                  An = (f, $, v) => {
                    var E = no(f, { parent: !0 }).node
                    if (!(f = Dt(f)) || f === "." || f === "..")
                      throw new Ne(28)
                    var T = oi(E, f)
                    if (T) throw new Ne(T)
                    if (!E.l.va) throw new Ne(63)
                    return E.l.va(E, f, $, v)
                  },
                  cr = (f, $, v) => {
                    v === void 0 && ((v = $), ($ = 438)), An(f, 8192 | $, v)
                  },
                  os = (f, $) => {
                    if (!on(f)) throw new Ne(44)
                    var v = no($, { parent: !0 }).node
                    if (!v) throw new Ne(44)
                    $ = Dt($)
                    var E = oi(v, $)
                    if (E) throw new Ne(E)
                    if (!v.l.Ea) throw new Ne(63)
                    v.l.Ea(v, $, f)
                  },
                  hd = (f) => {
                    if (!(f = no(f).node)) throw new Ne(44)
                    if (!f.l.ma) throw new Ne(28)
                    return on(Qs(f.parent), f.l.ma(f))
                  },
                  lr = (f, $, v) => {
                    if (f === "") throw new Ne(44)
                    if (typeof $ == "string") {
                      var E = {
                        r: 0,
                        "r+": 2,
                        w: 577,
                        "w+": 578,
                        a: 1089,
                        "a+": 1090,
                      }[$]
                      if (E === void 0)
                        throw Error(`Unknown file open mode: ${$}`)
                      $ = E
                    }
                    if (
                      ((v =
                        64 & $ ? (4095 & (v === void 0 ? 438 : v)) | 32768 : 0),
                      typeof f == "object")
                    )
                      var T = f
                    else {
                      f = At(f)
                      try {
                        T = no(f, { fb: !(131072 & $) }).node
                      } catch {}
                    }
                    if (((E = !1), 64 & $))
                      if (T) {
                        if (128 & $) throw new Ne(20)
                      } else (T = An(f, v, 0)), (E = !0)
                    if (!T) throw new Ne(44)
                    if (
                      ((61440 & T.mode) == 8192 && ($ &= -513),
                      65536 & $ && (61440 & T.mode) != 16384)
                    )
                      throw new Ne(54)
                    if (
                      !E &&
                      (v = T
                        ? (61440 & T.mode) == 40960
                          ? 32
                          : (61440 & T.mode) == 16384 &&
                              (ni($) !== "r" || 512 & $)
                            ? 31
                            : ar(T, ni($))
                        : 44)
                    )
                      throw new Ne(v)
                    if (512 & $ && !E) {
                      if (
                        !(v =
                          typeof (v = T) == "string"
                            ? no(v, { fb: !0 }).node
                            : v).l.P
                      )
                        throw new Ne(63)
                      if ((61440 & v.mode) == 16384) throw new Ne(31)
                      if ((61440 & v.mode) != 32768) throw new Ne(28)
                      if ((E = ar(v, "w"))) throw new Ne(E)
                      v.l.P(v, { size: 0, timestamp: Date.now() })
                    }
                    return (
                      ($ &= -131713),
                      (T = ri({
                        node: T,
                        path: Qs(T),
                        flags: $,
                        seekable: !0,
                        position: 0,
                        m: T.m,
                        zc: [],
                        error: !1,
                      })).m.open && T.m.open(T),
                      !h.logReadFiles ||
                        1 & $ ||
                        (rr || (rr = {}), f in rr || (rr[f] = 1)),
                      T
                    )
                  },
                  ii = (f, $, v) => {
                    if (f.X === null) throw new Ne(8)
                    if (!f.seekable || !f.m.ba) throw new Ne(70)
                    if (v != 0 && v != 1 && v != 2) throw new Ne(28)
                    ;(f.position = f.m.ba(f, $, v)), (f.zc = [])
                  },
                  ai = () => {
                    Ne ||
                      (((Ne = function (f, $) {
                        ;(this.name = "ErrnoError"),
                          (this.node = $),
                          (this.pc = function (v) {
                            this.aa = v
                          }),
                          this.pc(f),
                          (this.message = "FS error")
                      }).prototype = Error()),
                      (Ne.prototype.constructor = Ne),
                      [44].forEach((f) => {
                        ;(ts[f] = new Ne(f)),
                          (ts[f].stack = "<generic error, no stack>")
                      }))
                  },
                  To = (f, $, v) => {
                    f = At("/dev/" + f)
                    var E = (function (R, D) {
                      var W = 0
                      return R && (W |= 365), D && (W |= 146), W
                    })(!!$, !!v)
                    Qr || (Qr = 64)
                    var T = Qr++ << 8
                    ns(T, {
                      open: (R) => {
                        R.seekable = !1
                      },
                      close: () => {
                        v && v.buffer && v.buffer.length && v(10)
                      },
                      read: (R, D, W, J) => {
                        for (var q = 0, _e = 0; _e < J; _e++) {
                          try {
                            var Me = $()
                          } catch {
                            throw new Ne(29)
                          }
                          if (Me === void 0 && q === 0) throw new Ne(6)
                          if (Me == null) break
                          q++, (D[W + _e] = Me)
                        }
                        return q && (R.node.timestamp = Date.now()), q
                      },
                      write: (R, D, W, J) => {
                        for (var q = 0; q < J; q++)
                          try {
                            v(D[W + q])
                          } catch {
                            throw new Ne(29)
                          }
                        return J && (R.node.timestamp = Date.now()), q
                      },
                    }),
                      cr(f, E, T)
                  },
                  oo = {},
                  ur = void 0
                function On() {
                  return Ie[((ur += 4) - 4) >> 2]
                }
                function ci(f) {
                  if (f === void 0) return "_unknown"
                  var $ = (f = f.replace(/[^a-zA-Z0-9_]/g, "$")).charCodeAt(0)
                  return 48 <= $ && 57 >= $ ? `_${f}` : f
                }
                function dr(f, $) {
                  return (
                    (f = ci(f)),
                    {
                      [f]: function () {
                        return $.apply(this, arguments)
                      },
                    }[f]
                  )
                }
                function li() {
                  ;(this.M = [void 0]), (this.hb = [])
                }
                var wn = new li(),
                  go = void 0
                function ot(f) {
                  throw new go(f)
                }
                var kn = (f) => (
                    f || ot("Cannot use deleted val. handle = " + f),
                    wn.get(f).value
                  ),
                  Sn = (f) => {
                    switch (f) {
                      case void 0:
                        return 1
                      case null:
                        return 2
                      case !0:
                        return 3
                      case !1:
                        return 4
                      default:
                        return wn.pa({ tb: 1, value: f })
                    }
                  }
                function ui(f) {
                  var $ = Error,
                    v = dr(f, function (E) {
                      ;(this.name = f),
                        (this.message = E),
                        (E = Error(E).stack) !== void 0 &&
                          (this.stack =
                            this.toString() +
                            `
` +
                            E.replace(/^Error(:[^\n]*)?\n/, ""))
                    })
                  return (
                    (v.prototype = Object.create($.prototype)),
                    (v.prototype.constructor = v),
                    (v.prototype.toString = function () {
                      return this.message === void 0
                        ? this.name
                        : `${this.name}: ${this.message}`
                    }),
                    v
                  )
                }
                var di = void 0,
                  fi = void 0
                function Pt(f) {
                  for (var $ = ""; se[f]; ) $ += fi[se[f++]]
                  return $
                }
                var Lo = []
                function rs() {
                  for (; Lo.length; ) {
                    var f = Lo.pop()
                    ;(f.g.fa = !1), f.delete()
                  }
                }
                var Ro = void 0,
                  zn = {}
                function ss(f, $) {
                  for ($ === void 0 && ot("ptr should not be undefined"); f.A; )
                    ($ = f.na($)), (f = f.A)
                  return $
                }
                var ro = {}
                function mi(f) {
                  var $ = Pt((f = Pi(f)))
                  return Hn(f), $
                }
                function Po(f, $) {
                  var v = ro[f]
                  return v === void 0 && ot($ + " has unknown type " + mi(f)), v
                }
                function fr() {}
                var is = !1
                function pi(f) {
                  --f.count.value,
                    f.count.value === 0 && (f.G ? f.L.W(f.G) : f.u.i.W(f.o))
                }
                function $i(f, $, v) {
                  return $ === v
                    ? f
                    : v.A === void 0 || (f = $i(f, $, v.A)) === null
                      ? null
                      : v.Pb(f)
                }
                var hi = {},
                  gi = void 0
                function mr(f) {
                  throw new gi(f)
                }
                function pr(f, $) {
                  return (
                    ($.u && $.o) ||
                      mr("makeClassHandle requires ptr and ptrType"),
                    !!$.L != !!$.G &&
                      mr("Both smartPtrType and smartPtr must be specified"),
                    ($.count = { value: 1 }),
                    No(Object.create(f, { g: { value: $ } }))
                  )
                }
                function No(f) {
                  return typeof FinalizationRegistry > "u"
                    ? ((No = ($) => $), f)
                    : ((is = new FinalizationRegistry(($) => {
                        pi($.g)
                      })),
                      (fr = ($) => {
                        is.unregister($)
                      }),
                      (No = ($) => {
                        var v = $.g
                        return v.G && is.register($, { g: v }, $), $
                      })(f))
                }
                var $r = {}
                function Fo(f) {
                  for (; f.length; ) {
                    var $ = f.pop()
                    f.pop()($)
                  }
                }
                function Do(f) {
                  return this.fromWireType(Ie[f >> 2])
                }
                var vo = {},
                  hr = {}
                function pn(f, $, v) {
                  function E(W) {
                    ;(W = v(W)).length !== f.length &&
                      mr("Mismatched type converter count")
                    for (var J = 0; J < f.length; ++J) Tn(f[J], W[J])
                  }
                  f.forEach(function (W) {
                    hr[W] = $
                  })
                  var T = Array($.length),
                    R = [],
                    D = 0
                  $.forEach((W, J) => {
                    ro.hasOwnProperty(W)
                      ? (T[J] = ro[W])
                      : (R.push(W),
                        vo.hasOwnProperty(W) || (vo[W] = []),
                        vo[W].push(() => {
                          ;(T[J] = ro[W]), ++D === R.length && E(T)
                        }))
                  }),
                    R.length === 0 && E(T)
                }
                function gr(f) {
                  switch (f) {
                    case 1:
                      return 0
                    case 2:
                      return 1
                    case 4:
                      return 2
                    case 8:
                      return 3
                    default:
                      throw new TypeError(`Unknown type size: ${f}`)
                  }
                }
                function Tn(f, $, v = {}) {
                  if (!("argPackAdvance" in $))
                    throw new TypeError(
                      "registerType registeredInstance requires argPackAdvance",
                    )
                  ;(function (E, T, R = {}) {
                    var D = T.name
                    if (
                      (E ||
                        ot(
                          `type "${D}" must have a positive integer typeid pointer`,
                        ),
                      ro.hasOwnProperty(E))
                    ) {
                      if (R.$b) return
                      ot(`Cannot register type '${D}' twice`)
                    }
                    ;(ro[E] = T),
                      delete hr[E],
                      vo.hasOwnProperty(E) &&
                        ((T = vo[E]), delete vo[E], T.forEach((W) => W()))
                  })(f, $, v)
                }
                function as(f) {
                  ot(f.g.u.i.name + " instance already deleted")
                }
                function Yn() {}
                function cs(f, $, v) {
                  if (f[$].B === void 0) {
                    var E = f[$]
                    ;(f[$] = function () {
                      return (
                        f[$].B.hasOwnProperty(arguments.length) ||
                          ot(
                            `Function '${v}' called with an invalid number of arguments (${arguments.length}) - expects one of (${f[$].B})!`,
                          ),
                        f[$].B[arguments.length].apply(this, arguments)
                      )
                    }),
                      (f[$].B = []),
                      (f[$].B[E.ea] = E)
                  }
                }
                function ls(f, $, v) {
                  h.hasOwnProperty(f)
                    ? ((v === void 0 ||
                        (h[f].B !== void 0 && h[f].B[v] !== void 0)) &&
                        ot(`Cannot register public name '${f}' twice`),
                      cs(h, f, f),
                      h.hasOwnProperty(v) &&
                        ot(
                          `Cannot register multiple overloads of a function with the same number of arguments (${v})!`,
                        ),
                      (h[f].B[v] = $))
                    : ((h[f] = $), v !== void 0 && (h[f].Pc = v))
                }
                function gd(f, $, v, E, T, R, D, W) {
                  ;(this.name = f),
                    (this.constructor = $),
                    (this.N = v),
                    (this.W = E),
                    (this.A = T),
                    (this.Ub = R),
                    (this.na = D),
                    (this.Pb = W),
                    (this.qb = [])
                }
                function vr(f, $, v) {
                  for (; $ !== v; )
                    $.na ||
                      ot(
                        `Expected null or instance of ${v.name}, got an instance of ${$.name}`,
                      ),
                      (f = $.na(f)),
                      ($ = $.A)
                  return f
                }
                function vd(f, $) {
                  return $ === null
                    ? (this.Na && ot(`null is not a valid ${this.name}`), 0)
                    : ($.g || ot(`Cannot pass "${ds($)}" as a ${this.name}`),
                      $.g.o ||
                        ot(
                          `Cannot pass deleted object as a pointer of type ${this.name}`,
                        ),
                      vr($.g.o, $.g.u.i, this.i))
                }
                function wd(f, $) {
                  if ($ === null) {
                    if (
                      (this.Na && ot(`null is not a valid ${this.name}`),
                      this.ua)
                    ) {
                      var v = this.Pa()
                      return f !== null && f.push(this.W, v), v
                    }
                    return 0
                  }
                  if (
                    ($.g || ot(`Cannot pass "${ds($)}" as a ${this.name}`),
                    $.g.o ||
                      ot(
                        `Cannot pass deleted object as a pointer of type ${this.name}`,
                      ),
                    !this.ta &&
                      $.g.u.ta &&
                      ot(
                        `Cannot convert argument of type ${$.g.L ? $.g.L.name : $.g.u.name} to parameter type ${this.name}`,
                      ),
                    (v = vr($.g.o, $.g.u.i, this.i)),
                    this.ua)
                  )
                    switch (
                      ($.g.G === void 0 &&
                        ot("Passing raw pointer to smart pointer is illegal"),
                      this.tc)
                    ) {
                      case 0:
                        $.g.L === this
                          ? (v = $.g.G)
                          : ot(
                              `Cannot convert argument of type ${$.g.L ? $.g.L.name : $.g.u.name} to parameter type ${this.name}`,
                            )
                        break
                      case 1:
                        v = $.g.G
                        break
                      case 2:
                        if ($.g.L === this) v = $.g.G
                        else {
                          var E = $.clone()
                          ;(v = this.oc(
                            v,
                            Sn(function () {
                              E.delete()
                            }),
                          )),
                            f !== null && f.push(this.W, v)
                        }
                        break
                      default:
                        ot("Unsupporting sharing policy")
                    }
                  return v
                }
                function yd(f, $) {
                  return $ === null
                    ? (this.Na && ot(`null is not a valid ${this.name}`), 0)
                    : ($.g || ot(`Cannot pass "${ds($)}" as a ${this.name}`),
                      $.g.o ||
                        ot(
                          `Cannot pass deleted object as a pointer of type ${this.name}`,
                        ),
                      $.g.u.ta &&
                        ot(
                          `Cannot convert argument of type ${$.g.u.name} to parameter type ${this.name}`,
                        ),
                      vr($.g.o, $.g.u.i, this.i))
                }
                function Bn(f, $, v, E) {
                  ;(this.name = f),
                    (this.i = $),
                    (this.Na = v),
                    (this.ta = E),
                    (this.ua = !1),
                    (this.W =
                      this.oc =
                      this.Pa =
                      this.rb =
                      this.tc =
                      this.nc =
                        void 0),
                    $.A !== void 0
                      ? (this.toWireType = wd)
                      : ((this.toWireType = E ? vd : yd), (this.K = null))
                }
                function vi(f, $, v) {
                  h.hasOwnProperty(f) ||
                    mr("Replacing nonexistant public symbol"),
                    h[f].B !== void 0 && v !== void 0
                      ? (h[f].B[v] = $)
                      : ((h[f] = $), (h[f].ea = v))
                }
                var wr = [],
                  wi = (f) => {
                    var $ = wr[f]
                    return (
                      $ ||
                        (f >= wr.length && (wr.length = f + 1),
                        (wr[f] = $ = _.get(f))),
                      $
                    )
                  }
                function Zt(f, $) {
                  var v = (f = Pt(f)).includes("j")
                    ? ((E, T) => {
                        var R = []
                        return function () {
                          if (
                            ((R.length = 0),
                            Object.assign(R, arguments),
                            E.includes("j"))
                          ) {
                            var D = h["dynCall_" + E]
                            D =
                              R && R.length
                                ? D.apply(null, [T].concat(R))
                                : D.call(null, T)
                          } else D = wi(T).apply(null, R)
                          return D
                        }
                      })(f, $)
                    : wi($)
                  return (
                    typeof v != "function" &&
                      ot(`unknown function pointer with signature ${f}: ${$}`),
                    v
                  )
                }
                var yi = void 0
                function jn(f, $) {
                  var v = [],
                    E = {}
                  throw (
                    ($.forEach(function T(R) {
                      E[R] ||
                        ro[R] ||
                        (hr[R] ? hr[R].forEach(T) : (v.push(R), (E[R] = !0)))
                    }),
                    new yi(`${f}: ` + v.map(mi).join([", "])))
                  )
                }
                function yr(f, $, v, E, T) {
                  var R = $.length
                  2 > R &&
                    ot(
                      "argTypes array size mismatch! Must at least get return value and 'this' types!",
                    )
                  var D = $[1] !== null && v !== null,
                    W = !1
                  for (v = 1; v < $.length; ++v)
                    if ($[v] !== null && $[v].K === void 0) {
                      W = !0
                      break
                    }
                  var J = $[0].name !== "void",
                    q = R - 2,
                    _e = Array(q),
                    Me = [],
                    Se = []
                  return function () {
                    if (
                      (arguments.length !== q &&
                        ot(
                          `function ${f} called with ${arguments.length} arguments, expected ${q} args!`,
                        ),
                      (Se.length = 0),
                      (Me.length = D ? 2 : 1),
                      (Me[0] = T),
                      D)
                    ) {
                      var Pe = $[1].toWireType(Se, this)
                      Me[1] = Pe
                    }
                    for (var ke = 0; ke < q; ++ke)
                      (_e[ke] = $[ke + 2].toWireType(Se, arguments[ke])),
                        Me.push(_e[ke])
                    if (((ke = E.apply(null, Me)), W)) Fo(Se)
                    else
                      for (var ve = D ? 1 : 2; ve < $.length; ve++) {
                        var pt = ve === 1 ? Pe : _e[ve - 2]
                        $[ve].K !== null && $[ve].K(pt)
                      }
                    return (Pe = J ? $[0].fromWireType(ke) : void 0)
                  }
                }
                function br(f, $) {
                  for (var v = [], E = 0; E < f; E++)
                    v.push(Be[($ + 4 * E) >> 2])
                  return v
                }
                function bi(f, $, v) {
                  return (
                    f instanceof Object || ot(`${v} with invalid "this": ${f}`),
                    f instanceof $.i.constructor ||
                      ot(
                        `${v} incompatible with "this" of type ${f.constructor.name}`,
                      ),
                    f.g.o ||
                      ot(
                        `cannot call emscripten binding method ${v} on deleted object`,
                      ),
                    vr(f.g.o, f.g.u.i, $.i)
                  )
                }
                function us(f) {
                  f >= wn.h && --wn.get(f).tb == 0 && wn.Zb(f)
                }
                function bd(f, $, v) {
                  switch ($) {
                    case 0:
                      return function (E) {
                        return this.fromWireType((v ? ae : se)[E])
                      }
                    case 1:
                      return function (E) {
                        return this.fromWireType((v ? xe : tt)[E >> 1])
                      }
                    case 2:
                      return function (E) {
                        return this.fromWireType((v ? Ie : Be)[E >> 2])
                      }
                    default:
                      throw new TypeError("Unknown integer type: " + f)
                  }
                }
                function ds(f) {
                  if (f === null) return "null"
                  var $ = typeof f
                  return $ === "object" || $ === "array" || $ === "function"
                    ? f.toString()
                    : "" + f
                }
                function xd(f, $) {
                  switch ($) {
                    case 2:
                      return function (v) {
                        return this.fromWireType(rt[v >> 2])
                      }
                    case 3:
                      return function (v) {
                        return this.fromWireType(He[v >> 3])
                      }
                    default:
                      throw new TypeError("Unknown float type: " + f)
                  }
                }
                function _d(f, $, v) {
                  switch ($) {
                    case 0:
                      return v
                        ? function (E) {
                            return ae[E]
                          }
                        : function (E) {
                            return se[E]
                          }
                    case 1:
                      return v
                        ? function (E) {
                            return xe[E >> 1]
                          }
                        : function (E) {
                            return tt[E >> 1]
                          }
                    case 2:
                      return v
                        ? function (E) {
                            return Ie[E >> 2]
                          }
                        : function (E) {
                            return Be[E >> 2]
                          }
                    default:
                      throw new TypeError("Unknown integer type: " + f)
                  }
                }
                var xi =
                    typeof TextDecoder < "u"
                      ? new TextDecoder("utf-16le")
                      : void 0,
                  Cd = (f, $) => {
                    for (var v = f >> 1, E = v + $ / 2; !(v >= E) && tt[v]; )
                      ++v
                    if (32 < (v <<= 1) - f && xi)
                      return xi.decode(se.subarray(f, v))
                    for (v = "", E = 0; !(E >= $ / 2); ++E) {
                      var T = xe[(f + 2 * E) >> 1]
                      if (T == 0) break
                      v += String.fromCharCode(T)
                    }
                    return v
                  },
                  Md = (f, $, v) => {
                    if ((v === void 0 && (v = 2147483647), 2 > v)) return 0
                    var E = $
                    v = (v -= 2) < 2 * f.length ? v / 2 : f.length
                    for (var T = 0; T < v; ++T)
                      (xe[$ >> 1] = f.charCodeAt(T)), ($ += 2)
                    return (xe[$ >> 1] = 0), $ - E
                  },
                  Ad = (f) => 2 * f.length,
                  kd = (f, $) => {
                    for (var v = 0, E = ""; !(v >= $ / 4); ) {
                      var T = Ie[(f + 4 * v) >> 2]
                      if (T == 0) break
                      ++v,
                        65536 <= T
                          ? ((T -= 65536),
                            (E += String.fromCharCode(
                              55296 | (T >> 10),
                              56320 | (1023 & T),
                            )))
                          : (E += String.fromCharCode(T))
                    }
                    return E
                  },
                  Ed = (f, $, v) => {
                    if ((v === void 0 && (v = 2147483647), 4 > v)) return 0
                    var E = $
                    v = E + v - 4
                    for (var T = 0; T < f.length; ++T) {
                      var R = f.charCodeAt(T)
                      if (
                        (55296 <= R &&
                          57343 >= R &&
                          (R =
                            (65536 + ((1023 & R) << 10)) |
                            (1023 & f.charCodeAt(++T))),
                        (Ie[$ >> 2] = R),
                        ($ += 4) + 4 > v)
                      )
                        break
                    }
                    return (Ie[$ >> 2] = 0), $ - E
                  },
                  Id = (f) => {
                    for (var $ = 0, v = 0; v < f.length; ++v) {
                      var E = f.charCodeAt(v)
                      55296 <= E && 57343 >= E && ++v, ($ += 4)
                    }
                    return $
                  },
                  Sd = {}
                function xr(f) {
                  var $ = Sd[f]
                  return $ === void 0 ? Pt(f) : $
                }
                var fs,
                  _r = [],
                  _i = [],
                  ms = [],
                  ps = {},
                  Ci = () => {
                    if (!fs) {
                      var f,
                        $ = {
                          USER: "web_user",
                          LOGNAME: "web_user",
                          PATH: "/",
                          PWD: "/",
                          HOME: "/home/web_user",
                          LANG:
                            (
                              (typeof navigator == "object" &&
                                navigator.languages &&
                                navigator.languages[0]) ||
                              "C"
                            ).replace("-", "_") + ".UTF-8",
                          _: re || "./this.program",
                        }
                      for (f in ps)
                        ps[f] === void 0 ? delete $[f] : ($[f] = ps[f])
                      var v = []
                      for (f in $) v.push(`${f}=${$[f]}`)
                      fs = v
                    }
                    return fs
                  },
                  Cr = (f) => f % 4 == 0 && (f % 100 != 0 || f % 400 == 0),
                  Mi = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
                  Ai = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
                function ki(f, $, v, E) {
                  f || (f = this),
                    (this.parent = f),
                    (this.U = f.U),
                    (this.wa = null),
                    (this.id = pd++),
                    (this.name = $),
                    (this.mode = v),
                    (this.l = {}),
                    (this.m = {}),
                    (this.za = E)
                }
                Object.defineProperties(ki.prototype, {
                  read: {
                    get: function () {
                      return !(365 & ~this.mode)
                    },
                    set: function (f) {
                      f ? (this.mode |= 365) : (this.mode &= -366)
                    },
                  },
                  write: {
                    get: function () {
                      return !(146 & ~this.mode)
                    },
                    set: function (f) {
                      f ? (this.mode |= 146) : (this.mode &= -147)
                    },
                  },
                }),
                  ai(),
                  (So = Array(4096)),
                  si(at, "/"),
                  An("/tmp", 16895, 0),
                  An("/home", 16895, 0),
                  An("/home/web_user", 16895, 0),
                  (() => {
                    An("/dev", 16895, 0),
                      ns(259, { read: () => 0, write: (E, T, R, D) => D }),
                      cr("/dev/null", 259),
                      ho(1280, fd),
                      ho(1536, md),
                      cr("/dev/tty", 1280),
                      cr("/dev/tty1", 1536)
                    var f = new Uint8Array(1024),
                      $ = 0,
                      v = () => ($ === 0 && ($ = Ot(f).byteLength), f[--$])
                    To("random", v),
                      To("urandom", v),
                      An("/dev/shm", 16895, 0),
                      An("/dev/shm/tmp", 16895, 0)
                  })(),
                  (() => {
                    An("/proc", 16895, 0)
                    var f = An("/proc/self", 16895, 0)
                    An("/proc/self/fd", 16895, 0),
                      si(
                        {
                          U: () => {
                            var $ = ti(f, "fd", 16895, 73)
                            return (
                              ($.l = {
                                ka: (v, E) => {
                                  var T = Vn(+E)
                                  return ((v = {
                                    parent: null,
                                    U: { mb: "fake" },
                                    l: { ma: () => T.path },
                                  }).parent = v)
                                },
                              }),
                              $
                            )
                          },
                        },
                        "/proc/self/fd",
                      )
                  })(),
                  Object.assign(li.prototype, {
                    get(f) {
                      return this.M[f]
                    },
                    has(f) {
                      return this.M[f] !== void 0
                    },
                    pa(f) {
                      var $ = this.hb.pop() || this.M.length
                      return (this.M[$] = f), $
                    },
                    Zb(f) {
                      ;(this.M[f] = void 0), this.hb.push(f)
                    },
                  }),
                  (go = h.BindingError =
                    class extends Error {
                      constructor(f) {
                        super(f), (this.name = "BindingError")
                      }
                    }),
                  wn.M.push(
                    { value: void 0 },
                    { value: null },
                    { value: !0 },
                    { value: !1 },
                  ),
                  (wn.h = wn.M.length),
                  (h.count_emval_handles = function () {
                    for (var f = 0, $ = wn.h; $ < wn.M.length; ++$)
                      wn.M[$] !== void 0 && ++f
                    return f
                  }),
                  (di = h.PureVirtualError = ui("PureVirtualError"))
                for (var Ei = Array(256), Mr = 0; 256 > Mr; ++Mr)
                  Ei[Mr] = String.fromCharCode(Mr)
                ;(fi = Ei),
                  (h.getInheritedInstanceCount = function () {
                    return Object.keys(zn).length
                  }),
                  (h.getLiveInheritedInstances = function () {
                    var f,
                      $ = []
                    for (f in zn) zn.hasOwnProperty(f) && $.push(zn[f])
                    return $
                  }),
                  (h.flushPendingDeletes = rs),
                  (h.setDelayFunction = function (f) {
                    ;(Ro = f), Lo.length && Ro && Ro(rs)
                  }),
                  (gi = h.InternalError =
                    class extends Error {
                      constructor(f) {
                        super(f), (this.name = "InternalError")
                      }
                    }),
                  (Yn.prototype.isAliasOf = function (f) {
                    if (!(this instanceof Yn && f instanceof Yn)) return !1
                    var $ = this.g.u.i,
                      v = this.g.o,
                      E = f.g.u.i
                    for (f = f.g.o; $.A; ) (v = $.na(v)), ($ = $.A)
                    for (; E.A; ) (f = E.na(f)), (E = E.A)
                    return $ === E && v === f
                  }),
                  (Yn.prototype.clone = function () {
                    if ((this.g.o || as(this), this.g.ia))
                      return (this.g.count.value += 1), this
                    var f = No,
                      $ = Object,
                      v = $.create,
                      E = Object.getPrototypeOf(this),
                      T = this.g
                    return (
                      ((f = f(
                        v.call($, E, {
                          g: {
                            value: {
                              count: T.count,
                              fa: T.fa,
                              ia: T.ia,
                              o: T.o,
                              u: T.u,
                              G: T.G,
                              L: T.L,
                            },
                          },
                        }),
                      )).g.count.value += 1),
                      (f.g.fa = !1),
                      f
                    )
                  }),
                  (Yn.prototype.delete = function () {
                    this.g.o || as(this),
                      this.g.fa &&
                        !this.g.ia &&
                        ot("Object already scheduled for deletion"),
                      fr(this),
                      pi(this.g),
                      this.g.ia || ((this.g.G = void 0), (this.g.o = void 0))
                  }),
                  (Yn.prototype.isDeleted = function () {
                    return !this.g.o
                  }),
                  (Yn.prototype.deleteLater = function () {
                    return (
                      this.g.o || as(this),
                      this.g.fa &&
                        !this.g.ia &&
                        ot("Object already scheduled for deletion"),
                      Lo.push(this),
                      Lo.length === 1 && Ro && Ro(rs),
                      (this.g.fa = !0),
                      this
                    )
                  }),
                  (Bn.prototype.Vb = function (f) {
                    return this.rb && (f = this.rb(f)), f
                  }),
                  (Bn.prototype.ab = function (f) {
                    this.W && this.W(f)
                  }),
                  (Bn.prototype.argPackAdvance = 8),
                  (Bn.prototype.readValueFromPointer = Do),
                  (Bn.prototype.deleteObject = function (f) {
                    f !== null && f.delete()
                  }),
                  (Bn.prototype.fromWireType = function (f) {
                    function $() {
                      return this.ua
                        ? pr(this.i.N, { u: this.nc, o: v, L: this, G: f })
                        : pr(this.i.N, { u: this, o: f })
                    }
                    var v = this.Vb(f)
                    if (!v) return this.ab(f), null
                    var E = (function (R, D) {
                      return (D = ss(R, D)), zn[D]
                    })(this.i, v)
                    if (E !== void 0)
                      return E.g.count.value === 0
                        ? ((E.g.o = v), (E.g.G = f), E.clone())
                        : ((E = E.clone()), this.ab(f), E)
                    if (((E = this.i.Ub(v)), !(E = hi[E]))) return $.call(this)
                    E = this.ta ? E.Kb : E.pointerType
                    var T = $i(v, this.i, E.i)
                    return T === null
                      ? $.call(this)
                      : this.ua
                        ? pr(E.i.N, { u: E, o: T, L: this, G: f })
                        : pr(E.i.N, { u: E, o: T })
                  }),
                  (yi = h.UnboundTypeError = ui("UnboundTypeError"))
                var Ii = {
                  __syscall_fcntl64: function (f, $, v) {
                    ur = v
                    try {
                      var E = Vn(f)
                      switch ($) {
                        case 0:
                          var T = On()
                          return 0 > T ? -28 : ri(E, T).X
                        case 1:
                        case 2:
                        case 6:
                        case 7:
                          return 0
                        case 3:
                          return E.flags
                        case 4:
                          return (T = On()), (E.flags |= T), 0
                        case 5:
                          return (T = On()), (xe[(T + 0) >> 1] = 2), 0
                        case 16:
                        case 8:
                        default:
                          return -28
                        case 9:
                          return (Ie[Ri() >> 2] = 28), -1
                      }
                    } catch (R) {
                      if (oo === void 0 || R.name !== "ErrnoError") throw R
                      return -R.aa
                    }
                  },
                  __syscall_ioctl: function (f, $, v) {
                    ur = v
                    try {
                      var E = Vn(f)
                      switch ($) {
                        case 21509:
                        case 21510:
                        case 21511:
                        case 21512:
                        case 21524:
                        case 21515:
                          return E.s ? 0 : -59
                        case 21505:
                          if (!E.s) return -59
                          if (E.s.V.bc) {
                            $ = [
                              3, 28, 127, 21, 4, 0, 1, 0, 17, 19, 26, 0, 18, 15,
                              23, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                              0, 0,
                            ]
                            var T = On()
                            ;(Ie[T >> 2] = 25856),
                              (Ie[(T + 4) >> 2] = 5),
                              (Ie[(T + 8) >> 2] = 191),
                              (Ie[(T + 12) >> 2] = 35387)
                            for (var R = 0; 32 > R; R++)
                              ae[(T + R + 17) | 0] = $[R] || 0
                          }
                          return 0
                        case 21506:
                        case 21507:
                        case 21508:
                          if (!E.s) return -59
                          if (E.s.V.cc)
                            for (T = On(), $ = [], R = 0; 32 > R; R++)
                              $.push(ae[(T + R + 17) | 0])
                          return 0
                        case 21519:
                          return E.s ? ((T = On()), (Ie[T >> 2] = 0)) : -59
                        case 21520:
                          return E.s ? -28 : -59
                        case 21531:
                          if (((T = On()), !E.m.ac)) throw new Ne(59)
                          return E.m.ac(E, $, T)
                        case 21523:
                          return E.s
                            ? (E.s.V.dc &&
                                ((R = [24, 80]),
                                (T = On()),
                                (xe[T >> 1] = R[0]),
                                (xe[(T + 2) >> 1] = R[1])),
                              0)
                            : -59
                        default:
                          return -28
                      }
                    } catch (D) {
                      if (oo === void 0 || D.name !== "ErrnoError") throw D
                      return -D.aa
                    }
                  },
                  __syscall_openat: function (f, $, v, E) {
                    ur = E
                    try {
                      var T = ($ = $ ? sn(se, $) : "")
                      if (T.charAt(0) === "/") $ = T
                      else {
                        var R = f === -100 ? "/" : Vn(f).path
                        if (T.length == 0) throw new Ne(44)
                        $ = At(R + "/" + T)
                      }
                      var D = E ? On() : 0
                      return lr($, v, D).X
                    } catch (W) {
                      if (oo === void 0 || W.name !== "ErrnoError") throw W
                      return -W.aa
                    }
                  },
                  _embind_create_inheriting_constructor: function (f, $, v) {
                    ;(f = Pt(f)), ($ = Po($, "wrapper")), (v = kn(v))
                    var E = [].slice,
                      T = $.i,
                      R = T.N,
                      D = T.A.N,
                      W = T.A.constructor
                    for (var J in ((f = dr(f, function () {
                      T.A.qb.forEach(
                        function (q) {
                          if (this[q] === D[q])
                            throw new di(
                              `Pure virtual function ${q} must be implemented in JavaScript`,
                            )
                        }.bind(this),
                      ),
                        Object.defineProperty(this, "__parent", { value: R }),
                        this.__construct.apply(this, E.call(arguments))
                    })),
                    (R.__construct = function () {
                      this === R && ot("Pass correct 'this' to __construct")
                      var q = W.implement.apply(
                        void 0,
                        [this].concat(E.call(arguments)),
                      )
                      fr(q)
                      var _e = q.g
                      q.notifyOnDestruction(),
                        (_e.ia = !0),
                        Object.defineProperties(this, { g: { value: _e } }),
                        No(this),
                        (q = _e.o),
                        (q = ss(T, q)),
                        zn.hasOwnProperty(q)
                          ? ot(`Tried to register registered instance: ${q}`)
                          : (zn[q] = this)
                    }),
                    (R.__destruct = function () {
                      this === R && ot("Pass correct 'this' to __destruct"),
                        fr(this)
                      var q = this.g.o
                      ;(q = ss(T, q)),
                        zn.hasOwnProperty(q)
                          ? delete zn[q]
                          : ot(
                              `Tried to unregister unregistered instance: ${q}`,
                            )
                    }),
                    (f.prototype = Object.create(R)),
                    v))
                      f.prototype[J] = v[J]
                    return Sn(f)
                  },
                  _embind_finalize_value_object: function (f) {
                    var $ = $r[f]
                    delete $r[f]
                    var v = $.Pa,
                      E = $.W,
                      T = $.eb
                    pn(
                      [f],
                      T.map((R) => R.Yb).concat(T.map((R) => R.rc)),
                      (R) => {
                        var D = {}
                        return (
                          T.forEach((W, J) => {
                            var q = R[J],
                              _e = W.Wb,
                              Me = W.Xb,
                              Se = R[J + T.length],
                              Pe = W.qc,
                              ke = W.sc
                            D[W.Sb] = {
                              read: (ve) => q.fromWireType(_e(Me, ve)),
                              write: (ve, pt) => {
                                var V = []
                                Pe(ke, ve, Se.toWireType(V, pt)), Fo(V)
                              },
                            }
                          }),
                          [
                            {
                              name: $.name,
                              fromWireType: function (W) {
                                var J,
                                  q = {}
                                for (J in D) q[J] = D[J].read(W)
                                return E(W), q
                              },
                              toWireType: function (W, J) {
                                for (var q in D)
                                  if (!(q in J))
                                    throw new TypeError(`Missing field: "${q}"`)
                                var _e = v()
                                for (q in D) D[q].write(_e, J[q])
                                return W !== null && W.push(E, _e), _e
                              },
                              argPackAdvance: 8,
                              readValueFromPointer: Do,
                              K: E,
                            },
                          ]
                        )
                      },
                    )
                  },
                  _embind_register_bigint: function () {},
                  _embind_register_bool: function (f, $, v, E, T) {
                    var R = gr(v)
                    Tn(f, {
                      name: ($ = Pt($)),
                      fromWireType: function (D) {
                        return !!D
                      },
                      toWireType: function (D, W) {
                        return W ? E : T
                      },
                      argPackAdvance: 8,
                      readValueFromPointer: function (D) {
                        if (v === 1) var W = ae
                        else if (v === 2) W = xe
                        else {
                          if (v !== 4)
                            throw new TypeError(
                              "Unknown boolean type size: " + $,
                            )
                          W = Ie
                        }
                        return this.fromWireType(W[D >> R])
                      },
                      K: null,
                    })
                  },
                  _embind_register_class: function (
                    f,
                    $,
                    v,
                    E,
                    T,
                    R,
                    D,
                    W,
                    J,
                    q,
                    _e,
                    Me,
                    Se,
                  ) {
                    ;(_e = Pt(_e)),
                      (R = Zt(T, R)),
                      W && (W = Zt(D, W)),
                      q && (q = Zt(J, q)),
                      (Se = Zt(Me, Se))
                    var Pe = ci(_e)
                    ls(Pe, function () {
                      jn(`Cannot construct ${_e} due to unbound types`, [E])
                    }),
                      pn([f, $, v], E ? [E] : [], function (ke) {
                        if (((ke = ke[0]), E))
                          var ve = ke.i,
                            pt = ve.N
                        else pt = Yn.prototype
                        ke = dr(Pe, function () {
                          if (Object.getPrototypeOf(this) !== V)
                            throw new go("Use 'new' to construct " + _e)
                          if (fe.$ === void 0)
                            throw new go(_e + " has no accessible constructor")
                          var It = fe.$[arguments.length]
                          if (It === void 0)
                            throw new go(
                              `Tried to invoke ctor of ${_e} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(fe.$).toString()}) parameters instead!`,
                            )
                          return It.apply(this, arguments)
                        })
                        var V = Object.create(pt, {
                          constructor: { value: ke },
                        })
                        ke.prototype = V
                        var fe = new gd(_e, ke, V, Se, ve, R, W, q)
                        fe.A &&
                          (fe.A.oa === void 0 && (fe.A.oa = []),
                          fe.A.oa.push(fe)),
                          (ve = new Bn(_e, fe, !0, !1)),
                          (pt = new Bn(_e + "*", fe, !1, !1))
                        var Ye = new Bn(_e + " const*", fe, !1, !0)
                        return (
                          (hi[f] = { pointerType: pt, Kb: Ye }),
                          vi(Pe, ke),
                          [ve, pt, Ye]
                        )
                      })
                  },
                  _embind_register_class_class_function: function (
                    f,
                    $,
                    v,
                    E,
                    T,
                    R,
                    D,
                  ) {
                    var W = br(v, E)
                    ;($ = Pt($)),
                      (R = Zt(T, R)),
                      pn([], [f], function (J) {
                        function q() {
                          jn(`Cannot call ${_e} due to unbound types`, W)
                        }
                        var _e = `${(J = J[0]).name}.${$}`
                        $.startsWith("@@") && ($ = Symbol[$.substring(2)])
                        var Me = J.i.constructor
                        return (
                          Me[$] === void 0
                            ? ((q.ea = v - 1), (Me[$] = q))
                            : (cs(Me, $, _e), (Me[$].B[v - 1] = q)),
                          pn([], W, function (Se) {
                            if (
                              ((Se = yr(
                                _e,
                                [Se[0], null].concat(Se.slice(1)),
                                null,
                                R,
                                D,
                              )),
                              Me[$].B === void 0
                                ? ((Se.ea = v - 1), (Me[$] = Se))
                                : (Me[$].B[v - 1] = Se),
                              J.i.oa)
                            )
                              for (const Pe of J.i.oa)
                                Pe.constructor.hasOwnProperty($) ||
                                  (Pe.constructor[$] = Se)
                            return []
                          }),
                          []
                        )
                      })
                  },
                  _embind_register_class_class_property: function (
                    f,
                    $,
                    v,
                    E,
                    T,
                    R,
                    D,
                    W,
                  ) {
                    ;($ = Pt($)),
                      (R = Zt(T, R)),
                      pn([], [f], function (J) {
                        var q = `${(J = J[0]).name}.${$}`,
                          _e = {
                            get() {
                              jn(`Cannot access ${q} due to unbound types`, [v])
                            },
                            enumerable: !0,
                            configurable: !0,
                          }
                        return (
                          (_e.set = W
                            ? () => {
                                jn(`Cannot access ${q} due to unbound types`, [
                                  v,
                                ])
                              }
                            : () => {
                                ot(`${q} is a read-only property`)
                              }),
                          Object.defineProperty(J.i.constructor, $, _e),
                          pn([], [v], function (Me) {
                            Me = Me[0]
                            var Se = {
                              get: () => Me.fromWireType(R(E)),
                              enumerable: !0,
                            }
                            return (
                              W &&
                                ((W = Zt(D, W)),
                                (Se.set = (Pe) => {
                                  var ke = []
                                  W(E, Me.toWireType(ke, Pe)), Fo(ke)
                                })),
                              Object.defineProperty(J.i.constructor, $, Se),
                              []
                            )
                          }),
                          []
                        )
                      })
                  },
                  _embind_register_class_constructor: function (
                    f,
                    $,
                    v,
                    E,
                    T,
                    R,
                  ) {
                    var D = br($, v)
                    ;(T = Zt(E, T)),
                      pn([], [f], function (W) {
                        var J = `constructor ${(W = W[0]).name}`
                        if (
                          (W.i.$ === void 0 && (W.i.$ = []),
                          W.i.$[$ - 1] !== void 0)
                        )
                          throw new go(
                            `Cannot register multiple constructors with identical number of parameters (${$ - 1}) for class '${W.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`,
                          )
                        return (
                          (W.i.$[$ - 1] = () => {
                            jn(
                              `Cannot construct ${W.name} due to unbound types`,
                              D,
                            )
                          }),
                          pn([], D, function (q) {
                            return (
                              q.splice(1, 0, null),
                              (W.i.$[$ - 1] = yr(J, q, null, T, R)),
                              []
                            )
                          }),
                          []
                        )
                      })
                  },
                  _embind_register_class_function: function (
                    f,
                    $,
                    v,
                    E,
                    T,
                    R,
                    D,
                    W,
                  ) {
                    var J = br(v, E)
                    ;($ = Pt($)),
                      (R = Zt(T, R)),
                      pn([], [f], function (q) {
                        function _e() {
                          jn(`Cannot call ${Me} due to unbound types`, J)
                        }
                        var Me = `${(q = q[0]).name}.${$}`
                        $.startsWith("@@") && ($ = Symbol[$.substring(2)]),
                          W && q.i.qb.push($)
                        var Se = q.i.N,
                          Pe = Se[$]
                        return (
                          Pe === void 0 ||
                          (Pe.B === void 0 &&
                            Pe.className !== q.name &&
                            Pe.ea === v - 2)
                            ? ((_e.ea = v - 2),
                              (_e.className = q.name),
                              (Se[$] = _e))
                            : (cs(Se, $, Me), (Se[$].B[v - 2] = _e)),
                          pn([], J, function (ke) {
                            return (
                              (ke = yr(Me, ke, q, R, D)),
                              Se[$].B === void 0
                                ? ((ke.ea = v - 2), (Se[$] = ke))
                                : (Se[$].B[v - 2] = ke),
                              []
                            )
                          }),
                          []
                        )
                      })
                  },
                  _embind_register_class_property: function (
                    f,
                    $,
                    v,
                    E,
                    T,
                    R,
                    D,
                    W,
                    J,
                    q,
                  ) {
                    ;($ = Pt($)),
                      (T = Zt(E, T)),
                      pn([], [f], function (_e) {
                        var Me = `${(_e = _e[0]).name}.${$}`,
                          Se = {
                            get() {
                              jn(`Cannot access ${Me} due to unbound types`, [
                                v,
                                D,
                              ])
                            },
                            enumerable: !0,
                            configurable: !0,
                          }
                        return (
                          (Se.set = J
                            ? () => {
                                jn(`Cannot access ${Me} due to unbound types`, [
                                  v,
                                  D,
                                ])
                              }
                            : () => {
                                ot(Me + " is a read-only property")
                              }),
                          Object.defineProperty(_e.i.N, $, Se),
                          pn([], J ? [v, D] : [v], function (Pe) {
                            var ke = Pe[0],
                              ve = {
                                get() {
                                  var V = bi(this, _e, Me + " getter")
                                  return ke.fromWireType(T(R, V))
                                },
                                enumerable: !0,
                              }
                            if (J) {
                              J = Zt(W, J)
                              var pt = Pe[1]
                              ve.set = function (V) {
                                var fe = bi(this, _e, Me + " setter"),
                                  Ye = []
                                J(q, fe, pt.toWireType(Ye, V)), Fo(Ye)
                              }
                            }
                            return Object.defineProperty(_e.i.N, $, ve), []
                          }),
                          []
                        )
                      })
                  },
                  _embind_register_emval: function (f, $) {
                    Tn(f, {
                      name: ($ = Pt($)),
                      fromWireType: function (v) {
                        var E = kn(v)
                        return us(v), E
                      },
                      toWireType: function (v, E) {
                        return Sn(E)
                      },
                      argPackAdvance: 8,
                      readValueFromPointer: Do,
                      K: null,
                    })
                  },
                  _embind_register_enum: function (f, $, v, E) {
                    function T() {}
                    ;(v = gr(v)),
                      ($ = Pt($)),
                      (T.values = {}),
                      Tn(f, {
                        name: $,
                        constructor: T,
                        fromWireType: function (R) {
                          return this.constructor.values[R]
                        },
                        toWireType: function (R, D) {
                          return D.value
                        },
                        argPackAdvance: 8,
                        readValueFromPointer: bd($, v, E),
                        K: null,
                      }),
                      ls($, T)
                  },
                  _embind_register_enum_value: function (f, $, v) {
                    var E = Po(f, "enum")
                    ;($ = Pt($)),
                      (f = E.constructor),
                      (E = Object.create(E.constructor.prototype, {
                        value: { value: v },
                        constructor: {
                          value: dr(`${E.name}_${$}`, function () {}),
                        },
                      })),
                      (f.values[v] = E),
                      (f[$] = E)
                  },
                  _embind_register_float: function (f, $, v) {
                    ;(v = gr(v)),
                      Tn(f, {
                        name: ($ = Pt($)),
                        fromWireType: function (E) {
                          return E
                        },
                        toWireType: function (E, T) {
                          return T
                        },
                        argPackAdvance: 8,
                        readValueFromPointer: xd($, v),
                        K: null,
                      })
                  },
                  _embind_register_function: function (f, $, v, E, T, R) {
                    var D = br($, v)
                    ;(f = Pt(f)),
                      (T = Zt(E, T)),
                      ls(
                        f,
                        function () {
                          jn(`Cannot call ${f} due to unbound types`, D)
                        },
                        $ - 1,
                      ),
                      pn([], D, function (W) {
                        return (
                          vi(
                            f,
                            yr(f, [W[0], null].concat(W.slice(1)), null, T, R),
                            $ - 1,
                          ),
                          []
                        )
                      })
                  },
                  _embind_register_integer: function (f, $, v, E, T) {
                    ;($ = Pt($)), T === -1 && (T = 4294967295), (T = gr(v))
                    var R = (W) => W
                    if (E === 0) {
                      var D = 32 - 8 * v
                      R = (W) => (W << D) >>> D
                    }
                    ;(v = $.includes("unsigned")
                      ? function (W, J) {
                          return J >>> 0
                        }
                      : function (W, J) {
                          return J
                        }),
                      Tn(f, {
                        name: $,
                        fromWireType: R,
                        toWireType: v,
                        argPackAdvance: 8,
                        readValueFromPointer: _d($, T, E !== 0),
                        K: null,
                      })
                  },
                  _embind_register_memory_view: function (f, $, v) {
                    function E(R) {
                      R >>= 2
                      var D = Be
                      return new T(D.buffer, D[R + 1], D[R])
                    }
                    var T = [
                      Int8Array,
                      Uint8Array,
                      Int16Array,
                      Uint16Array,
                      Int32Array,
                      Uint32Array,
                      Float32Array,
                      Float64Array,
                    ][$]
                    Tn(
                      f,
                      {
                        name: (v = Pt(v)),
                        fromWireType: E,
                        argPackAdvance: 8,
                        readValueFromPointer: E,
                      },
                      { $b: !0 },
                    )
                  },
                  _embind_register_std_string: function (f, $) {
                    var v = ($ = Pt($)) === "std::string"
                    Tn(f, {
                      name: $,
                      fromWireType: function (E) {
                        var T = Be[E >> 2],
                          R = E + 4
                        if (v)
                          for (var D = R, W = 0; W <= T; ++W) {
                            var J = R + W
                            if (W == T || se[J] == 0) {
                              if (
                                ((D = D ? sn(se, D, J - D) : ""), q === void 0)
                              )
                                var q = D
                              else (q += "\0"), (q += D)
                              D = J + 1
                            }
                          }
                        else {
                          for (q = Array(T), W = 0; W < T; ++W)
                            q[W] = String.fromCharCode(se[R + W])
                          q = q.join("")
                        }
                        return Hn(E), q
                      },
                      toWireType: function (E, T) {
                        T instanceof ArrayBuffer && (T = new Uint8Array(T))
                        var R = typeof T == "string"
                        R ||
                          T instanceof Uint8Array ||
                          T instanceof Uint8ClampedArray ||
                          T instanceof Int8Array ||
                          ot("Cannot pass non-string to std::string")
                        var D = v && R ? vn(T) : T.length,
                          W = $s(4 + D + 1),
                          J = W + 4
                        if (((Be[W >> 2] = D), v && R)) en(T, se, J, D + 1)
                        else if (R)
                          for (R = 0; R < D; ++R) {
                            var q = T.charCodeAt(R)
                            255 < q &&
                              (Hn(J),
                              ot(
                                "String has UTF-16 code units that do not fit in 8 bits",
                              )),
                              (se[J + R] = q)
                          }
                        else for (R = 0; R < D; ++R) se[J + R] = T[R]
                        return E !== null && E.push(Hn, W), W
                      },
                      argPackAdvance: 8,
                      readValueFromPointer: Do,
                      K: function (E) {
                        Hn(E)
                      },
                    })
                  },
                  _embind_register_std_wstring: function (f, $, v) {
                    if (((v = Pt(v)), $ === 2))
                      var E = Cd,
                        T = Md,
                        R = Ad,
                        D = () => tt,
                        W = 1
                    else
                      $ === 4 &&
                        ((E = kd), (T = Ed), (R = Id), (D = () => Be), (W = 2))
                    Tn(f, {
                      name: v,
                      fromWireType: function (J) {
                        for (
                          var q, _e = Be[J >> 2], Me = D(), Se = J + 4, Pe = 0;
                          Pe <= _e;
                          ++Pe
                        ) {
                          var ke = J + 4 + Pe * $
                          ;(Pe != _e && Me[ke >> W] != 0) ||
                            ((Se = E(Se, ke - Se)),
                            q === void 0 ? (q = Se) : ((q += "\0"), (q += Se)),
                            (Se = ke + $))
                        }
                        return Hn(J), q
                      },
                      toWireType: function (J, q) {
                        typeof q != "string" &&
                          ot(`Cannot pass non-string to C++ string type ${v}`)
                        var _e = R(q),
                          Me = $s(4 + _e + $)
                        return (
                          (Be[Me >> 2] = _e >> W),
                          T(q, Me + 4, _e + $),
                          J !== null && J.push(Hn, Me),
                          Me
                        )
                      },
                      argPackAdvance: 8,
                      readValueFromPointer: Do,
                      K: function (J) {
                        Hn(J)
                      },
                    })
                  },
                  _embind_register_value_object: function (f, $, v, E, T, R) {
                    $r[f] = { name: Pt($), Pa: Zt(v, E), W: Zt(T, R), eb: [] }
                  },
                  _embind_register_value_object_field: function (
                    f,
                    $,
                    v,
                    E,
                    T,
                    R,
                    D,
                    W,
                    J,
                    q,
                  ) {
                    $r[f].eb.push({
                      Sb: Pt($),
                      Yb: v,
                      Wb: Zt(E, T),
                      Xb: R,
                      rc: D,
                      qc: Zt(W, J),
                      sc: q,
                    })
                  },
                  _embind_register_void: function (f, $) {
                    Tn(f, {
                      fc: !0,
                      name: ($ = Pt($)),
                      argPackAdvance: 0,
                      fromWireType: function () {},
                      toWireType: function () {},
                    })
                  },
                  _emscripten_get_now_is_monotonic: () => !0,
                  _emval_as: function (f, $, v) {
                    ;(f = kn(f)), ($ = Po($, "emval::as"))
                    var E = [],
                      T = Sn(E)
                    return (Be[v >> 2] = T), $.toWireType(E, f)
                  },
                  _emval_call_method: function (f, $, v, E, T) {
                    ;(f = _r[f]), ($ = kn($)), (v = xr(v))
                    var R = []
                    return (Be[E >> 2] = Sn(R)), f($, v, R, T)
                  },
                  _emval_call_void_method: function (f, $, v, E) {
                    ;(f = _r[f])(($ = kn($)), (v = xr(v)), null, E)
                  },
                  _emval_decref: us,
                  _emval_get_method_caller: function (f, $) {
                    var v = (function (D, W) {
                        for (var J = Array(D), q = 0; q < D; ++q)
                          J[q] = Po(Be[(W + 4 * q) >> 2], "parameter " + q)
                        return J
                      })(f, $),
                      E = v[0]
                    $ =
                      E.name +
                      "_$" +
                      v
                        .slice(1)
                        .map(function (D) {
                          return D.name
                        })
                        .join("_") +
                      "$"
                    var T = _i[$]
                    if (T !== void 0) return T
                    var R = Array(f - 1)
                    return (
                      (T = (function (D) {
                        var W = _r.length
                        return _r.push(D), W
                      })((D, W, J, q) => {
                        for (var _e = 0, Me = 0; Me < f - 1; ++Me)
                          (R[Me] = v[Me + 1].readValueFromPointer(q + _e)),
                            (_e += v[Me + 1].argPackAdvance)
                        for (D = D[W].apply(D, R), Me = 0; Me < f - 1; ++Me)
                          v[Me + 1].Nb && v[Me + 1].Nb(R[Me])
                        if (!E.fc) return E.toWireType(J, D)
                      })),
                      (_i[$] = T)
                    )
                  },
                  _emval_get_module_property: function (f) {
                    return (f = xr(f)), Sn(h[f])
                  },
                  _emval_get_property: function (f, $) {
                    return (f = kn(f)), ($ = kn($)), Sn(f[$])
                  },
                  _emval_incref: function (f) {
                    4 < f && (wn.get(f).tb += 1)
                  },
                  _emval_new_cstring: function (f) {
                    return Sn(xr(f))
                  },
                  _emval_new_object: function () {
                    return Sn({})
                  },
                  _emval_run_destructors: function (f) {
                    Fo(kn(f)), us(f)
                  },
                  _emval_set_property: function (f, $, v) {
                    ;(f = kn(f)), ($ = kn($)), (v = kn(v)), (f[$] = v)
                  },
                  _emval_take_value: function (f, $) {
                    return (
                      (f = (f = Po(
                        f,
                        "_emval_take_value",
                      )).readValueFromPointer($)),
                      Sn(f)
                    )
                  },
                  abort: () => {
                    qe("")
                  },
                  emscripten_asm_const_int: (f, $, v) => {
                    var E
                    for (ms.length = 0, v >>= 2; (E = se[$++]); )
                      (v += (E != 105) & v),
                        ms.push(E == 105 ? Ie[v] : He[v++ >> 1]),
                        ++v
                    return yt[f].apply(null, ms)
                  },
                  emscripten_date_now: function () {
                    return Date.now()
                  },
                  emscripten_get_now: () => performance.now(),
                  emscripten_memcpy_big: (f, $, v) =>
                    se.copyWithin(f, $, $ + v),
                  emscripten_resize_heap: (f) => {
                    var $ = se.length
                    if (2147483648 < (f >>>= 0)) return !1
                    for (var v = 1; 4 >= v; v *= 2) {
                      var E = $ * (1 + 0.2 / v)
                      E = Math.min(E, f + 100663296)
                      var T = Math
                      E = Math.max(f, E)
                      e: {
                        T =
                          (T.min.call(
                            T,
                            2147483648,
                            E + ((65536 - (E % 65536)) % 65536),
                          ) -
                            ye.buffer.byteLength +
                            65535) >>>
                          16
                        try {
                          ye.grow(T), P()
                          var R = 1
                          break e
                        } catch {}
                        R = void 0
                      }
                      if (R) return !0
                    }
                    return !1
                  },
                  environ_get: (f, $) => {
                    var v = 0
                    return (
                      Ci().forEach(function (E, T) {
                        var R = $ + v
                        for (
                          T = Be[(f + 4 * T) >> 2] = R, R = 0;
                          R < E.length;
                          ++R
                        )
                          ae[0 | T++] = E.charCodeAt(R)
                        ;(ae[0 | T] = 0), (v += E.length + 1)
                      }),
                      0
                    )
                  },
                  environ_sizes_get: (f, $) => {
                    var v = Ci()
                    Be[f >> 2] = v.length
                    var E = 0
                    return (
                      v.forEach(function (T) {
                        E += T.length + 1
                      }),
                      (Be[$ >> 2] = E),
                      0
                    )
                  },
                  fd_close: function (f) {
                    try {
                      var $ = Vn(f)
                      if ($.X === null) throw new Ne(8)
                      $.Ma && ($.Ma = null)
                      try {
                        $.m.close && $.m.close($)
                      } catch (v) {
                        throw v
                      } finally {
                        sr[$.X] = null
                      }
                      return ($.X = null), 0
                    } catch (v) {
                      if (oo === void 0 || v.name !== "ErrnoError") throw v
                      return v.aa
                    }
                  },
                  fd_read: function (f, $, v, E) {
                    try {
                      e: {
                        var T = Vn(f)
                        f = $
                        for (var R, D = ($ = 0); D < v; D++) {
                          var W = Be[f >> 2],
                            J = Be[(f + 4) >> 2]
                          f += 8
                          var q = T,
                            _e = W,
                            Me = J,
                            Se = R,
                            Pe = ae
                          if (0 > Me || 0 > Se) throw new Ne(28)
                          if (q.X === null) throw new Ne(8)
                          if ((2097155 & q.flags) == 1) throw new Ne(8)
                          if ((61440 & q.node.mode) == 16384) throw new Ne(31)
                          if (!q.m.read) throw new Ne(28)
                          var ke = Se !== void 0
                          if (ke) {
                            if (!q.seekable) throw new Ne(70)
                          } else Se = q.position
                          var ve = q.m.read(q, Pe, _e, Me, Se)
                          ke || (q.position += ve)
                          var pt = ve
                          if (0 > pt) {
                            var V = -1
                            break e
                          }
                          if ((($ += pt), pt < J)) break
                          R !== void 0 && (R += pt)
                        }
                        V = $
                      }
                      return (Be[E >> 2] = V), 0
                    } catch (fe) {
                      if (oo === void 0 || fe.name !== "ErrnoError") throw fe
                      return fe.aa
                    }
                  },
                  fd_seek: function (f, $, v, E, T) {
                    $ =
                      (v + 2097152) >>> 0 < 4194305 - !!$
                        ? ($ >>> 0) + 4294967296 * v
                        : NaN
                    try {
                      if (isNaN($)) return 61
                      var R = Vn(f)
                      return (
                        ii(R, $, E),
                        (lt = [
                          R.position >>> 0,
                          ((we = R.position),
                          1 <= +Math.abs(we)
                            ? 0 < we
                              ? +Math.floor(we / 4294967296) >>> 0
                              : ~~+Math.ceil(
                                  (we - +(~~we >>> 0)) / 4294967296,
                                ) >>> 0
                            : 0),
                        ]),
                        (Ie[T >> 2] = lt[0]),
                        (Ie[(T + 4) >> 2] = lt[1]),
                        R.Ma && $ === 0 && E === 0 && (R.Ma = null),
                        0
                      )
                    } catch (D) {
                      if (oo === void 0 || D.name !== "ErrnoError") throw D
                      return D.aa
                    }
                  },
                  fd_write: function (f, $, v, E) {
                    try {
                      e: {
                        var T = Vn(f)
                        f = $
                        for (var R, D = ($ = 0); D < v; D++) {
                          var W = Be[f >> 2],
                            J = Be[(f + 4) >> 2]
                          f += 8
                          var q = T,
                            _e = W,
                            Me = J,
                            Se = R,
                            Pe = ae
                          if (0 > Me || 0 > Se) throw new Ne(28)
                          if (q.X === null) throw new Ne(8)
                          if (!(2097155 & q.flags)) throw new Ne(8)
                          if ((61440 & q.node.mode) == 16384) throw new Ne(31)
                          if (!q.m.write) throw new Ne(28)
                          q.seekable && 1024 & q.flags && ii(q, 0, 2)
                          var ke = Se !== void 0
                          if (ke) {
                            if (!q.seekable) throw new Ne(70)
                          } else Se = q.position
                          var ve = q.m.write(q, Pe, _e, Me, Se, void 0)
                          ke || (q.position += ve)
                          var pt = ve
                          if (0 > pt) {
                            var V = -1
                            break e
                          }
                          ;($ += pt), R !== void 0 && (R += pt)
                        }
                        V = $
                      }
                      return (Be[E >> 2] = V), 0
                    } catch (fe) {
                      if (oo === void 0 || fe.name !== "ErrnoError") throw fe
                      return fe.aa
                    }
                  },
                  strftime_l: (f, $, v, E) =>
                    ((T, R, D, W) => {
                      function J(V, fe, Ye) {
                        for (
                          V = typeof V == "number" ? V.toString() : V || "";
                          V.length < fe;

                        )
                          V = Ye[0] + V
                        return V
                      }
                      function q(V, fe) {
                        return J(V, fe, "0")
                      }
                      function _e(V, fe) {
                        function Ye($n) {
                          return 0 > $n ? -1 : 0 < $n ? 1 : 0
                        }
                        var It
                        return (
                          (It = Ye(V.getFullYear() - fe.getFullYear())) === 0 &&
                            (It = Ye(V.getMonth() - fe.getMonth())) === 0 &&
                            (It = Ye(V.getDate() - fe.getDate())),
                          It
                        )
                      }
                      function Me(V) {
                        switch (V.getDay()) {
                          case 0:
                            return new Date(V.getFullYear() - 1, 11, 29)
                          case 1:
                            return V
                          case 2:
                            return new Date(V.getFullYear(), 0, 3)
                          case 3:
                            return new Date(V.getFullYear(), 0, 2)
                          case 4:
                            return new Date(V.getFullYear(), 0, 1)
                          case 5:
                            return new Date(V.getFullYear() - 1, 11, 31)
                          case 6:
                            return new Date(V.getFullYear() - 1, 11, 30)
                        }
                      }
                      function Se(V) {
                        var fe = V.ca
                        for (
                          V = new Date(new Date(V.da + 1900, 0, 1).getTime());
                          0 < fe;

                        ) {
                          var Ye = V.getMonth(),
                            It = (Cr(V.getFullYear()) ? Mi : Ai)[Ye]
                          if (!(fe > It - V.getDate())) {
                            V.setDate(V.getDate() + fe)
                            break
                          }
                          ;(fe -= It - V.getDate() + 1),
                            V.setDate(1),
                            11 > Ye
                              ? V.setMonth(Ye + 1)
                              : (V.setMonth(0),
                                V.setFullYear(V.getFullYear() + 1))
                        }
                        return (
                          (Ye = new Date(V.getFullYear() + 1, 0, 4)),
                          (fe = Me(new Date(V.getFullYear(), 0, 4))),
                          (Ye = Me(Ye)),
                          0 >= _e(fe, V)
                            ? 0 >= _e(Ye, V)
                              ? V.getFullYear() + 1
                              : V.getFullYear()
                            : V.getFullYear() - 1
                        )
                      }
                      var Pe = Ie[(W + 40) >> 2]
                      for (var ke in ((W = {
                        wc: Ie[W >> 2],
                        vc: Ie[(W + 4) >> 2],
                        Fa: Ie[(W + 8) >> 2],
                        Sa: Ie[(W + 12) >> 2],
                        Ga: Ie[(W + 16) >> 2],
                        da: Ie[(W + 20) >> 2],
                        R: Ie[(W + 24) >> 2],
                        ca: Ie[(W + 28) >> 2],
                        Rc: Ie[(W + 32) >> 2],
                        uc: Ie[(W + 36) >> 2],
                        xc: Pe && Pe ? sn(se, Pe) : "",
                      }),
                      (D = D ? sn(se, D) : ""),
                      (Pe = {
                        "%c": "%a %b %d %H:%M:%S %Y",
                        "%D": "%m/%d/%y",
                        "%F": "%Y-%m-%d",
                        "%h": "%b",
                        "%r": "%I:%M:%S %p",
                        "%R": "%H:%M",
                        "%T": "%H:%M:%S",
                        "%x": "%m/%d/%y",
                        "%X": "%H:%M:%S",
                        "%Ec": "%c",
                        "%EC": "%C",
                        "%Ex": "%m/%d/%y",
                        "%EX": "%H:%M:%S",
                        "%Ey": "%y",
                        "%EY": "%Y",
                        "%Od": "%d",
                        "%Oe": "%e",
                        "%OH": "%H",
                        "%OI": "%I",
                        "%Om": "%m",
                        "%OM": "%M",
                        "%OS": "%S",
                        "%Ou": "%u",
                        "%OU": "%U",
                        "%OV": "%V",
                        "%Ow": "%w",
                        "%OW": "%W",
                        "%Oy": "%y",
                      })))
                        D = D.replace(new RegExp(ke, "g"), Pe[ke])
                      var ve =
                          "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(
                            " ",
                          ),
                        pt =
                          "January February March April May June July August September October November December".split(
                            " ",
                          )
                      for (ke in ((Pe = {
                        "%a": (V) => ve[V.R].substring(0, 3),
                        "%A": (V) => ve[V.R],
                        "%b": (V) => pt[V.Ga].substring(0, 3),
                        "%B": (V) => pt[V.Ga],
                        "%C": (V) => q(((V.da + 1900) / 100) | 0, 2),
                        "%d": (V) => q(V.Sa, 2),
                        "%e": (V) => J(V.Sa, 2, " "),
                        "%g": (V) => Se(V).toString().substring(2),
                        "%G": (V) => Se(V),
                        "%H": (V) => q(V.Fa, 2),
                        "%I": (V) => (
                          (V = V.Fa) == 0 ? (V = 12) : 12 < V && (V -= 12),
                          q(V, 2)
                        ),
                        "%j": (V) => {
                          for (
                            var fe = 0, Ye = 0;
                            Ye <= V.Ga - 1;
                            fe += (Cr(V.da + 1900) ? Mi : Ai)[Ye++]
                          );
                          return q(V.Sa + fe, 3)
                        },
                        "%m": (V) => q(V.Ga + 1, 2),
                        "%M": (V) => q(V.vc, 2),
                        "%n": () => `
`,
                        "%p": (V) => (0 <= V.Fa && 12 > V.Fa ? "AM" : "PM"),
                        "%S": (V) => q(V.wc, 2),
                        "%t": () => "	",
                        "%u": (V) => V.R || 7,
                        "%U": (V) => q(Math.floor((V.ca + 7 - V.R) / 7), 2),
                        "%V": (V) => {
                          var fe = Math.floor((V.ca + 7 - ((V.R + 6) % 7)) / 7)
                          if ((2 >= (V.R + 371 - V.ca - 2) % 7 && fe++, fe))
                            fe == 53 &&
                              ((Ye = (V.R + 371 - V.ca) % 7) == 4 ||
                                (Ye == 3 && Cr(V.da)) ||
                                (fe = 1))
                          else {
                            fe = 52
                            var Ye = (V.R + 7 - V.ca - 1) % 7
                            ;(Ye == 4 || (Ye == 5 && Cr((V.da % 400) - 1))) &&
                              fe++
                          }
                          return q(fe, 2)
                        },
                        "%w": (V) => V.R,
                        "%W": (V) =>
                          q(Math.floor((V.ca + 7 - ((V.R + 6) % 7)) / 7), 2),
                        "%y": (V) => (V.da + 1900).toString().substring(2),
                        "%Y": (V) => V.da + 1900,
                        "%z": (V) => {
                          var fe = 0 <= (V = V.uc)
                          return (
                            (V = Math.abs(V) / 60),
                            (fe ? "+" : "-") +
                              ("0000" + ((V / 60) * 100 + (V % 60))).slice(-4)
                          )
                        },
                        "%Z": (V) => V.xc,
                        "%%": () => "%",
                      }),
                      (D = D.replace(/%%/g, "\0\0")),
                      Pe))
                        D.includes(ke) &&
                          (D = D.replace(new RegExp(ke, "g"), Pe[ke](W)))
                      return (ke = an((D = D.replace(/\0\0/g, "%")), !1))
                        .length > R
                        ? 0
                        : (ae.set(ke, T), ke.length - 1)
                    })(f, $, v, E),
                }
                ;(function () {
                  function f(v) {
                    if (
                      ((ge = v = v.exports),
                      (ye = ge.memory),
                      P(),
                      (_ = ge.__indirect_function_table),
                      U.unshift(ge.__wasm_call_ctors),
                      Re--,
                      h.monitorRunDependencies && h.monitorRunDependencies(Re),
                      Re == 0 && We)
                    ) {
                      var E = We
                      ;(We = null), E()
                    }
                    return v
                  }
                  var $ = { env: Ii, wasi_snapshot_preview1: Ii }
                  if (
                    (Re++,
                    h.monitorRunDependencies && h.monitorRunDependencies(Re),
                    h.instantiateWasm)
                  )
                    try {
                      return h.instantiateWasm($, f)
                    } catch (v) {
                      Q(
                        "Module.instantiateWasm callback failed with error: " +
                          v,
                      ),
                        g(v)
                    }
                  ;(function (v, E) {
                    var T = me
                    return be ||
                      typeof WebAssembly.instantiateStreaming != "function" ||
                      De(T) ||
                      T.startsWith("file://") ||
                      typeof fetch != "function"
                      ? Ae(T, v, E)
                      : fetch(T, { credentials: "same-origin" }).then((R) =>
                          WebAssembly.instantiateStreaming(R, v).then(
                            E,
                            function (D) {
                              return (
                                Q("wasm streaming compile failed: " + D),
                                Q("falling back to ArrayBuffer instantiation"),
                                Ae(T, v, E)
                              )
                            },
                          ),
                        )
                  })($, function (v) {
                    f(v.instance)
                  }).catch(g)
                })()
                var Hn = (f) => (Hn = ge.free)(f),
                  $s = (f) => ($s = ge.malloc)(f),
                  Si = (h._ma_device__on_notification_unlocked = (f) =>
                    (Si = h._ma_device__on_notification_unlocked =
                      ge.ma_device__on_notification_unlocked)(f))
                ;(h._ma_malloc_emscripten = (f, $) =>
                  (h._ma_malloc_emscripten = ge.ma_malloc_emscripten)(f, $)),
                  (h._ma_free_emscripten = (f, $) =>
                    (h._ma_free_emscripten = ge.ma_free_emscripten)(f, $))
                var Ar,
                  Ti = (h._ma_device_process_pcm_frames_capture__webaudio = (
                    f,
                    $,
                    v,
                  ) =>
                    (Ti = h._ma_device_process_pcm_frames_capture__webaudio =
                      ge.ma_device_process_pcm_frames_capture__webaudio)(
                      f,
                      $,
                      v,
                    )),
                  Li = (h._ma_device_process_pcm_frames_playback__webaudio = (
                    f,
                    $,
                    v,
                  ) =>
                    (Li = h._ma_device_process_pcm_frames_playback__webaudio =
                      ge.ma_device_process_pcm_frames_playback__webaudio)(
                      f,
                      $,
                      v,
                    )),
                  Ri = () => (Ri = ge.__errno_location)(),
                  Pi = (f) => (Pi = ge.__getTypeName)(f)
                function Ni() {
                  function f() {
                    if (!Ar && ((Ar = !0), (h.calledRun = !0), !Rt)) {
                      if (
                        (h.noFSInit ||
                          Ks ||
                          ((Ks = !0),
                          ai(),
                          (h.stdin = h.stdin),
                          (h.stdout = h.stdout),
                          (h.stderr = h.stderr),
                          h.stdin
                            ? To("stdin", h.stdin)
                            : os("/dev/tty", "/dev/stdin"),
                          h.stdout
                            ? To("stdout", null, h.stdout)
                            : os("/dev/tty", "/dev/stdout"),
                          h.stderr
                            ? To("stderr", null, h.stderr)
                            : os("/dev/tty1", "/dev/stderr"),
                          lr("/dev/stdin", 0),
                          lr("/dev/stdout", 1),
                          lr("/dev/stderr", 1)),
                        (Js = !1),
                        nn(U),
                        p(h),
                        h.onRuntimeInitialized && h.onRuntimeInitialized(),
                        h.postRun)
                      )
                        for (
                          typeof h.postRun == "function" &&
                          (h.postRun = [h.postRun]);
                          h.postRun.length;

                        ) {
                          var $ = h.postRun.shift()
                          G.unshift($)
                        }
                      nn(G)
                    }
                  }
                  if (!(0 < Re)) {
                    if (h.preRun)
                      for (
                        typeof h.preRun == "function" &&
                        (h.preRun = [h.preRun]);
                        h.preRun.length;

                      )
                        ce()
                    nn(L),
                      0 < Re ||
                        (h.setStatus
                          ? (h.setStatus("Running..."),
                            setTimeout(function () {
                              setTimeout(function () {
                                h.setStatus("")
                              }, 1),
                                f()
                            }, 1))
                          : f())
                  }
                }
                if (
                  ((h.__embind_initialize_bindings = () =>
                    (h.__embind_initialize_bindings =
                      ge._embind_initialize_bindings)()),
                  (h.dynCall_iiji = (f, $, v, E, T) =>
                    (h.dynCall_iiji = ge.dynCall_iiji)(f, $, v, E, T)),
                  (h.dynCall_jiji = (f, $, v, E, T) =>
                    (h.dynCall_jiji = ge.dynCall_jiji)(f, $, v, E, T)),
                  (h.dynCall_iiiji = (f, $, v, E, T, R) =>
                    (h.dynCall_iiiji = ge.dynCall_iiiji)(f, $, v, E, T, R)),
                  (h.dynCall_iij = (f, $, v, E) =>
                    (h.dynCall_iij = ge.dynCall_iij)(f, $, v, E)),
                  (h.dynCall_jii = (f, $, v) =>
                    (h.dynCall_jii = ge.dynCall_jii)(f, $, v)),
                  (h.dynCall_viijii = (f, $, v, E, T, R, D) =>
                    (h.dynCall_viijii = ge.dynCall_viijii)(
                      f,
                      $,
                      v,
                      E,
                      T,
                      R,
                      D,
                    )),
                  (h.dynCall_iiiiij = (f, $, v, E, T, R, D) =>
                    (h.dynCall_iiiiij = ge.dynCall_iiiiij)(
                      f,
                      $,
                      v,
                      E,
                      T,
                      R,
                      D,
                    )),
                  (h.dynCall_iiiiijj = (f, $, v, E, T, R, D, W, J) =>
                    (h.dynCall_iiiiijj = ge.dynCall_iiiiijj)(
                      f,
                      $,
                      v,
                      E,
                      T,
                      R,
                      D,
                      W,
                      J,
                    )),
                  (h.dynCall_iiiiiijj = (f, $, v, E, T, R, D, W, J, q) =>
                    (h.dynCall_iiiiiijj = ge.dynCall_iiiiiijj)(
                      f,
                      $,
                      v,
                      E,
                      T,
                      R,
                      D,
                      W,
                      J,
                      q,
                    )),
                  (We = function f() {
                    Ar || Ni(), Ar || (We = f)
                  }),
                  h.preInit)
                )
                  for (
                    typeof h.preInit == "function" && (h.preInit = [h.preInit]);
                    0 < h.preInit.length;

                  )
                    h.preInit.pop()()
                return Ni(), u.ready
              })
          const l = a
        },
        (o) => {
          o.exports = JSON.parse(
            `{"name":"@rive-app/canvas","version":"2.26.4","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`,
          )
        },
        (o, r, i) => {
          i.r(r), i.d(r, { Animation: () => c.Animation })
          var c = i(4)
        },
        (o, r, i) => {
          i.r(r), i.d(r, { Animation: () => c })
          var c = (function () {
            function a(l, u, p, g) {
              ;(this.animation = l),
                (this.artboard = u),
                (this.playing = g),
                (this.loopCount = 0),
                (this.scrubTo = null),
                (this.instance = new p.LinearAnimationInstance(l, u))
            }
            return (
              Object.defineProperty(a.prototype, "name", {
                get: function () {
                  return this.animation.name
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(a.prototype, "time", {
                get: function () {
                  return this.instance.time
                },
                set: function (l) {
                  this.instance.time = l
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(a.prototype, "loopValue", {
                get: function () {
                  return this.animation.loopValue
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(a.prototype, "needsScrub", {
                get: function () {
                  return this.scrubTo !== null
                },
                enumerable: !1,
                configurable: !0,
              }),
              (a.prototype.advance = function (l) {
                this.scrubTo === null
                  ? this.instance.advance(l)
                  : ((this.instance.time = 0),
                    this.instance.advance(this.scrubTo),
                    (this.scrubTo = null))
              }),
              (a.prototype.apply = function (l) {
                this.instance.apply(l)
              }),
              (a.prototype.cleanup = function () {
                this.instance.delete()
              }),
              a
            )
          })()
        },
        (o, r, i) => {
          i.r(r),
            i.d(r, {
              BLANK_URL: () => a.BLANK_URL,
              registerTouchInteractions: () => c.registerTouchInteractions,
              sanitizeUrl: () => a.sanitizeUrl,
            })
          var c = i(6),
            a = i(7)
        },
        (o, r, i) => {
          i.r(r), i.d(r, { registerTouchInteractions: () => c })
          var c = function (a) {
            var l = a.canvas,
              u = a.artboard,
              p = a.stateMachines,
              g = p === void 0 ? [] : p,
              h = a.renderer,
              k = a.rive,
              I = a.fit,
              C = a.alignment,
              S = a.isTouchScrollEnabled,
              H = S !== void 0 && S,
              O = a.layoutScaleFactor,
              z = O === void 0 ? 1 : O
            if (!(l && g.length && h && k && u && typeof window < "u"))
              return null
            var $e = null,
              pe = !1,
              re = function (le) {
                if (pe && le instanceof MouseEvent)
                  le.type == "mouseup" && (pe = !1)
                else {
                  ;(pe = H && le.type === "touchend" && $e === "touchstart"),
                    ($e = le.type)
                  var ue = le.currentTarget.getBoundingClientRect(),
                    Ee = (function (G, ce) {
                      var me, Re
                      return ["touchstart", "touchmove"].indexOf(G.type) > -1 &&
                        !((me = G.touches) === null || me === void 0) &&
                        me.length
                        ? (ce || G.preventDefault(),
                          {
                            clientX: G.touches[0].clientX,
                            clientY: G.touches[0].clientY,
                          })
                        : G.type === "touchend" &&
                            !(
                              (Re = G.changedTouches) === null || Re === void 0
                            ) &&
                            Re.length
                          ? {
                              clientX: G.changedTouches[0].clientX,
                              clientY: G.changedTouches[0].clientY,
                            }
                          : { clientX: G.clientX, clientY: G.clientY }
                    })(le, H),
                    be = Ee.clientX,
                    ee = Ee.clientY
                  if (be || ee) {
                    var Q = be - ue.left,
                      ye = ee - ue.top,
                      ge = k.computeAlignment(
                        I,
                        C,
                        { minX: 0, minY: 0, maxX: ue.width, maxY: ue.height },
                        u.bounds,
                        z,
                      ),
                      ae = new k.Mat2D()
                    ge.invert(ae)
                    var se = new k.Vec2D(Q, ye),
                      xe = k.mapXY(ae, se),
                      tt = xe.x(),
                      Ie = xe.y()
                    switch (
                      (xe.delete(),
                      ae.delete(),
                      se.delete(),
                      ge.delete(),
                      le.type)
                    ) {
                      case "mouseout":
                        for (var Be = 0, rt = g; Be < rt.length; Be++)
                          rt[Be].pointerMove(tt, Ie)
                        break
                      case "touchmove":
                      case "mouseover":
                      case "mousemove":
                        for (var He = 0, Rt = g; He < Rt.length; He++)
                          Rt[He].pointerMove(tt, Ie)
                        break
                      case "touchstart":
                      case "mousedown":
                        for (var P = 0, _ = g; P < _.length; P++)
                          _[P].pointerDown(tt, Ie)
                        break
                      case "touchend":
                      case "mouseup":
                        for (var L = 0, U = g; L < U.length; L++)
                          U[L].pointerUp(tt, Ie)
                    }
                  }
                }
              }.bind(void 0)
            return (
              l.addEventListener("mouseover", re),
              l.addEventListener("mouseout", re),
              l.addEventListener("mousemove", re),
              l.addEventListener("mousedown", re),
              l.addEventListener("mouseup", re),
              l.addEventListener("touchmove", re, { passive: H }),
              l.addEventListener("touchstart", re, { passive: H }),
              l.addEventListener("touchend", re),
              function () {
                l.removeEventListener("mouseover", re),
                  l.removeEventListener("mouseout", re),
                  l.removeEventListener("mousemove", re),
                  l.removeEventListener("mousedown", re),
                  l.removeEventListener("mouseup", re),
                  l.removeEventListener("touchmove", re),
                  l.removeEventListener("touchstart", re),
                  l.removeEventListener("touchend", re)
              }
            )
          }
        },
        (o, r, i) => {
          i.r(r), i.d(r, { BLANK_URL: () => h, sanitizeUrl: () => k })
          var c = /^([^\w]*)(javascript|data|vbscript)/im,
            a = /&#(\w+)(^\w|;)?/g,
            l = /&(newline|tab);/gi,
            u = /[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,
            p = /^.+(:|&colon;)/gim,
            g = [".", "/"],
            h = "about:blank"
          function k(I) {
            if (!I) return h
            var C,
              S = ((C = I),
              C.replace(u, "").replace(a, function (z, $e) {
                return String.fromCharCode($e)
              }))
                .replace(l, "")
                .replace(u, "")
                .trim()
            if (!S) return h
            if (
              (function (z) {
                return g.indexOf(z[0]) > -1
              })(S)
            )
              return S
            var H = S.match(p)
            if (!H) return S
            var O = H[0]
            return c.test(O) ? h : S
          }
        },
      ],
      e = {}
    function n(o) {
      var r = e[o]
      if (r !== void 0) return r.exports
      var i = (e[o] = { exports: {} })
      return s[o](i, i.exports, n), i.exports
    }
    ;(n.d = (o, r) => {
      for (var i in r)
        n.o(r, i) &&
          !n.o(o, i) &&
          Object.defineProperty(o, i, { enumerable: !0, get: r[i] })
    }),
      (n.o = (o, r) => Object.prototype.hasOwnProperty.call(o, r)),
      (n.r = (o) => {
        typeof Symbol < "u" &&
          Symbol.toStringTag &&
          Object.defineProperty(o, Symbol.toStringTag, { value: "Module" }),
          Object.defineProperty(o, "__esModule", { value: !0 })
      })
    var t = {}
    return (
      (() => {
        n.r(t),
          n.d(t, {
            Alignment: () => i,
            EventType: () => z,
            Fit: () => r,
            Layout: () => C,
            LoopType: () => $e,
            Rive: () => xe,
            RiveEventType: () => H,
            RiveFile: () => se,
            RuntimeLoader: () => S,
            StateMachineInput: () => O,
            StateMachineInputType: () => I,
            Testing: () => Be,
            decodeAudio: () => rt,
            decodeFont: () => Rt,
            decodeImage: () => He,
          })
        var o,
          r,
          i,
          c = n(1),
          a = n(2),
          l = n(3),
          u = n(5),
          p =
            ((o = function (P, _) {
              return (
                (o =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (L, U) {
                      L.__proto__ = U
                    }) ||
                  function (L, U) {
                    for (var G in U)
                      Object.prototype.hasOwnProperty.call(U, G) &&
                        (L[G] = U[G])
                  }),
                o(P, _)
              )
            }),
            function (P, _) {
              if (typeof _ != "function" && _ !== null)
                throw new TypeError(
                  "Class extends value " +
                    String(_) +
                    " is not a constructor or null",
                )
              function L() {
                this.constructor = P
              }
              o(P, _),
                (P.prototype =
                  _ === null
                    ? Object.create(_)
                    : ((L.prototype = _.prototype), new L()))
            }),
          g = function (P, _, L, U) {
            return new (L || (L = Promise))(function (G, ce) {
              function me(qe) {
                try {
                  We(U.next(qe))
                } catch (De) {
                  ce(De)
                }
              }
              function Re(qe) {
                try {
                  We(U.throw(qe))
                } catch (De) {
                  ce(De)
                }
              }
              function We(qe) {
                var De
                qe.done
                  ? G(qe.value)
                  : ((De = qe.value),
                    De instanceof L
                      ? De
                      : new L(function (Ce) {
                          Ce(De)
                        })).then(me, Re)
              }
              We((U = U.apply(P, _ || [])).next())
            })
          },
          h = function (P, _) {
            var L,
              U,
              G,
              ce = {
                label: 0,
                sent: function () {
                  if (1 & G[0]) throw G[1]
                  return G[1]
                },
                trys: [],
                ops: [],
              },
              me = Object.create(
                (typeof Iterator == "function" ? Iterator : Object).prototype,
              )
            return (
              (me.next = Re(0)),
              (me.throw = Re(1)),
              (me.return = Re(2)),
              typeof Symbol == "function" &&
                (me[Symbol.iterator] = function () {
                  return this
                }),
              me
            )
            function Re(We) {
              return function (qe) {
                return (function (De) {
                  if (L) throw new TypeError("Generator is already executing.")
                  for (; me && ((me = 0), De[0] && (ce = 0)), ce; )
                    try {
                      if (
                        ((L = 1),
                        U &&
                          (G =
                            2 & De[0]
                              ? U.return
                              : De[0]
                                ? U.throw || ((G = U.return) && G.call(U), 0)
                                : U.next) &&
                          !(G = G.call(U, De[1])).done)
                      )
                        return G
                      switch (
                        ((U = 0), G && (De = [2 & De[0], G.value]), De[0])
                      ) {
                        case 0:
                        case 1:
                          G = De
                          break
                        case 4:
                          return ce.label++, { value: De[1], done: !1 }
                        case 5:
                          ce.label++, (U = De[1]), (De = [0])
                          continue
                        case 7:
                          ;(De = ce.ops.pop()), ce.trys.pop()
                          continue
                        default:
                          if (
                            !(
                              (G =
                                (G = ce.trys).length > 0 && G[G.length - 1]) ||
                              (De[0] !== 6 && De[0] !== 2)
                            )
                          ) {
                            ce = 0
                            continue
                          }
                          if (
                            De[0] === 3 &&
                            (!G || (De[1] > G[0] && De[1] < G[3]))
                          ) {
                            ce.label = De[1]
                            break
                          }
                          if (De[0] === 6 && ce.label < G[1]) {
                            ;(ce.label = G[1]), (G = De)
                            break
                          }
                          if (G && ce.label < G[2]) {
                            ;(ce.label = G[2]), ce.ops.push(De)
                            break
                          }
                          G[2] && ce.ops.pop(), ce.trys.pop()
                          continue
                      }
                      De = _.call(P, ce)
                    } catch (Ce) {
                      ;(De = [6, Ce]), (U = 0)
                    } finally {
                      L = G = 0
                    }
                  if (5 & De[0]) throw De[1]
                  return { value: De[0] ? De[1] : void 0, done: !0 }
                })([We, qe])
              }
            }
          },
          k = (function (P) {
            function _() {
              var L = (P !== null && P.apply(this, arguments)) || this
              return (L.isHandledError = !0), L
            }
            return p(_, P), _
          })(Error)
        ;(function (P) {
          ;(P.Cover = "cover"),
            (P.Contain = "contain"),
            (P.Fill = "fill"),
            (P.FitWidth = "fitWidth"),
            (P.FitHeight = "fitHeight"),
            (P.None = "none"),
            (P.ScaleDown = "scaleDown"),
            (P.Layout = "layout")
        })(r || (r = {})),
          (function (P) {
            ;(P.Center = "center"),
              (P.TopLeft = "topLeft"),
              (P.TopCenter = "topCenter"),
              (P.TopRight = "topRight"),
              (P.CenterLeft = "centerLeft"),
              (P.CenterRight = "centerRight"),
              (P.BottomLeft = "bottomLeft"),
              (P.BottomCenter = "bottomCenter"),
              (P.BottomRight = "bottomRight")
          })(i || (i = {}))
        var I,
          C = (function () {
            function P(_) {
              var L, U, G, ce, me, Re, We
              ;(this.fit =
                (L = _ == null ? void 0 : _.fit) !== null && L !== void 0
                  ? L
                  : r.Contain),
                (this.alignment =
                  (U = _ == null ? void 0 : _.alignment) !== null &&
                  U !== void 0
                    ? U
                    : i.Center),
                (this.layoutScaleFactor =
                  (G = _ == null ? void 0 : _.layoutScaleFactor) !== null &&
                  G !== void 0
                    ? G
                    : 1),
                (this.minX =
                  (ce = _ == null ? void 0 : _.minX) !== null && ce !== void 0
                    ? ce
                    : 0),
                (this.minY =
                  (me = _ == null ? void 0 : _.minY) !== null && me !== void 0
                    ? me
                    : 0),
                (this.maxX =
                  (Re = _ == null ? void 0 : _.maxX) !== null && Re !== void 0
                    ? Re
                    : 0),
                (this.maxY =
                  (We = _ == null ? void 0 : _.maxY) !== null && We !== void 0
                    ? We
                    : 0)
            }
            return (
              (P.new = function (_) {
                var L = _.fit,
                  U = _.alignment,
                  G = _.minX,
                  ce = _.minY,
                  me = _.maxX,
                  Re = _.maxY
                return (
                  console.warn(
                    "This function is deprecated: please use `new Layout({})` instead",
                  ),
                  new P({
                    fit: L,
                    alignment: U,
                    minX: G,
                    minY: ce,
                    maxX: me,
                    maxY: Re,
                  })
                )
              }),
              (P.prototype.copyWith = function (_) {
                var L = _.fit,
                  U = _.alignment,
                  G = _.layoutScaleFactor,
                  ce = _.minX,
                  me = _.minY,
                  Re = _.maxX,
                  We = _.maxY
                return new P({
                  fit: L ?? this.fit,
                  alignment: U ?? this.alignment,
                  layoutScaleFactor: G ?? this.layoutScaleFactor,
                  minX: ce ?? this.minX,
                  minY: me ?? this.minY,
                  maxX: Re ?? this.maxX,
                  maxY: We ?? this.maxY,
                })
              }),
              (P.prototype.runtimeFit = function (_) {
                return this.cachedRuntimeFit
                  ? this.cachedRuntimeFit
                  : ((L =
                      this.fit === r.Cover
                        ? _.Fit.cover
                        : this.fit === r.Contain
                          ? _.Fit.contain
                          : this.fit === r.Fill
                            ? _.Fit.fill
                            : this.fit === r.FitWidth
                              ? _.Fit.fitWidth
                              : this.fit === r.FitHeight
                                ? _.Fit.fitHeight
                                : this.fit === r.ScaleDown
                                  ? _.Fit.scaleDown
                                  : this.fit === r.Layout
                                    ? _.Fit.layout
                                    : _.Fit.none),
                    (this.cachedRuntimeFit = L),
                    L)
                var L
              }),
              (P.prototype.runtimeAlignment = function (_) {
                return this.cachedRuntimeAlignment
                  ? this.cachedRuntimeAlignment
                  : ((L =
                      this.alignment === i.TopLeft
                        ? _.Alignment.topLeft
                        : this.alignment === i.TopCenter
                          ? _.Alignment.topCenter
                          : this.alignment === i.TopRight
                            ? _.Alignment.topRight
                            : this.alignment === i.CenterLeft
                              ? _.Alignment.centerLeft
                              : this.alignment === i.CenterRight
                                ? _.Alignment.centerRight
                                : this.alignment === i.BottomLeft
                                  ? _.Alignment.bottomLeft
                                  : this.alignment === i.BottomCenter
                                    ? _.Alignment.bottomCenter
                                    : this.alignment === i.BottomRight
                                      ? _.Alignment.bottomRight
                                      : _.Alignment.center),
                    (this.cachedRuntimeAlignment = L),
                    L)
                var L
              }),
              P
            )
          })(),
          S = (function () {
            function P() {}
            return (
              (P.loadRuntime = function () {
                c.default({
                  locateFile: function () {
                    return P.wasmURL
                  },
                })
                  .then(function (_) {
                    var L
                    for (P.runtime = _; P.callBackQueue.length > 0; )
                      (L = P.callBackQueue.shift()) === null ||
                        L === void 0 ||
                        L(P.runtime)
                  })
                  .catch(function (_) {
                    var L = {
                      message:
                        (_ == null ? void 0 : _.message) || "Unknown error",
                      type: (_ == null ? void 0 : _.name) || "Error",
                      wasmError:
                        _ instanceof WebAssembly.CompileError ||
                        _ instanceof WebAssembly.RuntimeError,
                      originalError: _,
                    }
                    console.debug("Rive WASM load error details:", L)
                    var U = "https://cdn.jsdelivr.net/npm/"
                      .concat(a.name, "@")
                      .concat(a.version, "/rive_fallback.wasm")
                    if (P.wasmURL.toLowerCase() !== U)
                      console.warn(
                        "Failed to load WASM from "
                          .concat(P.wasmURL, " (")
                          .concat(L.message, "), trying jsdelivr as a backup"),
                      ),
                        P.setWasmUrl(U),
                        P.loadRuntime()
                    else {
                      var G = [
                        "Could not load Rive WASM file from "
                          .concat(P.wasmURL, " or ")
                          .concat(U, "."),
                        "Possible reasons:",
                        "- Network connection is down",
                        "- WebAssembly is not supported in this environment",
                        "- The WASM file is corrupted or incompatible",
                        `
Error details:`,
                        "- Type: ".concat(L.type),
                        "- Message: ".concat(L.message),
                        "- WebAssembly-specific error: ".concat(L.wasmError),
                        `
To resolve, you may need to:`,
                        "1. Check your network connection",
                        "2. Set a new WASM source via RuntimeLoader.setWasmUrl()",
                        "3. Call RuntimeLoader.loadRuntime() again",
                      ].join(`
`)
                      console.error(G)
                    }
                  })
              }),
              (P.getInstance = function (_) {
                P.isLoading || ((P.isLoading = !0), P.loadRuntime()),
                  P.runtime ? _(P.runtime) : P.callBackQueue.push(_)
              }),
              (P.awaitInstance = function () {
                return new Promise(function (_) {
                  return P.getInstance(function (L) {
                    return _(L)
                  })
                })
              }),
              (P.setWasmUrl = function (_) {
                P.wasmURL = _
              }),
              (P.getWasmUrl = function () {
                return P.wasmURL
              }),
              (P.isLoading = !1),
              (P.callBackQueue = []),
              (P.wasmURL = "https://unpkg.com/"
                .concat(a.name, "@")
                .concat(a.version, "/rive.wasm")),
              P
            )
          })()
        ;(function (P) {
          ;(P[(P.Number = 56)] = "Number"),
            (P[(P.Trigger = 58)] = "Trigger"),
            (P[(P.Boolean = 59)] = "Boolean")
        })(I || (I = {}))
        var H,
          O = (function () {
            function P(_, L) {
              ;(this.type = _), (this.runtimeInput = L)
            }
            return (
              Object.defineProperty(P.prototype, "name", {
                get: function () {
                  return this.runtimeInput.name
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "value", {
                get: function () {
                  return this.runtimeInput.value
                },
                set: function (_) {
                  this.runtimeInput.value = _
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.fire = function () {
                this.type === I.Trigger && this.runtimeInput.fire()
              }),
              (P.prototype.delete = function () {
                this.runtimeInput = null
              }),
              P
            )
          })()
        ;(function (P) {
          ;(P[(P.General = 128)] = "General"),
            (P[(P.OpenUrl = 131)] = "OpenUrl")
        })(H || (H = {}))
        var z,
          $e,
          pe = (function () {
            function P(_, L, U, G) {
              ;(this.stateMachine = _),
                (this.playing = U),
                (this.artboard = G),
                (this.inputs = []),
                (this.instance = new L.StateMachineInstance(_, G)),
                this.initInputs(L)
            }
            return (
              Object.defineProperty(P.prototype, "name", {
                get: function () {
                  return this.stateMachine.name
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "statesChanged", {
                get: function () {
                  for (
                    var _ = [], L = 0;
                    L < this.instance.stateChangedCount();
                    L++
                  )
                    _.push(this.instance.stateChangedNameByIndex(L))
                  return _
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.advance = function (_) {
                this.instance.advance(_)
              }),
              (P.prototype.advanceAndApply = function (_) {
                this.instance.advanceAndApply(_)
              }),
              (P.prototype.reportedEventCount = function () {
                return this.instance.reportedEventCount()
              }),
              (P.prototype.reportedEventAt = function (_) {
                return this.instance.reportedEventAt(_)
              }),
              (P.prototype.initInputs = function (_) {
                for (var L = 0; L < this.instance.inputCount(); L++) {
                  var U = this.instance.input(L)
                  this.inputs.push(this.mapRuntimeInput(U, _))
                }
              }),
              (P.prototype.mapRuntimeInput = function (_, L) {
                return _.type === L.SMIInput.bool
                  ? new O(I.Boolean, _.asBool())
                  : _.type === L.SMIInput.number
                    ? new O(I.Number, _.asNumber())
                    : _.type === L.SMIInput.trigger
                      ? new O(I.Trigger, _.asTrigger())
                      : void 0
              }),
              (P.prototype.cleanup = function () {
                this.inputs.forEach(function (_) {
                  _.delete()
                }),
                  (this.inputs.length = 0),
                  this.instance.delete()
              }),
              P
            )
          })(),
          re = (function () {
            function P(_, L, U, G, ce) {
              G === void 0 && (G = []),
                ce === void 0 && (ce = []),
                (this.runtime = _),
                (this.artboard = L),
                (this.eventManager = U),
                (this.animations = G),
                (this.stateMachines = ce)
            }
            return (
              (P.prototype.add = function (_, L, U) {
                if ((U === void 0 && (U = !0), (_ = Ie(_)).length === 0))
                  this.animations.forEach(function (Ae) {
                    return (Ae.playing = L)
                  }),
                    this.stateMachines.forEach(function (Ae) {
                      return (Ae.playing = L)
                    })
                else
                  for (
                    var G = this.animations.map(function (Ae) {
                        return Ae.name
                      }),
                      ce = this.stateMachines.map(function (Ae) {
                        return Ae.name
                      }),
                      me = 0;
                    me < _.length;
                    me++
                  ) {
                    var Re = G.indexOf(_[me]),
                      We = ce.indexOf(_[me])
                    if (Re >= 0 || We >= 0)
                      Re >= 0
                        ? (this.animations[Re].playing = L)
                        : (this.stateMachines[We].playing = L)
                    else {
                      var qe = this.artboard.animationByName(_[me])
                      if (qe) {
                        var De = new l.Animation(
                          qe,
                          this.artboard,
                          this.runtime,
                          L,
                        )
                        De.advance(0), De.apply(1), this.animations.push(De)
                      } else {
                        var Ce = this.artboard.stateMachineByName(_[me])
                        if (Ce) {
                          var ie = new pe(Ce, this.runtime, L, this.artboard)
                          this.stateMachines.push(ie)
                        }
                      }
                    }
                  }
                return (
                  U &&
                    (L
                      ? this.eventManager.fire({
                          type: z.Play,
                          data: this.playing,
                        })
                      : this.eventManager.fire({
                          type: z.Pause,
                          data: this.paused,
                        })),
                  L ? this.playing : this.paused
                )
              }),
              (P.prototype.initLinearAnimations = function (_, L) {
                for (
                  var U = this.animations.map(function (We) {
                      return We.name
                    }),
                    G = 0;
                  G < _.length;
                  G++
                ) {
                  var ce = U.indexOf(_[G])
                  if (ce >= 0) this.animations[ce].playing = L
                  else {
                    var me = this.artboard.animationByName(_[G])
                    if (me) {
                      var Re = new l.Animation(
                        me,
                        this.artboard,
                        this.runtime,
                        L,
                      )
                      Re.advance(0), Re.apply(1), this.animations.push(Re)
                    }
                  }
                }
              }),
              (P.prototype.initStateMachines = function (_, L) {
                for (
                  var U = this.stateMachines.map(function (We) {
                      return We.name
                    }),
                    G = 0;
                  G < _.length;
                  G++
                ) {
                  var ce = U.indexOf(_[G])
                  if (ce >= 0) this.stateMachines[ce].playing = L
                  else {
                    var me = this.artboard.stateMachineByName(_[G])
                    if (me) {
                      var Re = new pe(me, this.runtime, L, this.artboard)
                      this.stateMachines.push(Re)
                    } else this.initLinearAnimations([_[G]], L)
                  }
                }
              }),
              (P.prototype.play = function (_) {
                return this.add(_, !0)
              }),
              (P.prototype.pause = function (_) {
                return this.add(_, !1)
              }),
              (P.prototype.scrub = function (_, L) {
                var U = this.animations.filter(function (G) {
                  return _.includes(G.name)
                })
                return (
                  U.forEach(function (G) {
                    return (G.scrubTo = L)
                  }),
                  U.map(function (G) {
                    return G.name
                  })
                )
              }),
              Object.defineProperty(P.prototype, "playing", {
                get: function () {
                  return this.animations
                    .filter(function (_) {
                      return _.playing
                    })
                    .map(function (_) {
                      return _.name
                    })
                    .concat(
                      this.stateMachines
                        .filter(function (_) {
                          return _.playing
                        })
                        .map(function (_) {
                          return _.name
                        }),
                    )
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "paused", {
                get: function () {
                  return this.animations
                    .filter(function (_) {
                      return !_.playing
                    })
                    .map(function (_) {
                      return _.name
                    })
                    .concat(
                      this.stateMachines
                        .filter(function (_) {
                          return !_.playing
                        })
                        .map(function (_) {
                          return _.name
                        }),
                    )
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.stop = function (_) {
                var L = this,
                  U = []
                if ((_ = Ie(_)).length === 0)
                  (U = this.animations
                    .map(function (me) {
                      return me.name
                    })
                    .concat(
                      this.stateMachines.map(function (me) {
                        return me.name
                      }),
                    )),
                    this.animations.forEach(function (me) {
                      return me.cleanup()
                    }),
                    this.stateMachines.forEach(function (me) {
                      return me.cleanup()
                    }),
                    this.animations.splice(0, this.animations.length),
                    this.stateMachines.splice(0, this.stateMachines.length)
                else {
                  var G = this.animations.filter(function (me) {
                    return _.includes(me.name)
                  })
                  G.forEach(function (me) {
                    me.cleanup(),
                      L.animations.splice(L.animations.indexOf(me), 1)
                  })
                  var ce = this.stateMachines.filter(function (me) {
                    return _.includes(me.name)
                  })
                  ce.forEach(function (me) {
                    me.cleanup(),
                      L.stateMachines.splice(L.stateMachines.indexOf(me), 1)
                  }),
                    (U = G.map(function (me) {
                      return me.name
                    }).concat(
                      ce.map(function (me) {
                        return me.name
                      }),
                    ))
                }
                return this.eventManager.fire({ type: z.Stop, data: U }), U
              }),
              Object.defineProperty(P.prototype, "isPlaying", {
                get: function () {
                  return (
                    this.animations.reduce(function (_, L) {
                      return _ || L.playing
                    }, !1) ||
                    this.stateMachines.reduce(function (_, L) {
                      return _ || L.playing
                    }, !1)
                  )
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "isPaused", {
                get: function () {
                  return (
                    !this.isPlaying &&
                    (this.animations.length > 0 ||
                      this.stateMachines.length > 0)
                  )
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "isStopped", {
                get: function () {
                  return (
                    this.animations.length === 0 &&
                    this.stateMachines.length === 0
                  )
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.atLeastOne = function (_, L) {
                var U
                return (
                  L === void 0 && (L = !0),
                  this.animations.length === 0 &&
                    this.stateMachines.length === 0 &&
                    (this.artboard.animationCount() > 0
                      ? this.add(
                          [(U = this.artboard.animationByIndex(0).name)],
                          _,
                          L,
                        )
                      : this.artboard.stateMachineCount() > 0 &&
                        this.add(
                          [(U = this.artboard.stateMachineByIndex(0).name)],
                          _,
                          L,
                        )),
                  U
                )
              }),
              (P.prototype.handleLooping = function () {
                for (
                  var _ = 0,
                    L = this.animations.filter(function (G) {
                      return G.playing
                    });
                  _ < L.length;
                  _++
                ) {
                  var U = L[_]
                  U.loopValue === 0 && U.loopCount
                    ? ((U.loopCount = 0), this.stop(U.name))
                    : U.loopValue === 1 && U.loopCount
                      ? (this.eventManager.fire({
                          type: z.Loop,
                          data: { animation: U.name, type: $e.Loop },
                        }),
                        (U.loopCount = 0))
                      : U.loopValue === 2 &&
                        U.loopCount > 1 &&
                        (this.eventManager.fire({
                          type: z.Loop,
                          data: { animation: U.name, type: $e.PingPong },
                        }),
                        (U.loopCount = 0))
                }
              }),
              (P.prototype.handleStateChanges = function () {
                for (
                  var _ = [],
                    L = 0,
                    U = this.stateMachines.filter(function (ce) {
                      return ce.playing
                    });
                  L < U.length;
                  L++
                ) {
                  var G = U[L]
                  _.push.apply(_, G.statesChanged)
                }
                _.length > 0 &&
                  this.eventManager.fire({ type: z.StateChange, data: _ })
              }),
              (P.prototype.handleAdvancing = function (_) {
                this.eventManager.fire({ type: z.Advance, data: _ })
              }),
              P
            )
          })()
        ;(function (P) {
          ;(P.Load = "load"),
            (P.LoadError = "loaderror"),
            (P.Play = "play"),
            (P.Pause = "pause"),
            (P.Stop = "stop"),
            (P.Loop = "loop"),
            (P.Draw = "draw"),
            (P.Advance = "advance"),
            (P.StateChange = "statechange"),
            (P.RiveEvent = "riveevent"),
            (P.AudioStatusChange = "audiostatuschange")
        })(z || (z = {})),
          (function (P) {
            ;(P.OneShot = "oneshot"),
              (P.Loop = "loop"),
              (P.PingPong = "pingpong")
          })($e || ($e = {}))
        var le,
          ue = (function () {
            function P(_) {
              _ === void 0 && (_ = []), (this.listeners = _)
            }
            return (
              (P.prototype.getListeners = function (_) {
                return this.listeners.filter(function (L) {
                  return L.type === _
                })
              }),
              (P.prototype.add = function (_) {
                this.listeners.includes(_) || this.listeners.push(_)
              }),
              (P.prototype.remove = function (_) {
                for (var L = 0; L < this.listeners.length; L++) {
                  var U = this.listeners[L]
                  if (U.type === _.type && U.callback === _.callback) {
                    this.listeners.splice(L, 1)
                    break
                  }
                }
              }),
              (P.prototype.removeAll = function (_) {
                var L = this
                _
                  ? this.listeners
                      .filter(function (U) {
                        return U.type === _
                      })
                      .forEach(function (U) {
                        return L.remove(U)
                      })
                  : this.listeners.splice(0, this.listeners.length)
              }),
              (P.prototype.fire = function (_) {
                this.getListeners(_.type).forEach(function (L) {
                  return L.callback(_)
                })
              }),
              P
            )
          })(),
          Ee = (function () {
            function P(_) {
              ;(this.eventManager = _), (this.queue = [])
            }
            return (
              (P.prototype.add = function (_) {
                this.queue.push(_)
              }),
              (P.prototype.process = function () {
                for (; this.queue.length > 0; ) {
                  var _ = this.queue.shift()
                  _ != null && _.action && _.action(),
                    _ != null && _.event && this.eventManager.fire(_.event)
                }
              }),
              P
            )
          })()
        ;(function (P) {
          ;(P[(P.AVAILABLE = 0)] = "AVAILABLE"),
            (P[(P.UNAVAILABLE = 1)] = "UNAVAILABLE")
        })(le || (le = {}))
        var be = (function (P) {
            function _() {
              var L = (P !== null && P.apply(this, arguments)) || this
              return (
                (L._started = !1),
                (L._enabled = !1),
                (L._status = le.UNAVAILABLE),
                L
              )
            }
            return (
              p(_, P),
              (_.prototype.delay = function (L) {
                return g(this, void 0, void 0, function () {
                  return h(this, function (U) {
                    return [
                      2,
                      new Promise(function (G) {
                        return setTimeout(G, L)
                      }),
                    ]
                  })
                })
              }),
              (_.prototype.timeout = function () {
                return g(this, void 0, void 0, function () {
                  return h(this, function (L) {
                    return [
                      2,
                      new Promise(function (U, G) {
                        return setTimeout(G, 50)
                      }),
                    ]
                  })
                })
              }),
              (_.prototype.reportToListeners = function () {
                this.fire({ type: z.AudioStatusChange }), this.removeAll()
              }),
              (_.prototype.enableAudio = function () {
                return g(this, void 0, void 0, function () {
                  return h(this, function (L) {
                    return (
                      this._enabled ||
                        ((this._enabled = !0),
                        (this._status = le.AVAILABLE),
                        this.reportToListeners()),
                      [2]
                    )
                  })
                })
              }),
              (_.prototype.testAudio = function () {
                return g(this, void 0, void 0, function () {
                  return h(this, function (L) {
                    switch (L.label) {
                      case 0:
                        if (
                          this._status !== le.UNAVAILABLE ||
                          this._audioContext === null
                        )
                          return [3, 4]
                        L.label = 1
                      case 1:
                        return (
                          L.trys.push([1, 3, , 4]),
                          [
                            4,
                            Promise.race([
                              this._audioContext.resume(),
                              this.timeout(),
                            ]),
                          ]
                        )
                      case 2:
                        return L.sent(), this.enableAudio(), [3, 4]
                      case 3:
                        return L.sent(), [3, 4]
                      case 4:
                        return [2]
                    }
                  })
                })
              }),
              (_.prototype._establishAudio = function () {
                return g(this, void 0, void 0, function () {
                  return h(this, function (L) {
                    switch (L.label) {
                      case 0:
                        return this._started
                          ? [3, 5]
                          : ((this._started = !0),
                            typeof window < "u"
                              ? [3, 1]
                              : (this.enableAudio(), [3, 5]))
                      case 1:
                        ;(this._audioContext = new AudioContext()),
                          this.listenForUserAction(),
                          (L.label = 2)
                      case 2:
                        return this._status !== le.UNAVAILABLE
                          ? [3, 5]
                          : [4, this.testAudio()]
                      case 3:
                        return L.sent(), [4, this.delay(1e3)]
                      case 4:
                        return L.sent(), [3, 2]
                      case 5:
                        return [2]
                    }
                  })
                })
              }),
              (_.prototype.listenForUserAction = function () {
                var L = this
                document.addEventListener(
                  "pointerdown",
                  function () {
                    return g(L, void 0, void 0, function () {
                      return h(this, function (U) {
                        return this.enableAudio(), [2]
                      })
                    })
                  },
                  { once: !0 },
                )
              }),
              (_.prototype.establishAudio = function () {
                return g(this, void 0, void 0, function () {
                  return h(this, function (L) {
                    return this._establishAudio(), [2]
                  })
                })
              }),
              Object.defineProperty(_.prototype, "systemVolume", {
                get: function () {
                  return this._status === le.UNAVAILABLE
                    ? (this.testAudio(), 0)
                    : 1
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(_.prototype, "status", {
                get: function () {
                  return this._status
                },
                enumerable: !1,
                configurable: !0,
              }),
              _
            )
          })(ue),
          ee = new be(),
          Q = (function () {
            function P() {}
            return (
              (P.prototype.observe = function () {}),
              (P.prototype.unobserve = function () {}),
              (P.prototype.disconnect = function () {}),
              P
            )
          })(),
          ye = globalThis.ResizeObserver || Q,
          ge = (function () {
            function P() {
              var _ = this
              ;(this._elementsMap = new Map()),
                (this._onObservedEntry = function (L) {
                  var U = _._elementsMap.get(L.target)
                  U !== null
                    ? U.onResize(
                        L.target.clientWidth == 0 || L.target.clientHeight == 0,
                      )
                    : _._resizeObserver.unobserve(L.target)
                }),
                (this._onObserved = function (L) {
                  L.forEach(_._onObservedEntry)
                }),
                (this._resizeObserver = new ye(this._onObserved))
            }
            return (
              (P.prototype.add = function (_, L) {
                var U = { onResize: L, element: _ }
                return (
                  this._elementsMap.set(_, U),
                  this._resizeObserver.observe(_),
                  U
                )
              }),
              (P.prototype.remove = function (_) {
                this._resizeObserver.unobserve(_.element),
                  this._elementsMap.delete(_.element)
              }),
              P
            )
          })(),
          ae = new ge(),
          se = (function () {
            function P(_) {
              ;(this.enableRiveAssetCDN = !0),
                (this.referenceCount = 0),
                (this.destroyed = !1),
                (this.src = _.src),
                (this.buffer = _.buffer),
                _.assetLoader && (this.assetLoader = _.assetLoader),
                (this.enableRiveAssetCDN =
                  typeof _.enableRiveAssetCDN != "boolean" ||
                  _.enableRiveAssetCDN),
                (this.eventManager = new ue()),
                _.onLoad && this.on(z.Load, _.onLoad),
                _.onLoadError && this.on(z.LoadError, _.onLoadError)
            }
            return (
              (P.prototype.initData = function () {
                return g(this, void 0, void 0, function () {
                  var _, L, U, G
                  return h(this, function (ce) {
                    switch (ce.label) {
                      case 0:
                        return this.src
                          ? ((_ = this), [4, tt(this.src)])
                          : [3, 2]
                      case 1:
                        ;(_.buffer = ce.sent()), (ce.label = 2)
                      case 2:
                        return this.destroyed
                          ? [2]
                          : (this.assetLoader &&
                              (L = new this.runtime.CustomFileAssetLoader({
                                loadContents: this.assetLoader,
                              })),
                            (U = this),
                            [
                              4,
                              this.runtime.load(
                                new Uint8Array(this.buffer),
                                L,
                                this.enableRiveAssetCDN,
                              ),
                            ])
                      case 3:
                        if (((U.file = ce.sent()), this.destroyed))
                          return (
                            (G = this.file) === null ||
                              G === void 0 ||
                              G.delete(),
                            (this.file = null),
                            [2]
                          )
                        if (this.file === null)
                          throw (
                            (this.eventManager.fire({
                              type: z.LoadError,
                              data: null,
                            }),
                            new Error(P.fileLoadErrorMessage))
                          )
                        return (
                          this.eventManager.fire({ type: z.Load, data: this }),
                          [2]
                        )
                    }
                  })
                })
              }),
              (P.prototype.init = function () {
                return g(this, void 0, void 0, function () {
                  var _
                  return h(this, function (L) {
                    switch (L.label) {
                      case 0:
                        if (!this.src && !this.buffer)
                          throw new Error(P.missingErrorMessage)
                        return (_ = this), [4, S.awaitInstance()]
                      case 1:
                        return (
                          (_.runtime = L.sent()),
                          this.destroyed ? [2] : [4, this.initData()]
                        )
                      case 2:
                        return L.sent(), [2]
                    }
                  })
                })
              }),
              (P.prototype.on = function (_, L) {
                this.eventManager.add({ type: _, callback: L })
              }),
              (P.prototype.off = function (_, L) {
                this.eventManager.remove({ type: _, callback: L })
              }),
              (P.prototype.cleanup = function () {
                var _
                ;(this.referenceCount -= 1),
                  this.referenceCount <= 0 &&
                    (this.removeAllRiveEventListeners(),
                    (_ = this.file) === null || _ === void 0 || _.delete(),
                    (this.file = null),
                    (this.destroyed = !0))
              }),
              (P.prototype.removeAllRiveEventListeners = function (_) {
                this.eventManager.removeAll(_)
              }),
              (P.prototype.getInstance = function () {
                if (this.file !== null)
                  return (this.referenceCount += 1), this.file
              }),
              (P.missingErrorMessage =
                "Rive source file or data buffer required"),
              (P.fileLoadErrorMessage = "The file failed to load"),
              P
            )
          })(),
          xe = (function () {
            function P(_) {
              var L,
                U = this
              ;(this.loaded = !1),
                (this.destroyed = !1),
                (this._observed = null),
                (this.readyForPlaying = !1),
                (this.artboard = null),
                (this.eventCleanup = null),
                (this.shouldDisableRiveListeners = !1),
                (this.automaticallyHandleEvents = !1),
                (this.enableRiveAssetCDN = !0),
                (this._volume = 1),
                (this._artboardWidth = void 0),
                (this._artboardHeight = void 0),
                (this._devicePixelRatioUsed = 1),
                (this._hasZeroSize = !1),
                (this._audioEventListener = null),
                (this._boundDraw = null),
                (this.durations = []),
                (this.frameTimes = []),
                (this.frameCount = 0),
                (this.isTouchScrollEnabled = !1),
                (this.onCanvasResize = function (G) {
                  var ce = U._hasZeroSize !== G
                  ;(U._hasZeroSize = G),
                    G
                      ? (U._layout.maxX && U._layout.maxY) || U.resizeToCanvas()
                      : ce && U.resizeDrawingSurfaceToCanvas()
                }),
                (this.renderSecondTimer = 0),
                (this._boundDraw = this.draw.bind(this)),
                (this.canvas = _.canvas),
                _.canvas.constructor === HTMLCanvasElement &&
                  (this._observed = ae.add(this.canvas, this.onCanvasResize)),
                (this.src = _.src),
                (this.buffer = _.buffer),
                (this.riveFile = _.riveFile),
                (this.layout =
                  (L = _.layout) !== null && L !== void 0 ? L : new C()),
                (this.shouldDisableRiveListeners =
                  !!_.shouldDisableRiveListeners),
                (this.isTouchScrollEnabled = !!_.isTouchScrollEnabled),
                (this.automaticallyHandleEvents =
                  !!_.automaticallyHandleEvents),
                (this.enableRiveAssetCDN =
                  _.enableRiveAssetCDN === void 0 || _.enableRiveAssetCDN),
                (this.eventManager = new ue()),
                _.onLoad && this.on(z.Load, _.onLoad),
                _.onLoadError && this.on(z.LoadError, _.onLoadError),
                _.onPlay && this.on(z.Play, _.onPlay),
                _.onPause && this.on(z.Pause, _.onPause),
                _.onStop && this.on(z.Stop, _.onStop),
                _.onLoop && this.on(z.Loop, _.onLoop),
                _.onStateChange && this.on(z.StateChange, _.onStateChange),
                _.onAdvance && this.on(z.Advance, _.onAdvance),
                _.onload && !_.onLoad && this.on(z.Load, _.onload),
                _.onloaderror &&
                  !_.onLoadError &&
                  this.on(z.LoadError, _.onloaderror),
                _.onplay && !_.onPlay && this.on(z.Play, _.onplay),
                _.onpause && !_.onPause && this.on(z.Pause, _.onpause),
                _.onstop && !_.onStop && this.on(z.Stop, _.onstop),
                _.onloop && !_.onLoop && this.on(z.Loop, _.onloop),
                _.onstatechange &&
                  !_.onStateChange &&
                  this.on(z.StateChange, _.onstatechange),
                _.assetLoader && (this.assetLoader = _.assetLoader),
                (this.taskQueue = new Ee(this.eventManager)),
                this.init({
                  src: this.src,
                  buffer: this.buffer,
                  riveFile: this.riveFile,
                  autoplay: _.autoplay,
                  animations: _.animations,
                  stateMachines: _.stateMachines,
                  artboard: _.artboard,
                  useOffscreenRenderer: _.useOffscreenRenderer,
                })
            }
            return (
              (P.new = function (_) {
                return (
                  console.warn(
                    "This function is deprecated: please use `new Rive({})` instead",
                  ),
                  new P(_)
                )
              }),
              (P.prototype.onSystemAudioChanged = function () {
                this.volume = this._volume
              }),
              (P.prototype.init = function (_) {
                var L = this,
                  U = _.src,
                  G = _.buffer,
                  ce = _.riveFile,
                  me = _.animations,
                  Re = _.stateMachines,
                  We = _.artboard,
                  qe = _.autoplay,
                  De = qe !== void 0 && qe,
                  Ce = _.useOffscreenRenderer,
                  ie = Ce !== void 0 && Ce
                if (!this.destroyed) {
                  if (
                    ((this.src = U),
                    (this.buffer = G),
                    (this.riveFile = ce),
                    !this.src && !this.buffer && !this.riveFile)
                  )
                    throw new k(P.missingErrorMessage)
                  var Ae = Ie(me),
                    we = Ie(Re)
                  ;(this.loaded = !1),
                    (this.readyForPlaying = !1),
                    S.awaitInstance()
                      .then(function (lt) {
                        L.destroyed ||
                          ((L.runtime = lt),
                          L.removeRiveListeners(),
                          L.deleteRiveRenderer(),
                          (L.renderer = L.runtime.makeRenderer(L.canvas, ie)),
                          L.canvas.width ||
                            L.canvas.height ||
                            L.resizeDrawingSurfaceToCanvas(),
                          L.initData(We, Ae, we, De)
                            .then(function () {
                              return L.setupRiveListeners()
                            })
                            .catch(function (yt) {
                              console.error(yt)
                            }))
                      })
                      .catch(function (lt) {
                        console.error(lt)
                      })
                }
              }),
              (P.prototype.setupRiveListeners = function (_) {
                var L = this
                if (
                  (this.eventCleanup && this.eventCleanup(),
                  !this.shouldDisableRiveListeners)
                ) {
                  var U = (this.animator.stateMachines || [])
                      .filter(function (ce) {
                        return ce.playing && L.runtime.hasListeners(ce.instance)
                      })
                      .map(function (ce) {
                        return ce.instance
                      }),
                    G = this.isTouchScrollEnabled
                  _ &&
                    "isTouchScrollEnabled" in _ &&
                    (G = _.isTouchScrollEnabled),
                    (this.eventCleanup = (0, u.registerTouchInteractions)({
                      canvas: this.canvas,
                      artboard: this.artboard,
                      stateMachines: U,
                      renderer: this.renderer,
                      rive: this.runtime,
                      fit: this._layout.runtimeFit(this.runtime),
                      alignment: this._layout.runtimeAlignment(this.runtime),
                      isTouchScrollEnabled: G,
                      layoutScaleFactor: this._layout.layoutScaleFactor,
                    }))
                }
              }),
              (P.prototype.removeRiveListeners = function () {
                this.eventCleanup &&
                  (this.eventCleanup(), (this.eventCleanup = null))
              }),
              (P.prototype.initializeAudio = function () {
                var _,
                  L = this
                ee.status == le.UNAVAILABLE &&
                  !((_ = this.artboard) === null || _ === void 0) &&
                  _.hasAudio &&
                  this._audioEventListener === null &&
                  ((this._audioEventListener = {
                    type: z.AudioStatusChange,
                    callback: function () {
                      return L.onSystemAudioChanged()
                    },
                  }),
                  ee.add(this._audioEventListener),
                  ee.establishAudio())
              }),
              (P.prototype.initArtboardSize = function () {
                this.artboard &&
                  ((this._artboardWidth = this.artboard.width =
                    this._artboardWidth || this.artboard.width),
                  (this._artboardHeight = this.artboard.height =
                    this._artboardHeight || this.artboard.height))
              }),
              (P.prototype.initData = function (_, L, U, G) {
                return g(this, void 0, void 0, function () {
                  var ce, me, Re
                  return h(this, function (We) {
                    switch (We.label) {
                      case 0:
                        return (
                          We.trys.push([0, 3, , 4]),
                          this.riveFile != null
                            ? [3, 2]
                            : ((this.riveFile = new se({
                                src: this.src,
                                buffer: this.buffer,
                                enableRiveAssetCDN: this.enableRiveAssetCDN,
                                assetLoader: this.assetLoader,
                              })),
                              [4, this.riveFile.init()])
                        )
                      case 1:
                        We.sent(), (We.label = 2)
                      case 2:
                        if (!this.riveFile) throw new k(P.cleanupErrorMessage)
                        return (
                          (this.file = this.riveFile.getInstance()),
                          this.initArtboard(_, L, U, G),
                          this.initArtboardSize(),
                          this.initializeAudio(),
                          (this.loaded = !0),
                          this.eventManager.fire({
                            type: z.Load,
                            data:
                              (Re = this.src) !== null && Re !== void 0
                                ? Re
                                : "buffer",
                          }),
                          (this.readyForPlaying = !0),
                          this.taskQueue.process(),
                          this.drawFrame(),
                          [2, Promise.resolve()]
                        )
                      case 3:
                        return (
                          (ce = We.sent()),
                          (me =
                            (qe = ce) && qe.isHandledError
                              ? qe.message
                              : "Problem loading file; may be corrupt!"),
                          console.warn(me),
                          this.eventManager.fire({
                            type: z.LoadError,
                            data: me,
                          }),
                          [2, Promise.reject(me)]
                        )
                      case 4:
                        return [2]
                    }
                    var qe
                  })
                })
              }),
              (P.prototype.initArtboard = function (_, L, U, G) {
                if (this.file) {
                  var ce,
                    me = _
                      ? this.file.artboardByName(_)
                      : this.file.defaultArtboard()
                  if (!me) {
                    var Re = "Invalid artboard name or no default artboard"
                    return (
                      console.warn(Re),
                      void this.eventManager.fire({
                        type: z.LoadError,
                        data: Re,
                      })
                    )
                  }
                  if (
                    ((this.artboard = me),
                    (me.volume = this._volume * ee.systemVolume),
                    this.artboard.animationCount() < 1)
                  )
                    throw (
                      ((Re = "Artboard has no animations"),
                      this.eventManager.fire({ type: z.LoadError, data: Re }),
                      Re)
                    )
                  ;(this.animator = new re(
                    this.runtime,
                    this.artboard,
                    this.eventManager,
                  )),
                    L.length > 0 || U.length > 0
                      ? ((ce = L.concat(U)),
                        this.animator.initLinearAnimations(L, G),
                        this.animator.initStateMachines(U, G))
                      : (ce = [this.animator.atLeastOne(G, !1)]),
                    this.taskQueue.add({
                      event: { type: G ? z.Play : z.Pause, data: ce },
                    })
                }
              }),
              (P.prototype.drawFrame = function () {
                var _
                !(
                  (_ = document == null ? void 0 : document.timeline) ===
                    null || _ === void 0
                ) && _.currentTime
                  ? this.loaded &&
                    this.artboard &&
                    !this.frameRequestId &&
                    this._boundDraw(document.timeline.currentTime)
                  : this.startRendering()
              }),
              (P.prototype.draw = function (_, L) {
                this.frameRequestId = null
                var U = performance.now()
                this.lastRenderTime || (this.lastRenderTime = _),
                  (this.renderSecondTimer += _ - this.lastRenderTime),
                  this.renderSecondTimer > 5e3 &&
                    ((this.renderSecondTimer = 0), L == null || L())
                var G = (_ - this.lastRenderTime) / 1e3
                this.lastRenderTime = _
                for (
                  var ce = 0,
                    me = this.animator.animations
                      .filter(function (Dt) {
                        return Dt.playing || Dt.needsScrub
                      })
                      .sort(function (Dt) {
                        return Dt.needsScrub ? -1 : 1
                      });
                  ce < me.length;
                  ce++
                ) {
                  var Re = me[ce]
                  Re.advance(G),
                    Re.instance.didLoop && (Re.loopCount += 1),
                    Re.apply(1)
                }
                for (
                  var We = 0,
                    qe = this.animator.stateMachines.filter(function (Dt) {
                      return Dt.playing
                    });
                  We < qe.length;
                  We++
                ) {
                  var De = qe[We],
                    Ce = De.reportedEventCount()
                  if (Ce)
                    for (var ie = 0; ie < Ce; ie++) {
                      var Ae = De.reportedEventAt(ie)
                      if (Ae)
                        if (Ae.type === H.OpenUrl) {
                          if (
                            (this.eventManager.fire({
                              type: z.RiveEvent,
                              data: Ae,
                            }),
                            this.automaticallyHandleEvents)
                          ) {
                            var we = document.createElement("a"),
                              lt = Ae,
                              yt = lt.url,
                              nn = lt.target,
                              jt = (0, u.sanitizeUrl)(yt)
                            yt && we.setAttribute("href", jt),
                              nn && we.setAttribute("target", nn),
                              jt && jt !== u.BLANK_URL && we.click()
                          }
                        } else
                          this.eventManager.fire({
                            type: z.RiveEvent,
                            data: Ae,
                          })
                    }
                  De.advanceAndApply(G)
                }
                this.animator.stateMachines.length == 0 &&
                  this.artboard.advance(G)
                var At = this.renderer
                At.clear(),
                  At.save(),
                  this.alignRenderer(),
                  this._hasZeroSize || this.artboard.draw(At),
                  At.restore(),
                  At.flush(),
                  this.animator.handleLooping(),
                  this.animator.handleStateChanges(),
                  this.animator.handleAdvancing(G),
                  this.frameCount++
                var gn = performance.now()
                for (
                  this.frameTimes.push(gn), this.durations.push(gn - U);
                  this.frameTimes[0] <= gn - 1e3;

                )
                  this.frameTimes.shift(), this.durations.shift()
                this.animator.isPlaying
                  ? this.startRendering()
                  : (this.animator.isPaused || this.animator.isStopped) &&
                    (this.lastRenderTime = 0)
              }),
              (P.prototype.alignRenderer = function () {
                var _ = this,
                  L = _.renderer,
                  U = _.runtime,
                  G = _._layout,
                  ce = _.artboard
                L.align(
                  G.runtimeFit(U),
                  G.runtimeAlignment(U),
                  { minX: G.minX, minY: G.minY, maxX: G.maxX, maxY: G.maxY },
                  ce.bounds,
                  this._devicePixelRatioUsed * G.layoutScaleFactor,
                )
              }),
              Object.defineProperty(P.prototype, "fps", {
                get: function () {
                  return this.durations.length
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "frameTime", {
                get: function () {
                  return this.durations.length === 0
                    ? 0
                    : (
                        this.durations.reduce(function (_, L) {
                          return _ + L
                        }, 0) / this.durations.length
                      ).toFixed(4)
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.cleanup = function () {
                var _
                ;(this.destroyed = !0),
                  this.stopRendering(),
                  this.cleanupInstances(),
                  this._observed !== null && ae.remove(this._observed),
                  this.removeRiveListeners(),
                  this.file &&
                    ((_ = this.riveFile) === null ||
                      _ === void 0 ||
                      _.cleanup(),
                    (this.file = null)),
                  (this.riveFile = null),
                  this.deleteRiveRenderer(),
                  this._audioEventListener !== null &&
                    (ee.remove(this._audioEventListener),
                    (this._audioEventListener = null))
              }),
              (P.prototype.deleteRiveRenderer = function () {
                var _
                ;(_ = this.renderer) === null || _ === void 0 || _.delete(),
                  (this.renderer = null)
              }),
              (P.prototype.cleanupInstances = function () {
                this.eventCleanup !== null && this.eventCleanup(),
                  this.stop(),
                  this.artboard &&
                    (this.artboard.delete(), (this.artboard = null))
              }),
              (P.prototype.retrieveTextRun = function (_) {
                var L
                if (_)
                  if (this.artboard) {
                    var U = this.artboard.textRun(_)
                    if (U) return U
                    console.warn(
                      "Could not access a text run with name '"
                        .concat(_, "' in the '")
                        .concat(
                          (L = this.artboard) === null || L === void 0
                            ? void 0
                            : L.name,
                          "' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime.",
                        ),
                    )
                  } else
                    console.warn(
                      "Tried to access text run, but the Artboard is null",
                    )
                else console.warn("No text run name provided")
              }),
              (P.prototype.getTextRunValue = function (_) {
                var L = this.retrieveTextRun(_)
                return L ? L.text : void 0
              }),
              (P.prototype.setTextRunValue = function (_, L) {
                var U = this.retrieveTextRun(_)
                U && (U.text = L)
              }),
              (P.prototype.play = function (_, L) {
                var U = this
                ;(_ = Ie(_)),
                  this.readyForPlaying
                    ? (this.animator.play(_),
                      this.eventCleanup && this.eventCleanup(),
                      this.setupRiveListeners(),
                      this.startRendering())
                    : this.taskQueue.add({
                        action: function () {
                          return U.play(_, L)
                        },
                      })
              }),
              (P.prototype.pause = function (_) {
                var L = this
                ;(_ = Ie(_)),
                  this.readyForPlaying
                    ? (this.eventCleanup && this.eventCleanup(),
                      this.animator.pause(_))
                    : this.taskQueue.add({
                        action: function () {
                          return L.pause(_)
                        },
                      })
              }),
              (P.prototype.scrub = function (_, L) {
                var U = this
                ;(_ = Ie(_)),
                  this.readyForPlaying
                    ? (this.animator.scrub(_, L || 0), this.drawFrame())
                    : this.taskQueue.add({
                        action: function () {
                          return U.scrub(_, L)
                        },
                      })
              }),
              (P.prototype.stop = function (_) {
                var L = this
                ;(_ = Ie(_)),
                  this.readyForPlaying
                    ? (this.animator && this.animator.stop(_),
                      this.eventCleanup && this.eventCleanup())
                    : this.taskQueue.add({
                        action: function () {
                          return L.stop(_)
                        },
                      })
              }),
              (P.prototype.reset = function (_) {
                var L,
                  U = _ == null ? void 0 : _.artboard,
                  G = Ie(_ == null ? void 0 : _.animations),
                  ce = Ie(_ == null ? void 0 : _.stateMachines),
                  me =
                    (L = _ == null ? void 0 : _.autoplay) !== null &&
                    L !== void 0 &&
                    L
                this.cleanupInstances(),
                  this.initArtboard(U, G, ce, me),
                  this.taskQueue.process()
              }),
              (P.prototype.load = function (_) {
                ;(this.file = null), this.stop(), this.init(_)
              }),
              Object.defineProperty(P.prototype, "layout", {
                get: function () {
                  return this._layout
                },
                set: function (_) {
                  ;(this._layout = _),
                    (_.maxX && _.maxY) || this.resizeToCanvas(),
                    this.loaded && !this.animator.isPlaying && this.drawFrame()
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.resizeToCanvas = function () {
                this._layout = this.layout.copyWith({
                  minX: 0,
                  minY: 0,
                  maxX: this.canvas.width,
                  maxY: this.canvas.height,
                })
              }),
              (P.prototype.resizeDrawingSurfaceToCanvas = function (_) {
                if (this.canvas instanceof HTMLCanvasElement && window) {
                  var L = this.canvas.getBoundingClientRect(),
                    U = L.width,
                    G = L.height,
                    ce = _ || window.devicePixelRatio || 1
                  if (
                    ((this.devicePixelRatioUsed = ce),
                    (this.canvas.width = ce * U),
                    (this.canvas.height = ce * G),
                    this.resizeToCanvas(),
                    this.drawFrame(),
                    this.layout.fit === r.Layout)
                  ) {
                    var me = this._layout.layoutScaleFactor
                    ;(this.artboard.width = U / me),
                      (this.artboard.height = G / me)
                  }
                }
              }),
              Object.defineProperty(P.prototype, "source", {
                get: function () {
                  return this.src
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "activeArtboard", {
                get: function () {
                  return this.artboard ? this.artboard.name : ""
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "animationNames", {
                get: function () {
                  if (!this.loaded || !this.artboard) return []
                  for (
                    var _ = [], L = 0;
                    L < this.artboard.animationCount();
                    L++
                  )
                    _.push(this.artboard.animationByIndex(L).name)
                  return _
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "stateMachineNames", {
                get: function () {
                  if (!this.loaded || !this.artboard) return []
                  for (
                    var _ = [], L = 0;
                    L < this.artboard.stateMachineCount();
                    L++
                  )
                    _.push(this.artboard.stateMachineByIndex(L).name)
                  return _
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.stateMachineInputs = function (_) {
                if (this.loaded) {
                  var L = this.animator.stateMachines.find(function (U) {
                    return U.name === _
                  })
                  return L == null ? void 0 : L.inputs
                }
              }),
              (P.prototype.retrieveInputAtPath = function (_, L) {
                if (_)
                  if (this.artboard) {
                    var U = this.artboard.inputByPath(_, L)
                    if (U) return U
                    console.warn(
                      "Could not access an input with name: '"
                        .concat(_, "', at path:'")
                        .concat(L, "'"),
                    )
                  } else
                    console.warn(
                      "Tried to access input: '"
                        .concat(_, "', at path: '")
                        .concat(L, "', but the Artboard is null"),
                    )
                else
                  console.warn(
                    "No input name provided for path '".concat(L, "'"),
                  )
              }),
              (P.prototype.setBooleanStateAtPath = function (_, L, U) {
                var G = this.retrieveInputAtPath(_, U)
                G &&
                  (G.type === I.Boolean
                    ? (G.asBool().value = L)
                    : console.warn(
                        "Input with name: '"
                          .concat(_, "', at path:'")
                          .concat(U, "' is not a boolean"),
                      ))
              }),
              (P.prototype.setNumberStateAtPath = function (_, L, U) {
                var G = this.retrieveInputAtPath(_, U)
                G &&
                  (G.type === I.Number
                    ? (G.asNumber().value = L)
                    : console.warn(
                        "Input with name: '"
                          .concat(_, "', at path:'")
                          .concat(U, "' is not a number"),
                      ))
              }),
              (P.prototype.fireStateAtPath = function (_, L) {
                var U = this.retrieveInputAtPath(_, L)
                U &&
                  (U.type === I.Trigger
                    ? U.asTrigger().fire()
                    : console.warn(
                        "Input with name: '"
                          .concat(_, "', at path:'")
                          .concat(L, "' is not a trigger"),
                      ))
              }),
              (P.prototype.retrieveTextAtPath = function (_, L) {
                if (_)
                  if (L)
                    if (this.artboard) {
                      var U = this.artboard.textByPath(_, L)
                      if (U) return U
                      console.warn(
                        "Could not access text with name: '"
                          .concat(_, "', at path:'")
                          .concat(L, "'"),
                      )
                    } else
                      console.warn(
                        "Tried to access text: '"
                          .concat(_, "', at path: '")
                          .concat(L, "', but the Artboard is null"),
                      )
                  else
                    console.warn("No path provided for text '".concat(_, "'"))
                else
                  console.warn(
                    "No text name provided for path '".concat(L, "'"),
                  )
              }),
              (P.prototype.getTextRunValueAtPath = function (_, L) {
                var U = this.retrieveTextAtPath(_, L)
                if (U) return U.text
                console.warn(
                  "Could not get text with name: '"
                    .concat(_, "', at path:'")
                    .concat(L, "'"),
                )
              }),
              (P.prototype.setTextRunValueAtPath = function (_, L, U) {
                var G = this.retrieveTextAtPath(_, U)
                G
                  ? (G.text = L)
                  : console.warn(
                      "Could not set text with name: '"
                        .concat(_, "', at path:'")
                        .concat(U, "'"),
                    )
              }),
              Object.defineProperty(P.prototype, "playingStateMachineNames", {
                get: function () {
                  return this.loaded
                    ? this.animator.stateMachines
                        .filter(function (_) {
                          return _.playing
                        })
                        .map(function (_) {
                          return _.name
                        })
                    : []
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "playingAnimationNames", {
                get: function () {
                  return this.loaded
                    ? this.animator.animations
                        .filter(function (_) {
                          return _.playing
                        })
                        .map(function (_) {
                          return _.name
                        })
                    : []
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "pausedAnimationNames", {
                get: function () {
                  return this.loaded
                    ? this.animator.animations
                        .filter(function (_) {
                          return !_.playing
                        })
                        .map(function (_) {
                          return _.name
                        })
                    : []
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "pausedStateMachineNames", {
                get: function () {
                  return this.loaded
                    ? this.animator.stateMachines
                        .filter(function (_) {
                          return !_.playing
                        })
                        .map(function (_) {
                          return _.name
                        })
                    : []
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "isPlaying", {
                get: function () {
                  return this.animator.isPlaying
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "isPaused", {
                get: function () {
                  return this.animator.isPaused
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "isStopped", {
                get: function () {
                  return this.animator.isStopped
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "bounds", {
                get: function () {
                  return this.artboard ? this.artboard.bounds : void 0
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.on = function (_, L) {
                this.eventManager.add({ type: _, callback: L })
              }),
              (P.prototype.off = function (_, L) {
                this.eventManager.remove({ type: _, callback: L })
              }),
              (P.prototype.unsubscribe = function (_, L) {
                console.warn(
                  "This function is deprecated: please use `off()` instead.",
                ),
                  this.off(_, L)
              }),
              (P.prototype.removeAllRiveEventListeners = function (_) {
                this.eventManager.removeAll(_)
              }),
              (P.prototype.unsubscribeAll = function (_) {
                console.warn(
                  "This function is deprecated: please use `removeAllRiveEventListeners()` instead.",
                ),
                  this.removeAllRiveEventListeners(_)
              }),
              (P.prototype.stopRendering = function () {
                this.loaded &&
                  this.frameRequestId &&
                  (this.runtime.cancelAnimationFrame
                    ? this.runtime.cancelAnimationFrame(this.frameRequestId)
                    : cancelAnimationFrame(this.frameRequestId),
                  (this.frameRequestId = null))
              }),
              (P.prototype.startRendering = function () {
                this.loaded &&
                  this.artboard &&
                  !this.frameRequestId &&
                  (this.runtime.requestAnimationFrame
                    ? (this.frameRequestId = this.runtime.requestAnimationFrame(
                        this._boundDraw,
                      ))
                    : (this.frameRequestId = requestAnimationFrame(
                        this._boundDraw,
                      )))
              }),
              (P.prototype.enableFPSCounter = function (_) {
                this.runtime.enableFPSCounter(_)
              }),
              (P.prototype.disableFPSCounter = function () {
                this.runtime.disableFPSCounter()
              }),
              Object.defineProperty(P.prototype, "contents", {
                get: function () {
                  if (this.loaded) {
                    for (
                      var _ = { artboards: [] }, L = 0;
                      L < this.file.artboardCount();
                      L++
                    ) {
                      for (
                        var U = this.file.artboardByIndex(L),
                          G = {
                            name: U.name,
                            animations: [],
                            stateMachines: [],
                          },
                          ce = 0;
                        ce < U.animationCount();
                        ce++
                      ) {
                        var me = U.animationByIndex(ce)
                        G.animations.push(me.name)
                      }
                      for (var Re = 0; Re < U.stateMachineCount(); Re++) {
                        for (
                          var We = U.stateMachineByIndex(Re),
                            qe = We.name,
                            De = new this.runtime.StateMachineInstance(We, U),
                            Ce = [],
                            ie = 0;
                          ie < De.inputCount();
                          ie++
                        ) {
                          var Ae = De.input(ie)
                          Ce.push({ name: Ae.name, type: Ae.type })
                        }
                        G.stateMachines.push({ name: qe, inputs: Ce })
                      }
                      _.artboards.push(G)
                    }
                    return _
                  }
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "volume", {
                get: function () {
                  return (
                    this.artboard &&
                      this.artboard.volume !== this._volume &&
                      (this._volume = this.artboard.volume),
                    this._volume
                  )
                },
                set: function (_) {
                  ;(this._volume = _),
                    this.artboard &&
                      (this.artboard.volume = _ * ee.systemVolume)
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "artboardWidth", {
                get: function () {
                  var _
                  return this.artboard
                    ? this.artboard.width
                    : (_ = this._artboardWidth) !== null && _ !== void 0
                      ? _
                      : 0
                },
                set: function (_) {
                  ;(this._artboardWidth = _),
                    this.artboard && (this.artboard.width = _)
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(P.prototype, "artboardHeight", {
                get: function () {
                  var _
                  return this.artboard
                    ? this.artboard.height
                    : (_ = this._artboardHeight) !== null && _ !== void 0
                      ? _
                      : 0
                },
                set: function (_) {
                  ;(this._artboardHeight = _),
                    this.artboard && (this.artboard.height = _)
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.prototype.resetArtboardSize = function () {
                this.artboard
                  ? (this.artboard.resetArtboardSize(),
                    (this._artboardWidth = this.artboard.width),
                    (this._artboardHeight = this.artboard.height))
                  : ((this._artboardWidth = void 0),
                    (this._artboardHeight = void 0))
              }),
              Object.defineProperty(P.prototype, "devicePixelRatioUsed", {
                get: function () {
                  return this._devicePixelRatioUsed
                },
                set: function (_) {
                  this._devicePixelRatioUsed = _
                },
                enumerable: !1,
                configurable: !0,
              }),
              (P.missingErrorMessage =
                "Rive source file or data buffer required"),
              (P.cleanupErrorMessage =
                "Attempt to use file after calling cleanup."),
              P
            )
          })(),
          tt = function (P) {
            return g(void 0, void 0, void 0, function () {
              var _
              return h(this, function (L) {
                switch (L.label) {
                  case 0:
                    return (_ = new Request(P)), [4, fetch(_)]
                  case 1:
                    return [4, L.sent().arrayBuffer()]
                  case 2:
                    return [2, L.sent()]
                }
              })
            })
          },
          Ie = function (P) {
            return typeof P == "string" ? [P] : P instanceof Array ? P : []
          },
          Be = { EventManager: ue, TaskQueueManager: Ee },
          rt = function (P) {
            return new Promise(function (_) {
              return S.getInstance(function (L) {
                L.decodeAudio(P, _)
              })
            })
          },
          He = function (P) {
            return new Promise(function (_) {
              return S.getInstance(function (L) {
                L.decodeImage(P, _)
              })
            })
          },
          Rt = function (P) {
            return new Promise(function (_) {
              return S.getInstance(function (L) {
                L.decodeFont(P, _)
              })
            })
          }
      })(),
      t
    )
  })()
var t2 = (e2.exports = Ku())
const Wr = class Wr {
  constructor() {
    Z(this, "memoryUpdates", Ct(null))
    Z(this, "clearTimeout")
  }
  notifyMemoryUpdated() {
    this.clearTimeout ||
      (this.memoryUpdates.set({ timestamp: Date.now() }),
      clearTimeout(this.clearTimeout),
      (this.clearTimeout = void 0),
      (this.clearTimeout = setTimeout(() => {
        this.memoryUpdates.set(null), (this.clearTimeout = void 0)
      }, Wr.CLEAR_DELAY_MS)))
  }
  subscribe(e) {
    return this.memoryUpdates.subscribe(e)
  }
}
Z(Wr, "CLEAR_DELAY_MS", 1e4)
let Ss = Wr
const Zu = new Ss(),
  n2 = "" + new URL("memories-dark-DhQ4ghw7.riv", import.meta.url).href,
  tc = "" + new URL("memories-light-Cj0fATGz.riv", import.meta.url).href
function o2(s) {
  let e, n, t
  return {
    c() {
      ;(e = F("span")),
        (e.textContent = "Augment Memories"),
        A(e, "role", "button"),
        A(e, "tabindex", "0")
    },
    m(o, r) {
      M(o, e, r),
        n || ((t = [Oe(e, "click", s[5]), Oe(e, "keydown", s[6])]), (n = !0))
    },
    p: N,
    d(o) {
      o && x(e), (n = !1), Yt(t)
    },
  }
}
function r2(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        content:
          "Information that Agent remembered from previous interactions (click to open)",
        $$slots: { default: [o2] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8192 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function s2(s) {
  let e,
    n,
    t = { slot: "chaser", repeat: 1, speed: 1.3, onStopChaser: s[2] }
  return (
    (e = new Vu({ props: t })),
    s[8](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        e.$set({})
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[8](null), b(e, o)
      },
    }
  )
}
function i2(s) {
  let e
  return {
    c() {
      ;(e = F("canvas")),
        A(e, "slot", "leftIcon"),
        A(e, "width", "32"),
        A(e, "height", "32"),
        ln(e, "width", "14px"),
        ln(e, "height", "14px")
    },
    m(n, t) {
      M(n, e, t), s[7](e)
    },
    p: N,
    d(n) {
      n && x(e), s[7](null)
    },
  }
}
function a2(s) {
  let e, n
  return (
    (e = new to({
      props: {
        $$slots: { leftIcon: [i2], chaser: [s2], default: [r2] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        8195 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function c2(s, e, n) {
  let t
  Ge(s, Zu, (u) => n(4, (t = u)))
  let o,
    r,
    i,
    c = tc
  function a() {
    r && (r == null || r.cleanup(), n(3, (r = void 0))),
      o &&
        !r &&
        n(
          3,
          (r = new t2.Rive({
            src: c,
            canvas: o,
            autoplay: !1,
            onLoad: () => {
              r == null || r.resizeDrawingSurfaceToCanvas(),
                r == null || r.play(),
                r == null || r.stop()
            },
          })),
        )
  }
  function l(u) {
    ;(c = u === Ud.dark ? n2 : tc), a()
  }
  return (
    Gn(() => {
      jd(l), l(Hd())
    }),
    ko(() => {
      r == null || r.cleanup()
    }),
    (s.$$.update = () => {
      9 & s.$$.dirty && o && !r && a(),
        16 & s.$$.dirty &&
          t != null &&
          t.timestamp &&
          (r == null || r.reset(),
          r == null || r.play(),
          i == null || i.startChaser())
    }),
    [
      o,
      i,
      function () {
        r == null || r.reset()
      },
      r,
      t,
      function (u) {
        Wn.call(this, s, u)
      },
      function (u) {
        Wn.call(this, s, u)
      },
      function (u) {
        bt[u ? "unshift" : "push"](() => {
          ;(o = u), n(0, o)
        })
      },
      function (u) {
        bt[u ? "unshift" : "push"](() => {
          ;(i = u), n(1, i)
        })
      },
    ]
  )
}
class l2 extends ne {
  constructor(e) {
    super(), oe(this, e, c2, a2, te, {})
  }
}
function nc(s) {
  let e, n, t, o, r, i, c, a
  const l = [p2, m2, f2, d2, u2],
    u = []
  function p(g, h) {
    return (
      2 & h && (e = null),
      2 & h && (n = null),
      2 & h && (t = null),
      2 & h && (o = null),
      e == null && (e = !!Ds(g[1])),
      e
        ? 0
        : (n == null && (n = !!Fs(g[1])),
          n
            ? 1
            : (t == null && (t = !!pu(g[1])),
              t ? 2 : (o == null && (o = !!$u(g[1])), o ? 3 : 4)))
    )
  }
  return (
    (r = p(s, -1)),
    (i = u[r] = l[r](s)),
    {
      c() {
        i.c(), (c = he())
      },
      m(g, h) {
        u[r].m(g, h), M(g, c, h), (a = !0)
      },
      p(g, h) {
        let k = r
        ;(r = p(g, h)),
          r === k
            ? u[r].p(g, h)
            : (Y(),
              m(u[k], 1, 1, () => {
                u[k] = null
              }),
              X(),
              (i = u[r]),
              i ? i.p(g, h) : ((i = u[r] = l[r](g)), i.c()),
              d(i, 1),
              i.m(c.parentNode, c))
      },
      i(g) {
        a || (d(i), (a = !0))
      },
      o(g) {
        m(i), (a = !1)
      },
      d(g) {
        g && x(c), u[r].d(g)
      },
    }
  )
}
function u2(s) {
  let e, n, t, o, r, i
  const c = [g2, h2, $2],
    a = []
  function l(u, p) {
    return u[3] ? 0 : u[2].iconName ? 1 : 2
  }
  return (
    (n = l(s)),
    (t = a[n] = c[n](s)),
    {
      c() {
        ;(e = F("div")),
          t.c(),
          A(e, "class", "pulse-chip-container svelte-tiegzu")
      },
      m(u, p) {
        M(u, e, p),
          a[n].m(e, null),
          (o = !0),
          r || ((i = Wd(b1.call(null, e, s[6]))), (r = !0))
      },
      p(u, p) {
        let g = n
        ;(n = l(u)),
          n === g
            ? a[n].p(u, p)
            : (Y(),
              m(a[g], 1, 1, () => {
                a[g] = null
              }),
              X(),
              (t = a[n]),
              t ? t.p(u, p) : ((t = a[n] = c[n](u)), t.c()),
              d(t, 1),
              t.m(e, null))
      },
      i(u) {
        o || (d(t), (o = !0))
      },
      o(u) {
        m(t), (o = !1)
      },
      d(u) {
        u && x(e), a[n].d(), (r = !1), i()
      },
    }
  )
}
function d2(s) {
  let e, n
  return (
    (e = new l2({})),
    e.$on("click", function () {
      kt(s[2].onClick) && s[2].onClick.apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function f2(s) {
  let e, n
  return (
    (e = new I0({ props: { item: s[1], chatModel: s[0] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.item = t[1]), 1 & o && (r.chatModel = t[0]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function m2(s) {
  let e, n
  return (
    (e = new Q0({ props: { item: s[1] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.item = t[1]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function p2(s) {
  let e, n
  return (
    (e = new H0({
      props: { originalCode: s[1].selection.originalCode, onRemove: s[7] },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.originalCode = t[1].selection.originalCode), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $2(s) {
  let e, n
  return (
    (e = new to({
      props: {
        removeBtn: { title: s[2].removeTitle, onRemove: s[7] },
        showWarning: s[2].showWarning,
        $$slots: { default: [y2] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[2].onClick) && s[2].onClick.apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        4 & o && (r.removeBtn = { title: s[2].removeTitle, onRemove: s[7] }),
          4 & o && (r.showWarning = s[2].showWarning),
          4102 & o && (r.$$scope = { dirty: o, ctx: s }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function h2(s) {
  let e, n
  return (
    (e = new to({
      props: {
        removeBtn: { title: s[2].removeTitle, onRemove: s[7] },
        showWarning: s[2].showWarning,
        $$slots: { leftIcon: [C2], default: [_2] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[2].onClick) && s[2].onClick.apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        4 & o && (r.removeBtn = { title: s[2].removeTitle, onRemove: s[7] }),
          4 & o && (r.showWarning = s[2].showWarning),
          4102 & o && (r.$$scope = { dirty: o, ctx: s }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function g2(s) {
  let e, n
  return (
    (e = new to({
      props: {
        removeBtn: { title: s[2].removeTitle, onRemove: s[7] },
        showWarning: s[2].showWarning,
        $$slots: { leftButtons: [E2], default: [k2] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[2].onClick) && s[2].onClick.apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        4 & o && (r.removeBtn = { title: s[2].removeTitle, onRemove: s[7] }),
          4 & o && (r.showWarning = s[2].showWarning),
          4118 & o && (r.$$scope = { dirty: o, ctx: s }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function v2(s) {
  let e, n
  return (
    (e = new Kt({ props: { nopath: !0, filepath: s[2].filepath } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.filepath = t[2].filepath), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function w2(s) {
  let e, n
  return (
    (e = new tr({ props: { option: s[1], slot: "content" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.option = t[1]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function y2(s) {
  let e, n
  return (
    (e = new wt({
      props: { $$slots: { content: [w2], default: [v2] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4102 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function b2(s) {
  let e, n
  return (
    (e = new Kt({ props: { nopath: !0, filepath: s[2].filepath } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.filepath = t[2].filepath), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function x2(s) {
  let e, n
  return (
    (e = new tr({ props: { option: s[1], slot: "content" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.option = t[1]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function _2(s) {
  let e, n
  return (
    (e = new wt({
      props: { $$slots: { content: [x2], default: [b2] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4102 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function C2(s) {
  let e, n
  return (
    (e = new Ng({ props: { icon: s[2].iconName, slot: "leftIcon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.icon = t[2].iconName), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function M2(s) {
  let e, n
  return (
    (e = new Kt({ props: { nopath: !0, filepath: s[2].filepath } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.filepath = t[2].filepath), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function A2(s) {
  let e, n
  return (
    (e = new tr({ props: { option: s[1], slot: "content" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.option = t[1]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function k2(s) {
  let e, n
  return (
    (e = new wt({
      props: { $$slots: { content: [A2], default: [M2] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4102 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function E2(s) {
  let e, n
  const t = [s[4], { slot: "leftButtons" }]
  let o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return (
    (e = new gg({ props: o })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), (n = !0)
      },
      p(r, i) {
        const c = 16 & i ? Mt(t, [Jn(r[4]), t[1]]) : {}
        e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r)
      },
    }
  )
}
function I2(s) {
  let e,
    n,
    t = s[1] && nc(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, [r]) {
      o[1]
        ? t
          ? (t.p(o, r), 2 & r && d(t, 1))
          : ((t = nc(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function S2(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l = N,
    u = N,
    p = () => (u(), (u = mt(g, (C) => n(10, (a = C)))), g)
  s.$$.on_destroy.push(() => l()), s.$$.on_destroy.push(() => u())
  let { chatModel: g } = e
  p()
  let { item: h } = e,
    k = !1
  const I = new y1({
    onHoverStart: () => {
      n(8, (k = !0))
    },
    onHoverEnd: () => {
      n(8, (k = !1))
    },
    hoverTriggerDuration: 0,
  })
  return (
    (s.$$set = (C) => {
      "chatModel" in C && p(n(0, (g = C.chatModel))),
        "item" in C && n(1, (h = C.item))
    }),
    (s.$$.update = () => {
      1024 & s.$$.dirty &&
        (n(5, (t = a == null ? void 0 : a.specialContextInputModel)),
        l(),
        (l = mt(t, (C) => n(9, (c = C))))),
        2 & s.$$.dirty &&
          n(
            2,
            (o = ((C) => {
              const S = {
                onClick: void 0,
                removeTitle: "",
                filepath: "",
                pinnable: !0,
                iconName: void 0,
                showWarning: !1,
              }
              return Ls(C)
                ? {
                    ...S,
                    onClick: () =>
                      g == null ? void 0 : g.extensionClient.openFile(C.file),
                    removeTitle: "Remove file from context",
                    filepath: C.file.pathName,
                  }
                : Rs(C)
                  ? {
                      ...S,
                      onClick: () =>
                        g == null
                          ? void 0
                          : g.extensionClient.openFile(C.recentFile),
                      removeTitle: "Remove file from context",
                      filepath: C.recentFile.pathName,
                    }
                  : Ps(C)
                    ? {
                        ...S,
                        onClick: () =>
                          g == null
                            ? void 0
                            : g.extensionClient.openFile(C.folder),
                        removeTitle: "Remove folder from context",
                        filepath: C.folder.pathName,
                        iconName: "folder-opened",
                      }
                    : Ns(C)
                      ? {
                          ...S,
                          removeTitle: "Remove external source from context",
                          filepath: C.label,
                          iconName: "book",
                        }
                      : Vr(C)
                        ? {
                            ...S,
                            removeTitle: "Remove source folder from context",
                            filepath: C.sourceFolder.folderRoot,
                            iconName: "root-folder",
                            pinnable: !1,
                            showWarning: C.showWarning,
                          }
                        : pu(C)
                          ? { ...S, iconName: "root-folder", pinnable: !1 }
                          : $u(C)
                            ? {
                                ...S,
                                onClick: () => {
                                  const H =
                                    g == null
                                      ? void 0
                                      : g.flags.agentMemoriesFilePathName
                                  g != null &&
                                    g.currentConversationId &&
                                    g.extensionClient.reportAgentSessionEvent({
                                      eventName: Dr.openedMemoriesFile,
                                      conversationId: g.currentConversationId,
                                      eventData: {
                                        memoriesFileOpenData: {
                                          memoriesPathUndefined: !H,
                                        },
                                      },
                                    }),
                                    g == null ||
                                      g.extensionClient.openMemoriesFile()
                                },
                                pinnable: !1,
                              }
                            : S
            })(h)),
          ),
        514 & s.$$.dirty &&
          n(
            4,
            (r = {
              title: h.pinned ? "Unpin" : "Pin to context",
              onPin: () => (c == null ? void 0 : c.togglePinned(h)),
              isPinned: h.pinned,
            }),
          ),
        262 & s.$$.dirty && n(3, (i = o.pinnable && (k || h.pinned)))
    }),
    [
      g,
      h,
      o,
      i,
      r,
      t,
      I,
      () => {
        c == null || c.markInactive(h), c == null || c.unpin(h)
      },
      k,
      c,
      a,
    ]
  )
}
class T2 extends ne {
  constructor(e) {
    super(), oe(this, e, S2, I2, te, { chatModel: 0, item: 1 })
  }
}
function oc(s, e, n) {
  const t = s.slice()
  return (t[5] = e[n]), t
}
function rc(s) {
  let e, n
  return (
    (e = new T2({ props: { item: s[5], chatModel: s[0] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.item = t[5]), 1 & o && (r.chatModel = t[0]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function L2(s) {
  let e,
    n,
    t,
    o = ht(s[1]),
    r = []
  for (let c = 0; c < o.length; c += 1) r[c] = rc(oc(s, o, c))
  const i = (c) =>
    m(r[c], 1, 1, () => {
      r[c] = null
    })
  return {
    c() {
      ;(e = F("div")), (n = F("div"))
      for (let c = 0; c < r.length; c += 1) r[c].c()
      A(n, "class", "c-action-bar-context-container svelte-1wj2viq"),
        A(e, "class", "c-action-bar-context svelte-1wj2viq")
    },
    m(c, a) {
      M(c, e, a), B(e, n)
      for (let l = 0; l < r.length; l += 1) r[l] && r[l].m(n, null)
      t = !0
    },
    p(c, [a]) {
      if (3 & a) {
        let l
        for (o = ht(c[1]), l = 0; l < o.length; l += 1) {
          const u = oc(c, o, l)
          r[l]
            ? (r[l].p(u, a), d(r[l], 1))
            : ((r[l] = rc(u)), r[l].c(), d(r[l], 1), r[l].m(n, null))
        }
        for (Y(), l = o.length; l < r.length; l += 1) i(l)
        X()
      }
    },
    i(c) {
      if (!t) {
        for (let a = 0; a < o.length; a += 1) d(r[a])
        t = !0
      }
    },
    o(c) {
      r = r.filter(Boolean)
      for (let a = 0; a < r.length; a += 1) m(r[a])
      t = !1
    },
    d(c) {
      c && x(e), fn(r, c)
    },
  }
}
function R2(s, e, n) {
  let t,
    o,
    r = N
  s.$$.on_destroy.push(() => r())
  let { chatModel: i } = e,
    c = []
  return (
    (s.$$set = (a) => {
      "chatModel" in a && n(0, (i = a.chatModel))
    }),
    (s.$$.update = () => {
      if (
        (1 & s.$$.dirty &&
          (n(2, (t = i.specialContextInputModel)),
          r(),
          (r = mt(t, (a) => n(3, (o = a))))),
        1 & s.$$.dirty && i.currentConversationModel,
        8 & s.$$.dirty)
      ) {
        const a = o.recentActiveItems,
          l = [],
          u = a.filter((p) => !Vr(p) || (l.push(p), !1))
        l.length > 1
          ? (u.push({
              id: "sourceFoldersGroup",
              label: "Repos",
              status: a1.active,
              sourceFolderGroup: l.sort((p, g) => {
                const h = Cs(p.sourceFolder.folderRoot),
                  k = Cs(g.sourceFolder.folderRoot)
                return h.localeCompare(k)
              }),
              referenceCount: 1,
            }),
            n(1, (c = u.reverse())))
          : n(1, (c = a.reverse()))
      }
    }),
    [i, c, t, o]
  )
}
class P2 extends ne {
  constructor(e) {
    super(), oe(this, e, R2, L2, te, { chatModel: 0 })
  }
}
const N2 = (s) => ({}),
  sc = (s) => ({}),
  F2 = (s) => ({}),
  ic = (s) => ({})
function D2(s) {
  let e, n, t, o, r
  const i = s[1].leftAlign,
    c = Ze(i, s, s[0], ic),
    a = s[1].rightAlign,
    l = Ze(a, s, s[0], sc)
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        c && c.c(),
        (t = j()),
        (o = F("div")),
        l && l.c(),
        A(n, "class", "c-input-action-bar__left-align"),
        A(o, "class", "c-input-action-bar__right-align"),
        A(e, "class", "c-input-action-bar svelte-188f6za")
    },
    m(u, p) {
      M(u, e, p),
        B(e, n),
        c && c.m(n, null),
        B(e, t),
        B(e, o),
        l && l.m(o, null),
        (r = !0)
    },
    p(u, [p]) {
      c &&
        c.p &&
        (!r || 1 & p) &&
        Je(c, i, u, u[0], r ? et(i, u[0], p, F2) : Qe(u[0]), ic),
        l &&
          l.p &&
          (!r || 1 & p) &&
          Je(l, a, u, u[0], r ? et(a, u[0], p, N2) : Qe(u[0]), sc)
    },
    i(u) {
      r || (d(c, u), d(l, u), (r = !0))
    },
    o(u) {
      m(c, u), m(l, u), (r = !1)
    },
    d(u) {
      u && x(e), c && c.d(u), l && l.d(u)
    },
  }
}
function O2(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e
  return (
    (s.$$set = (r) => {
      "$$scope" in r && n(0, (o = r.$$scope))
    }),
    [o, t]
  )
}
function z2(s) {
  let e
  const n = s[2].default,
    t = Ze(n, s, s[3], null)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 8 & r) &&
        Je(t, n, o, o[3], e ? et(n, o[3], r, null) : Qe(o[3]), null)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function B2(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 1,
        variant: "solid",
        disabled: s[0],
        "data-input-action-bar___send-split-button": "true",
        $$slots: { default: [z2] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("keyup", function () {
      kt(Fn("Enter", s[1])) && Fn("Enter", s[1]).apply(this, arguments)
    }),
    e.$on("click", function () {
      kt(s[1]) && s[1].apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        s = t
        const r = {}
        1 & o && (r.disabled = s[0]),
          8 & o && (r.$$scope = { dirty: o, ctx: s }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function j2(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { disabled: r = !1 } = e,
    { onSend: i } = e
  return (
    (s.$$set = (c) => {
      "disabled" in c && n(0, (r = c.disabled)),
        "onSend" in c && n(1, (i = c.onSend)),
        "$$scope" in c && n(3, (o = c.$$scope))
    }),
    [r, i, t, o]
  )
}
class Ju extends ne {
  constructor(e) {
    super(), oe(this, e, j2, B2, te, { disabled: 0, onSend: 1 })
  }
}
function ac(s, e, n) {
  const t = s.slice()
  t[11] = e[n]
  const o = t[2][t[11]]
  t[12] = o
  const r = t[11] === t[4].currentConversationModel.selectedModelId
  return (t[13] = r), t
}
function cc(s) {
  let e, n
  return (
    (e = new Fe.Root({
      props: { open: s[3], $$slots: { default: [X2] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.open = t[3]),
          1039 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function H2(s) {
  let e, n
  return (
    (e = new Qo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function U2(s) {
  let e, n
  return (
    (e = new fu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function W2(s) {
  let e, n, t, o
  const r = [U2, H2],
    i = []
  function c(a, l) {
    return a[3] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function q2(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "solid",
        disabled: s[0],
        "data-input-action-bar__model-select-button": "true",
        $$slots: { default: [W2] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[6]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.disabled = t[0]),
          1032 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function G2(s) {
  let e
  return {
    c() {
      e = K("Models")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function V2(s) {
  let e,
    n,
    t = s[12] + ""
  return {
    c() {
      ;(e = K(t)), (n = j())
    },
    m(o, r) {
      M(o, e, r), M(o, n, r)
    },
    p(o, r) {
      4 & r && t !== (t = o[12] + "") && ze(e, t)
    },
    d(o) {
      o && (x(e), x(n))
    },
  }
}
function lc(s) {
  let e, n
  function t() {
    return s[7](s[11])
  }
  return (
    (e = new Fe.Item({
      props: {
        highlight: s[13],
        onSelect: t,
        $$slots: { default: [V2] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        s = o
        const i = {}
        4 & r && (i.highlight = s[13]),
          14 & r && (i.onSelect = t),
          1028 & r && (i.$$scope = { dirty: r, ctx: s }),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        b(e, o)
      },
    }
  )
}
function Y2(s) {
  let e, n, t, o
  e = new Fe.Label({
    props: { $$slots: { default: [G2] }, $$scope: { ctx: s } },
  })
  let r = ht(Object.keys(s[2])),
    i = []
  for (let a = 0; a < r.length; a += 1) i[a] = lc(ac(s, r, a))
  const c = (a) =>
    m(i[a], 1, 1, () => {
      i[a] = null
    })
  return {
    c() {
      w(e.$$.fragment), (n = j())
      for (let a = 0; a < i.length; a += 1) i[a].c()
      t = he()
    },
    m(a, l) {
      y(e, a, l), M(a, n, l)
      for (let u = 0; u < i.length; u += 1) i[u] && i[u].m(a, l)
      M(a, t, l), (o = !0)
    },
    p(a, l) {
      const u = {}
      if ((1024 & l && (u.$$scope = { dirty: l, ctx: a }), e.$set(u), 30 & l)) {
        let p
        for (r = ht(Object.keys(a[2])), p = 0; p < r.length; p += 1) {
          const g = ac(a, r, p)
          i[p]
            ? (i[p].p(g, l), d(i[p], 1))
            : ((i[p] = lc(g)), i[p].c(), d(i[p], 1), i[p].m(t.parentNode, t))
        }
        for (Y(), p = r.length; p < i.length; p += 1) c(p)
        X()
      }
    },
    i(a) {
      if (!o) {
        d(e.$$.fragment, a)
        for (let l = 0; l < r.length; l += 1) d(i[l])
        o = !0
      }
    },
    o(a) {
      m(e.$$.fragment, a), (i = i.filter(Boolean))
      for (let l = 0; l < i.length; l += 1) m(i[l])
      o = !1
    },
    d(a) {
      a && (x(n), x(t)), b(e, a), fn(i, a)
    },
  }
}
function X2(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [q2] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "top",
        align: "end",
        onClickOutside: s[8],
        onEscapeKeyDown: s[9],
        $$slots: { default: [Y2] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1033 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        8 & i && (a.onClickOutside = r[8]),
          8 & i && (a.onEscapeKeyDown = r[9]),
          1038 & i && (a.$$scope = { dirty: i, ctx: r }),
          t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function K2(s) {
  let e,
    n,
    t,
    o = Object.keys(s[2]).length > 1
  const r = s[5].default,
    i = Ze(r, s, s[10], null)
  let c = o && cc(s)
  return {
    c() {
      ;(e = F("div")),
        i && i.c(),
        (n = j()),
        c && c.c(),
        A(e, "class", "c-send-split-button svelte-148s7n0")
    },
    m(a, l) {
      M(a, e, l), i && i.m(e, null), B(e, n), c && c.m(e, null), (t = !0)
    },
    p(a, [l]) {
      i &&
        i.p &&
        (!t || 1024 & l) &&
        Je(i, r, a, a[10], t ? et(r, a[10], l, null) : Qe(a[10]), null),
        4 & l && (o = Object.keys(a[2]).length > 1),
        o
          ? c
            ? (c.p(a, l), 4 & l && d(c, 1))
            : ((c = cc(a)), c.c(), d(c, 1), c.m(e, null))
          : c &&
            (Y(),
            m(c, 1, 1, () => {
              c = null
            }),
            X())
    },
    i(a) {
      t || (d(i, a), d(c), (t = !0))
    },
    o(a) {
      m(i, a), m(c), (t = !1)
    },
    d(a) {
      a && x(e), i && i.d(a), c && c.d()
    },
  }
}
function Z2(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { disabled: r = !1 } = e,
    { onSelectModel: i } = e,
    { modelIdToDisplayName: c } = e
  const a = Xe("chatModel")
  if (!a) throw new Error("ChatModel not found in context")
  let l = !1
  return (
    (s.$$set = (u) => {
      "disabled" in u && n(0, (r = u.disabled)),
        "onSelectModel" in u && n(1, (i = u.onSelectModel)),
        "modelIdToDisplayName" in u && n(2, (c = u.modelIdToDisplayName)),
        "$$scope" in u && n(10, (o = u.$$scope))
    }),
    [
      r,
      i,
      c,
      l,
      a,
      t,
      () => n(3, (l = !l)),
      (u) => {
        i(u), n(3, (l = !1))
      },
      () => n(3, (l = !1)),
      () => n(3, (l = !1)),
      o,
    ]
  )
}
class J2 extends ne {
  constructor(e) {
    super(),
      oe(this, e, Z2, K2, te, {
        disabled: 0,
        onSelectModel: 1,
        modelIdToDisplayName: 2,
      })
  }
}
function uc(s) {
  let e, n
  return {
    c() {
      ;(e = F("span")),
        (n = K(s[4])),
        A(e, "class", "c-model-preference-name svelte-unwyym")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p(t, o) {
      16 & o && ze(n, t[4])
    },
    d(t) {
      t && x(e)
    },
  }
}
function Q2(s) {
  var c
  let e,
    n,
    t,
    o,
    r = s[4] && ((c = s[4]) == null ? void 0 : c.toLowerCase()) !== "default"
  e = new H1({})
  let i = r && uc(s)
  return {
    c() {
      w(e.$$.fragment), (n = j()), i && i.c(), (t = he())
    },
    m(a, l) {
      y(e, a, l), M(a, n, l), i && i.m(a, l), M(a, t, l), (o = !0)
    },
    p(a, l) {
      var u
      16 & l &&
        (r =
          a[4] &&
          ((u = a[4]) == null ? void 0 : u.toLowerCase()) !== "default"),
        r
          ? i
            ? i.p(a, l)
            : ((i = uc(a)), i.c(), i.m(t.parentNode, t))
          : i && (i.d(1), (i = null))
    },
    i(a) {
      o || (d(e.$$.fragment, a), (o = !0))
    },
    o(a) {
      m(e.$$.fragment, a), (o = !1)
    },
    d(a) {
      a && (x(n), x(t)), b(e, a), i && i.d(a)
    },
  }
}
function ev(s) {
  let e, n
  return (
    (e = new Ju({
      props: {
        disabled: s[1],
        onSend: s[0],
        $$slots: { default: [Q2] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.disabled = t[1]),
          1 & o && (r.onSend = t[0]),
          8208 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function tv(s) {
  let e, n
  return (
    (e = new J2({
      props: {
        disabled: s[1],
        onSelectModel: s[11],
        modelIdToDisplayName: s[3],
        $$slots: { default: [ev] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.disabled = t[1]),
          64 & o && (r.onSelectModel = t[11]),
          8 & o && (r.modelIdToDisplayName = t[3]),
          8211 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function nv(s) {
  let e, n
  return (
    (e = new wt({
      props: {
        content: s[1] ? s[2] : "",
        triggerOn: s[1] ? [Lt.Hover] : [],
        $$slots: { default: [tv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        6 & o && (r.content = t[1] ? t[2] : ""),
          2 & o && (r.triggerOn = t[1] ? [Lt.Hover] : []),
          8283 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ov(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l = N,
    u = N
  s.$$.on_destroy.push(() => l()), s.$$.on_destroy.push(() => u())
  const p = Xe("chatModel")
  Ge(s, p, (S) => n(10, (a = S)))
  const g = Xe("agentConversationModel")
  if (!p) throw new Error("ChatModel not found in context")
  if (!g) throw new Error("AgentConversationModel not found in context")
  let { primaryAction: h } = e,
    { isDisabled: k = !1 } = e,
    { disabledReason: I = "" } = e,
    C = {}
  return (
    (s.$$set = (S) => {
      "primaryAction" in S && n(0, (h = S.primaryAction)),
        "isDisabled" in S && n(1, (k = S.isDisabled)),
        "disabledReason" in S && n(2, (I = S.disabledReason))
    }),
    (s.$$.update = () => {
      1024 & s.$$.dirty &&
        (n(6, (t = a.currentConversationModel)),
        l(),
        (l = mt(t, (S) => n(8, (i = S))))),
        1024 & s.$$.dirty &&
          (n(5, (o = a.flags)), u(), (u = mt(o, (S) => n(9, (c = S))))),
        1024 & s.$$.dirty &&
          n(
            3,
            (C = Object.fromEntries(
              Object.entries(a.flags.modelDisplayNameToId).map(([S, H]) => [
                H,
                S,
              ]),
            )),
          ),
        768 & s.$$.dirty && n(4, (r = c.getModelDisplayName(i.selectedModelId)))
    }),
    [h, k, I, C, r, o, t, p, i, c, a, (S) => t.setSelectedModelId(S)]
  )
}
const Zn = class Zn {
  constructor(e, n) {
    Z(this, "_disposers", [])
    Z(this, "_allMentionables", Ct([]))
    Z(this, "_breadcrumbIds", Ct([]))
    Z(this, "_userQuery", Ct(""))
    Z(this, "_active", Ct(!1))
    Z(
      this,
      "_allGroups",
      Jt([this._active, this._allMentionables], ([e, n]) => (e ? c1(n) : [])),
    )
    Z(
      this,
      "_currentGroup",
      Jt([this._breadcrumbIds, this._allGroups], ([e, n]) => {
        if (e.length === 0) return
        const t = e[e.length - 1]
        return n.find((o) => Yo(o) && o.id === t)
      }),
    )
    Z(this, "dispose", () => {
      for (const e of this._disposers) e()
    })
    Z(this, "openDropdown", () => {
      this._active.set(!0)
    })
    Z(this, "closeDropdown", () => {
      this._active.set(!1), this._resetState()
    })
    Z(this, "toggleDropdown", () =>
      ft(this._active) ? (this.closeDropdown(), !1) : (this.openDropdown(), !0),
    )
    Z(this, "pushBreadcrumb", (e) => {
      ft(this._active) && this._breadcrumbIds.update((n) => [...n, e.id])
    })
    Z(this, "popBreadcrumb", () => {
      ft(this._active) && this._breadcrumbIds.update((e) => e.slice(0, -1))
    })
    Z(this, "selectMentionable", (e) => {
      var o
      const n = this._chatModel.extensionClient,
        t = this._chatModel.specialContextInputModel
      return Yo(e) && e.type === "breadcrumb"
        ? (this.pushBreadcrumb(e), !0)
        : e.type === "breadcrumb-back"
          ? (this.popBreadcrumb(), !0)
          : hu(e)
            ? (t.markAllActive(),
              this.closeDropdown(),
              n.reportWebviewClientEvent(lo.chatRestoreDefaultContext),
              !0)
            : e.clearContext
              ? (t.markAllInactive(),
                this.closeDropdown(),
                n.reportWebviewClientEvent(lo.chatClearContext),
                !0)
              : e.userGuidelines
                ? (n.openSettingsPage("userGuidelines"),
                  this.closeDropdown(),
                  !0)
                : ((o = this._insertMentionNode) == null || o.call(this, e),
                  this.closeDropdown(),
                  !0)
    })
    Z(
      this,
      "_displayItems",
      Jt(
        [
          this._active,
          this._breadcrumbIds,
          this._userQuery,
          this._currentGroup,
          this.allGroups,
        ],
        ([e, n, t, o, r]) =>
          e
            ? n.length > 0 && o
              ? [
                  { ...o, type: "breadcrumb-back" },
                  ...o.group.items
                    .slice(0, Zn.SINGLE_GROUP_MAX_ITEMS)
                    .map((i) => ({ ...i, type: "item" })),
                ]
              : t.length > 0
                ? r.flatMap((i) => [
                    { ...i, type: "breadcrumb" },
                    ...i.group.items
                      .slice(0, Zn.MULTI_GROUP_MAX_ITEMS)
                      .map((c) => ({ ...c, type: "item" })),
                  ])
                : [
                    { ...l1, type: "item" },
                    ...r.map((i) => ({ ...i, type: "breadcrumb" })),
                    { ...u1, type: "item" },
                    { ...d1, type: "item" },
                  ]
            : [],
      ),
    )
    Z(this, "_refreshSeqNum", 0)
    Z(
      this,
      "_refreshMentionables",
      cu.throttle(
        async () => {
          if (!ft(this._active)) return
          this._refreshSeqNum++
          const e = this._refreshSeqNum,
            n =
              this._chatModel.currentConversationModel &&
              Bt(this._chatModel.currentConversationModel),
            t = ft(this._userQuery),
            o = await this._chatModel.extensionClient.getSuggestions(t, n)
          e === this._refreshSeqNum && this._allMentionables.set(rv(t, o))
        },
        Zn.REFRESH_THROTTLE_MS,
        { leading: !0, trailing: !0 },
      ),
    )
    ;(this._chatModel = e),
      (this._insertMentionNode = n),
      this._disposers.push(
        this._userQuery.subscribe(this._refreshMentionables),
      ),
      this._disposers.push(this._active.subscribe(this._refreshMentionables))
  }
  get allGroups() {
    return this._allGroups
  }
  get currentGroup() {
    return this._currentGroup
  }
  get breadcrumbIds() {
    return this._breadcrumbIds
  }
  get displayItems() {
    return this._displayItems
  }
  get active() {
    return this._active
  }
  get userQuery() {
    return this._userQuery
  }
  _resetState() {
    this._breadcrumbIds.set([]), this._userQuery.set("")
  }
}
Z(Zn, "REFRESH_THROTTLE_MS", 600),
  Z(Zn, "SINGLE_GROUP_MAX_ITEMS", 12),
  Z(Zn, "MULTI_GROUP_MAX_ITEMS", 6)
let jr = Zn
const rv = (s, e) => {
  if (s.length <= 1) return e
  const n = new bo(e, {
    keys: ["label"],
    threshold: 1,
    minMatchCharLength: 0,
    ignoreLocation: !0,
    includeScore: !0,
    useExtendedSearch: !1,
    shouldSort: !0,
    findAllMatches: !0,
  }).search(s)
  return n.length === 0 ? e : n.map((t) => t.item)
}
function sv(s) {
  let e,
    n,
    t,
    o = s[0].label + ""
  return {
    c() {
      ;(e = F("span")),
        (n = F("span")),
        (t = K(o)),
        A(n, "class", "c-mentionable-group-label__text right"),
        A(e, "class", "c-mentionable-group-label")
    },
    m(r, i) {
      M(r, e, i), B(e, n), B(n, t)
    },
    p(r, i) {
      1 & i && o !== (o = r[0].label + "") && ze(t, o)
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function iv(s) {
  let e, n
  return (
    (e = new xu({
      props: { $$slots: { text: [$v], leftIcon: [pv] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        17 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function av(s) {
  let e,
    n = s[0].label + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      1 & o && n !== (n = t[0].label + "") && ze(e, n)
    },
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
function cv(s) {
  let e, n
  return (
    (e = new Kt({
      props: {
        filepath: s[0].recentFile.pathName,
        $$slots: { leftIcon: [hv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.filepath = t[0].recentFile.pathName),
          16 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function lv(s) {
  let e, n
  return (
    (e = new Kt({
      props: {
        filepath: s[0].selection.pathName,
        $$slots: { leftIcon: [gv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.filepath = t[0].selection.pathName),
          16 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function uv(s) {
  let e, n
  return (
    (e = new Kt({
      props: {
        filepath: s[0].sourceFolder.folderRoot,
        $$slots: { leftIcon: [vv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.filepath = t[0].sourceFolder.folderRoot),
          16 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function dv(s) {
  let e, n
  return (
    (e = new Kt({
      props: {
        filepath: s[0].externalSource.name,
        $$slots: { leftIcon: [wv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.filepath = t[0].externalSource.name),
          16 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function fv(s) {
  let e, n
  return (
    (e = new Kt({
      props: {
        filepath: s[0].folder.pathName,
        $$slots: { leftIcon: [yv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.filepath = t[0].folder.pathName),
          16 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function mv(s) {
  let e, n
  return (
    (e = new Kt({
      props: {
        filepath: s[0].file.pathName,
        $$slots: { leftIcon: [bv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.filepath = t[0].file.pathName),
          16 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function pv(s) {
  let e, n, t
  var o = Br(s[0].personality.type)
  return (
    o && (n = Cn(o, {})),
    {
      c() {
        ;(e = F("span")),
          n && w(n.$$.fragment),
          A(e, "slot", "leftIcon"),
          A(e, "class", "c-context-menu-item__icon svelte-1b93fdw")
      },
      m(r, i) {
        M(r, e, i), n && y(n, e, null), (t = !0)
      },
      p(r, i) {
        if (1 & i && o !== (o = Br(r[0].personality.type))) {
          if (n) {
            Y()
            const c = n
            m(c.$$.fragment, 1, 0, () => {
              b(c, 1)
            }),
              X()
          }
          o
            ? ((n = Cn(o, {})),
              w(n.$$.fragment),
              d(n.$$.fragment, 1),
              y(n, e, null))
            : (n = null)
        }
      },
      i(r) {
        t || (n && d(n.$$.fragment, r), (t = !0))
      },
      o(r) {
        n && m(n.$$.fragment, r), (t = !1)
      },
      d(r) {
        r && x(e), n && b(n)
      },
    }
  )
}
function $v(s) {
  let e,
    n,
    t = s[0].label + ""
  return {
    c() {
      ;(e = F("span")), (n = K(t)), A(e, "slot", "text")
    },
    m(o, r) {
      M(o, e, r), B(e, n)
    },
    p(o, r) {
      1 & r && t !== (t = o[0].label + "") && ze(n, t)
    },
    d(o) {
      o && x(e)
    },
  }
}
function hv(s) {
  let e, n
  return (
    (e = new eo({ props: { slot: "leftIcon", iconName: "description" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function gv(s) {
  let e, n
  return (
    (e = new eo({
      props: { slot: "leftIcon", iconName: "text_select_start" },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function vv(s) {
  let e, n
  return (
    (e = new eo({ props: { slot: "leftIcon", iconName: "folder_managed" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function wv(s) {
  let e, n
  return (
    (e = new eo({ props: { slot: "leftIcon", iconName: "import_contacts" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function yv(s) {
  let e, n
  return (
    (e = new eo({ props: { slot: "leftIcon", iconName: "folder_open" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function bv(s) {
  let e, n
  return (
    (e = new eo({ props: { slot: "leftIcon", iconName: "description" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function xv(s) {
  let e, n, t, o, r, i, c, a, l, u, p, g, h
  const k = [mv, fv, dv, uv, lv, cv, av, iv, sv],
    I = []
  function C(S, H) {
    return (
      1 & H && (e = null),
      1 & H && (n = null),
      1 & H && (t = null),
      1 & H && (o = null),
      1 & H && (r = null),
      1 & H && (i = null),
      1 & H && (c = null),
      1 & H && (a = null),
      1 & H && (l = null),
      e == null && (e = !!Ls(S[0])),
      e
        ? 0
        : (n == null && (n = !!Ps(S[0])),
          n
            ? 1
            : (t == null && (t = !!Ns(S[0])),
              t
                ? 2
                : (o == null && (o = !!Vr(S[0])),
                  o
                    ? 3
                    : (r == null && (r = !!Ds(S[0])),
                      r
                        ? 4
                        : (i == null && (i = !!Rs(S[0])),
                          i
                            ? 5
                            : (c == null && (c = !!Yo(S[0])),
                              c
                                ? 6
                                : (a == null && (a = !!mu(S[0])),
                                  a
                                    ? 7
                                    : (l == null &&
                                        (l = !!(
                                          hu(S[0]) ||
                                          f1(S[0]) ||
                                          Fs(S[0])
                                        )),
                                      l ? 8 : -1))))))))
    )
  }
  return (
    ~(u = C(s, -1)) && (p = I[u] = k[u](s)),
    {
      c() {
        p && p.c(), (g = he())
      },
      m(S, H) {
        ~u && I[u].m(S, H), M(S, g, H), (h = !0)
      },
      p(S, H) {
        let O = u
        ;(u = C(S, H)),
          u === O
            ? ~u && I[u].p(S, H)
            : (p &&
                (Y(),
                m(I[O], 1, 1, () => {
                  I[O] = null
                }),
                X()),
              ~u
                ? ((p = I[u]),
                  p ? p.p(S, H) : ((p = I[u] = k[u](S)), p.c()),
                  d(p, 1),
                  p.m(g.parentNode, g))
                : (p = null))
      },
      i(S) {
        h || (d(p), (h = !0))
      },
      o(S) {
        m(p), (h = !1)
      },
      d(S) {
        S && x(g), ~u && I[u].d(S)
      },
    }
  )
}
function _v(s) {
  let e, n, t
  var o = s[3]
  function r(i, c) {
    return {
      props: {
        highlight: i[2],
        onSelect: i[1],
        $$slots: { default: [xv] },
        $$scope: { ctx: i },
      },
    }
  }
  return (
    o && (e = Cn(o, r(s))),
    {
      c() {
        e && w(e.$$.fragment), (n = he())
      },
      m(i, c) {
        e && y(e, i, c), M(i, n, c), (t = !0)
      },
      p(i, [c]) {
        if (8 & c && o !== (o = i[3])) {
          if (e) {
            Y()
            const a = e
            m(a.$$.fragment, 1, 0, () => {
              b(a, 1)
            }),
              X()
          }
          o
            ? ((e = Cn(o, r(i))),
              w(e.$$.fragment),
              d(e.$$.fragment, 1),
              y(e, n.parentNode, n))
            : (e = null)
        } else if (o) {
          const a = {}
          4 & c && (a.highlight = i[2]),
            2 & c && (a.onSelect = i[1]),
            17 & c && (a.$$scope = { dirty: c, ctx: i }),
            e.$set(a)
        }
      },
      i(i) {
        t || (e && d(e.$$.fragment, i), (t = !0))
      },
      o(i) {
        e && m(e.$$.fragment, i), (t = !1)
      },
      d(i) {
        i && x(n), e && b(e, i)
      },
    }
  )
}
function Cv(s, e, n) {
  let t,
    { item: o } = e,
    { onSelect: r } = e,
    { highlight: i } = e
  return (
    (s.$$set = (c) => {
      "item" in c && n(0, (o = c.item)),
        "onSelect" in c && n(1, (r = c.onSelect)),
        "highlight" in c && n(2, (i = c.highlight))
    }),
    (s.$$.update = () => {
      1 & s.$$.dirty &&
        (o.type === "breadcrumb-back"
          ? n(3, (t = Fe.BreadcrumbBackItem))
          : o.type === "breadcrumb" && Yo(o)
            ? n(3, (t = Fe.BreadcrumbItem))
            : o.type !== "item" || Yo(o) || n(3, (t = Fe.Item)))
    }),
    [o, r, i, t]
  )
}
class Qu extends ne {
  constructor(e) {
    super(), oe(this, e, Cv, _v, te, { item: 0, onSelect: 1, highlight: 2 })
  }
}
const Mv = (s) => ({}),
  dc = (s) => ({})
function fc(s) {
  let e, n
  return {
    c() {
      ;(e = F("span")),
        (n = K(s[0])),
        A(e, "class", "c-input-action-bar-command__command svelte-xsyu9p")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p(t, o) {
      1 & o && ze(n, t[0])
    },
    d(t) {
      t && x(e)
    },
  }
}
function Av(s) {
  let e, n, t, o
  const r = s[3].symbol,
    i = Ze(r, s, s[2], dc),
    c =
      i ||
      (function (l) {
        let u
        return {
          c() {
            u = K(l[1])
          },
          m(p, g) {
            M(p, u, g)
          },
          p(p, g) {
            2 & g && ze(u, p[1])
          },
          d(p) {
            p && x(u)
          },
        }
      })(s)
  let a = s[0] && fc(s)
  return {
    c() {
      ;(e = F("span")),
        (n = F("span")),
        c && c.c(),
        (t = j()),
        a && a.c(),
        A(n, "class", "c-input-action-bar-command__symbol svelte-xsyu9p"),
        A(e, "class", "c-input-action-bar-command svelte-xsyu9p")
    },
    m(l, u) {
      M(l, e, u),
        B(e, n),
        c && c.m(n, null),
        B(e, t),
        a && a.m(e, null),
        (o = !0)
    },
    p(l, [u]) {
      i
        ? i.p &&
          (!o || 4 & u) &&
          Je(i, r, l, l[2], o ? et(r, l[2], u, Mv) : Qe(l[2]), dc)
        : c && c.p && (!o || 2 & u) && c.p(l, o ? u : -1),
        l[0]
          ? a
            ? a.p(l, u)
            : ((a = fc(l)), a.c(), a.m(e, null))
          : a && (a.d(1), (a = null))
    },
    i(l) {
      o || (d(c, l), (o = !0))
    },
    o(l) {
      m(c, l), (o = !1)
    },
    d(l) {
      l && x(e), c && c.d(l), a && a.d()
    },
  }
}
function kv(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { command: r } = e,
    { symbol: i = "/" } = e
  return (
    (s.$$set = (c) => {
      "command" in c && n(0, (r = c.command)),
        "symbol" in c && n(1, (i = c.symbol)),
        "$$scope" in c && n(2, (o = c.$$scope))
    }),
    [r, i, o, t]
  )
}
class Gs extends ne {
  constructor(e) {
    super(), oe(this, e, kv, Av, te, { command: 0, symbol: 1 })
  }
}
function Ev(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 512 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208c13.3 0 24 10.7 24 24s-10.7 24-24 24C114.6 512 0 397.4 0 256S114.6 0 256 0s256 114.6 256 256v28c0 50.8-41.2 92-92 92-31.1 0-58.7-15.5-75.3-39.2-22 24.1-53.6 39.2-88.7 39.2-66.3 0-120-53.7-120-120s53.7-120 120-120c28.8 0 55.2 10.1 75.8 27 4.3-6.6 11.7-11 20.2-11 13.3 0 24 10.7 24 24v108c0 24.3 19.7 44 44 44s44-19.7 44-44v-28c0-114.9-93.1-208-208-208m72 208a72 72 0 1 0-144 0 72 72 0 1 0 144 0"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 512 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Iv(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Sv extends ne {
  constructor(e) {
    super(), oe(this, e, Iv, Ev, te, {})
  }
}
function mc(s, e, n) {
  const t = s.slice()
  return (t[21] = e[n]), t
}
function Tv(s) {
  let e, n
  return (
    (e = new Sv({ props: { slot: "symbol" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Lv(s) {
  let e, n, t
  return (
    (n = new Gs({ props: { $$slots: { symbol: [Tv] }, $$scope: { ctx: s } } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-context-menu__trigger-text svelte-1jreht0")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        16777216 & r && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Rv(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 1,
        variant: "ghost",
        color: "accent",
        $$slots: { default: [Lv] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[2]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        16777216 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function pc(s) {
  let e, n
  function t() {
    return s[15](s[21])
  }
  return (
    (e = new Qu({ props: { item: s[21], onSelect: t } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        s = o
        const i = {}
        32 & r && (i.item = s[21]), 32 & r && (i.onSelect = t), e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        b(e, o)
      },
    }
  )
}
function Pv(s) {
  let e,
    n,
    t,
    o,
    r,
    i,
    c,
    a = ht(s[5]),
    l = []
  for (let h = 0; h < a.length; h += 1) l[h] = pc(mc(s, a, h))
  const u = (h) =>
    m(l[h], 1, 1, () => {
      l[h] = null
    })
  function p(h) {
    s[16](h)
  }
  t = new Fe.Separator({})
  let g = { placeholder: "Focus context" }
  return (
    s[6] !== void 0 && (g.value = s[6]),
    (r = new Fe.TextFieldItem({ props: g })),
    bt.push(() => Qt(r, "value", p)),
    {
      c() {
        e = F("div")
        for (let h = 0; h < l.length; h += 1) l[h].c()
        ;(n = j()),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment),
          A(e, "class", "c-context-menu__items svelte-1jreht0")
      },
      m(h, k) {
        M(h, e, k)
        for (let I = 0; I < l.length; I += 1) l[I] && l[I].m(e, null)
        M(h, n, k), y(t, h, k), M(h, o, k), y(r, h, k), (c = !0)
      },
      p(h, k) {
        if (800 & k) {
          let C
          for (a = ht(h[5]), C = 0; C < a.length; C += 1) {
            const S = mc(h, a, C)
            l[C]
              ? (l[C].p(S, k), d(l[C], 1))
              : ((l[C] = pc(S)), l[C].c(), d(l[C], 1), l[C].m(e, null))
          }
          for (Y(), C = a.length; C < l.length; C += 1) u(C)
          X()
        }
        const I = {}
        !i && 64 & k && ((i = !0), (I.value = h[6]), tn(() => (i = !1))),
          r.$set(I)
      },
      i(h) {
        if (!c) {
          for (let k = 0; k < a.length; k += 1) d(l[k])
          d(t.$$.fragment, h), d(r.$$.fragment, h), (c = !0)
        }
      },
      o(h) {
        l = l.filter(Boolean)
        for (let k = 0; k < l.length; k += 1) m(l[k])
        m(t.$$.fragment, h), m(r.$$.fragment, h), (c = !1)
      },
      d(h) {
        h && (x(e), x(n), x(o)), fn(l, h), b(t, h), b(r, h)
      },
    }
  )
}
function Nv(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [Rv] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "top",
        align: "start",
        onClickOutside: s[1],
        onEscapeKeyDown: s[1],
        onRequestClose: s[1],
        $$slots: { default: [Pv] },
        $$scope: { ctx: s },
      },
    })),
    t.$on("keydown", s[7]),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        16777216 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        16777312 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Fv(s) {
  let e,
    n,
    t = {
      open: s[4],
      onOpenChange: s[17],
      nested: !1,
      $$slots: { default: [Nv] },
      $$scope: { ctx: s },
    }
  return (
    (e = new Fe.Root({ props: t })),
    s[18](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, [r]) {
        const i = {}
        16 & r && (i.open = o[4]),
          1 & r && (i.onOpenChange = o[17]),
          16777312 & r && (i.$$scope = { dirty: r, ctx: o }),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[18](null), b(e, o)
      },
    }
  )
}
function Dv(s, e, n) {
  let t,
    o,
    r,
    i,
    { onCloseDropdown: c = () => {} } = e,
    { onInsertMentionable: a } = e
  const l = Xe("chatModel")
  if (!l) throw new Error("ChatModel not found in context")
  const u = () => {
      i == null || i.focusIdx(-1)
    },
    p = () => {
      i == null || i.focusIdx(0)
    },
    g = new jr(l, (C) => !!a && a(C)),
    { displayItems: h, active: k, userQuery: I } = g
  return (
    Ge(s, h, (C) => n(5, (o = C))),
    Ge(s, k, (C) => n(4, (t = C))),
    Ge(s, I, (C) => n(6, (r = C))),
    ko(g.dispose),
    (s.$$set = (C) => {
      "onCloseDropdown" in C && n(0, (c = C.onCloseDropdown)),
        "onInsertMentionable" in C && n(13, (a = C.onInsertMentionable))
    }),
    [
      c,
      async () => {
        g.closeDropdown()
      },
      async () => {
        g.toggleDropdown() && (await jo(), u())
      },
      i,
      t,
      o,
      r,
      async (C) => {
        switch (C.key) {
          case "ArrowLeft":
            C.preventDefault(),
              g.popBreadcrumb(),
              await jo(),
              i == null || i.focusIdx(0)
            break
          case "ArrowRight":
          case "ArrowDown":
          case "ArrowUp":
          case "Enter":
            break
          default:
            C.defaultPrevented || u()
        }
      },
      p,
      g,
      h,
      k,
      I,
      a,
      async () => {
        g.openDropdown(), await jo(), u()
      },
      async (C) => {
        g.selectMentionable(C), await jo(), p()
      },
      function (C) {
        ;(r = C), I.set(r)
      },
      (C) => {
        C || c()
      },
      function (C) {
        bt[C ? "unshift" : "push"](() => {
          ;(i = C), n(3, i)
        })
      },
    ]
  )
}
function $c(s) {
  return s.line_start === s.line_end
    ? `L${s.line_start + 1}`
    : `L${s.line_start + 1}-${s.line_end + 1}`
}
const ed = [
  {
    id: "find",
    label: "find",
    description: "things in your code base",
    requiresInput: !0,
    requiresEditorSelection: !1,
    placeholderText: "What code are you looking for?",
    selectionReminderMessage: "Select code in the editor to find.",
    visible: !0,
    promptFactory: async (s) => `Find ${s}`,
  },
  {
    id: "explain",
    label: "explain",
    description: "how selected code works",
    requiresInput: !1,
    requiresEditorSelection: !0,
    placeholderText: "",
    selectionReminderMessage: "Select code in the editor to explain.",
    visible: !0,
    promptFactory: async () => "Explain the selected code",
  },
  {
    id: "fix",
    label: "fix",
    description: "issues in selected code",
    requiresInput: !1,
    requiresEditorSelection: !0,
    placeholderText: "",
    selectionReminderMessage: "Select code in the editor to fix.",
    visible: !0,
    promptFactory: async function (s, e) {
      const n = await (async function (o) {
        let r = []
        try {
          r = await o.extensionClient.getDiagnostics()
        } catch (i) {
          console.error("Failed to get diagnostic messages:", i)
        }
        return r
      })(e)
      let t = "Fix the selected code."
      return (
        (t += (function (o) {
          if (o.length === 0)
            return " The IDE does not report any issues on the selected code."
          if (o.length === 1)
            return ` The IDE reports the following issue:

 ${$c(o[0].location)}: ${o[0].message}`
          {
            const r = o
                .sort((l, u) => l.location.line_start - u.location.line_start)
                .reduce((l, u) => {
                  const p = `${u.location.line_start},${u.location.line_end}`
                  return l[p] || (l[p] = []), l[p].push(u), l
                }, {}),
              i = Object.entries(r).map(([l, u]) => {
                const [p, g] = l.split(",").map(Number),
                  h = $c({ path: "", line_start: p, line_end: g })
                return u.length === 1
                  ? ` ${h}: ${u[0].message}`
                  : ` ${h}:
${u.map((k, I) => `    ${I + 1}. ${k.message}`).join(`
`)}`
              }).join(`
`),
              c = Math.min(...o.map((l) => l.location.line_start)),
              a = Math.max(...o.map((l) => l.location.line_end))
            return ` The IDE reports the following issues on ${c === a ? `L${c + 1}` : `L${c + 1}-${a + 1}`}:

${i}`
          }
        })(n)),
        t
      )
    },
  },
  {
    id: "write-test",
    label: "write-test",
    description: "add tests for selected code",
    requiresInput: !1,
    requiresEditorSelection: !0,
    placeholderText: "",
    selectionReminderMessage: "Select code in the editor to test.",
    visible: !0,
    promptFactory: async () => "Write a test for the selected code",
  },
  {
    id: "document",
    label: "document",
    description: "write documentation for selected code",
    requiresInput: !1,
    requiresEditorSelection: !0,
    placeholderText: "",
    selectionReminderMessage: "Select code in the editor to document.",
    visible: !0,
    promptFactory: async () =>
      "Document selected code. Do not make unnecessary changes.",
  },
  {
    id: "generate-commit-message",
    label: "generate-commit-message",
    description: "generate a commit message",
    requiresInput: !1,
    requiresEditorSelection: !1,
    placeholderText: "",
    selectionReminderMessage: "Hit enter or send to generate a commit message",
    visible: !0,
    promptFactory: async () => "",
  },
]
function Nr(s) {
  return ed.find((e) => e.id === s)
}
function td() {
  return ed.filter((s) => s.visible)
}
class Ov {
  constructor(e, n) {
    Z(this, "_model")
    Z(this, "_fn")
    Z(this, "dispose", () => {
      this._model.removeAfterCommandListener(this._fn)
    })
    ;(this._model = e), (this._fn = n)
  }
}
class zv {
  constructor(e, n) {
    Z(this, "_activeCommand", Ct(void 0))
    Z(this, "_isActiveCommandRunnable", Ct(!1))
    Z(this, "_afterCommandListeners", [])
    Z(this, "_inputText", "")
    Z(this, "_selections", [])
    Z(
      this,
      "hasActiveCommand",
      Jt(this._activeCommand, (e) => e !== void 0),
    )
    Z(this, "isActiveCommandRunnable", xs(this._isActiveCommandRunnable))
    Z(this, "activeCommand", xs(this._activeCommand))
    Z(
      this,
      "activeCommandData",
      Jt(this._activeCommand, (e) => Nr(e)),
    )
    ;(this._chatModel = e), (this._agentConversationModel = n)
  }
  get inputText() {
    return this._inputText
  }
  get selections() {
    return this._selections
  }
  setActiveCommand(e) {
    this._activeCommand.set(e), this.updateRunnable()
  }
  setInputText(e) {
    ;(this._inputText = e), this.updateRunnable()
  }
  setSelections(e) {
    ;(this._selections = e), this.updateRunnable()
  }
  async runActiveCommand() {
    var t, o, r
    const e = Nr(ft(this._activeCommand))
    if (!e) return
    const n = await e.promptFactory(this._inputText, this._chatModel)
    this._activeCommand.set(void 0),
      await this._chatModel.setCurrentConversation(),
      e.id === "generate-commit-message"
        ? (t = this._chatModel.currentConversationModel) == null ||
          t.generateCommitMessage()
        : (r = this._chatModel.currentConversationModel) == null ||
          r.sendExchange({
            request_message: n,
            rich_text_json_repr: void 0,
            status: Ft.draft,
            model_id:
              ((o = this._chatModel.currentConversationModel) == null
                ? void 0
                : o.selectedModelId) ?? void 0,
          }),
      this._chatModel.host.postMessage({ type: st.usedSlashAction }),
      this.reportCommandMetric(e.id),
      this._afterCommandListeners.forEach((i) => i(n))
  }
  reportCommandMetric(e) {
    switch (e) {
      case "fix":
        this._chatModel.extensionClient.reportWebviewClientEvent(
          lo.chatUseActionFix,
        )
        break
      case "explain":
        this._chatModel.extensionClient.reportWebviewClientEvent(
          lo.chatUseActionExplain,
        )
        break
      case "write-test":
        this._chatModel.extensionClient.reportWebviewClientEvent(
          lo.chatUseActionWriteTest,
        )
        break
      case "find":
        this._chatModel.extensionClient.reportWebviewClientEvent(
          lo.chatUseActionFind,
        )
    }
  }
  cancelActiveCommand() {
    this._activeCommand.set(void 0),
      this._afterCommandListeners.forEach((e) => e(void 0))
  }
  afterCommand(e) {
    return this._afterCommandListeners.push(e), new Ov(this, e)
  }
  removeAfterCommandListener(e) {
    this._afterCommandListeners = this._afterCommandListeners.filter(
      (n) => n !== e,
    )
  }
  updateRunnable() {
    let e = !1
    const n = ft(this._activeCommand),
      t = Nr(n)
    n !== void 0 &&
      t !== void 0 &&
      ((e = !0),
      t != null && t.requiresInput && (e = e && this._inputText !== ""),
      t != null &&
        t.requiresEditorSelection &&
        (e = e && this._selections.length > 0)),
      this._isActiveCommandRunnable.set(e)
  }
  handleMessageFromExtension(e) {
    const n = e.data
    return (
      n.type === st.runSlashCommand &&
      (this._agentConversationModel.isCurrConversationAgentic &&
        this._agentConversationModel.setToChat(),
      this.setActiveCommand(n.data),
      this.runActiveCommand(),
      !0)
    )
  }
}
function hc(s, e, n) {
  const t = s.slice()
  return (t[17] = e[n]), t
}
function Bv(s) {
  let e, n, t
  return (
    (n = new Gs({ props: { symbol: "/" } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-actions-menu__trigger-text svelte-1d6vv18")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function jv(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 1,
        variant: "ghost",
        color: "accent",
        $$slots: { default: [Bv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1048576 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Hv(s) {
  let e,
    n,
    t,
    o = s[17].label + ""
  return {
    c() {
      ;(e = K("/")), (n = K(o)), (t = j())
    },
    m(r, i) {
      M(r, e, i), M(r, n, i), M(r, t, i)
    },
    p(r, i) {
      4 & i && o !== (o = r[17].label + "") && ze(n, o)
    },
    d(r) {
      r && (x(e), x(n), x(t))
    },
  }
}
function gc(s) {
  let e, n
  function t() {
    return s[10](s[17])
  }
  return (
    (e = new Fe.Item({
      props: { onSelect: t, $$slots: { default: [Hv] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        s = o
        const i = {}
        4 & r && (i.onSelect = t),
          1048580 & r && (i.$$scope = { dirty: r, ctx: s }),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        b(e, o)
      },
    }
  )
}
function Uv(s) {
  let e,
    n,
    t,
    o,
    r,
    i,
    c,
    a = ht(s[2]),
    l = []
  for (let h = 0; h < a.length; h += 1) l[h] = gc(hc(s, a, h))
  const u = (h) =>
    m(l[h], 1, 1, () => {
      l[h] = null
    })
  function p(h) {
    s[11](h)
  }
  t = new Fe.Separator({})
  let g = { placeholder: "Run an action" }
  return (
    s[0] !== void 0 && (g.value = s[0]),
    (r = new Fe.TextFieldItem({ props: g })),
    bt.push(() => Qt(r, "value", p)),
    {
      c() {
        e = F("div")
        for (let h = 0; h < l.length; h += 1) l[h].c()
        ;(n = j()),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment),
          A(e, "class", "c-actions-menu__items svelte-1d6vv18")
      },
      m(h, k) {
        M(h, e, k)
        for (let I = 0; I < l.length; I += 1) l[I] && l[I].m(e, null)
        M(h, n, k), y(t, h, k), M(h, o, k), y(r, h, k), (c = !0)
      },
      p(h, k) {
        if (132 & k) {
          let C
          for (a = ht(h[2]), C = 0; C < a.length; C += 1) {
            const S = hc(h, a, C)
            l[C]
              ? (l[C].p(S, k), d(l[C], 1))
              : ((l[C] = gc(S)), l[C].c(), d(l[C], 1), l[C].m(e, null))
          }
          for (Y(), C = a.length; C < l.length; C += 1) u(C)
          X()
        }
        const I = {}
        !i && 1 & k && ((i = !0), (I.value = h[0]), tn(() => (i = !1))),
          r.$set(I)
      },
      i(h) {
        if (!c) {
          for (let k = 0; k < a.length; k += 1) d(l[k])
          d(t.$$.fragment, h), d(r.$$.fragment, h), (c = !0)
        }
      },
      o(h) {
        l = l.filter(Boolean)
        for (let k = 0; k < l.length; k += 1) m(l[k])
        m(t.$$.fragment, h), m(r.$$.fragment, h), (c = !1)
      },
      d(h) {
        h && (x(e), x(n), x(o)), fn(l, h), b(t, h), b(r, h)
      },
    }
  )
}
function Wv(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [jv] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "top",
        align: "start",
        $$slots: { default: [Uv] },
        $$scope: { ctx: s },
      },
    })),
    t.$on("keydown", s[6]),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1048576 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        1048581 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function qv(s) {
  let e,
    n,
    t = {
      onOpenChange: s[5],
      nested: !1,
      $$slots: { default: [Wv] },
      $$scope: { ctx: s },
    }
  return (
    (e = new Fe.Root({ props: t })),
    s[12](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, [r]) {
        const i = {}
        1048581 & r && (i.$$scope = { dirty: r, ctx: o }), e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[12](null), b(e, o)
      },
    }
  )
}
function Gv(s, e, n) {
  let t,
    o,
    r,
    i,
    { onCloseDropdown: c = () => {} } = e
  const a = Xe("chatModel")
  if ((Ge(s, a, (k) => n(13, (r = k))), !a))
    throw new Error("ChatModel not found in context")
  const l = Xe("slashCommandModel"),
    u = r.flags
  Ge(s, u, (k) => n(9, (o = k)))
  function p() {
    i == null || i.focusIdx(-1)
  }
  let g = ""
  function h(k) {
    l.setActiveCommand(k.id), i == null || i.requestClose()
  }
  return (
    (s.$$set = (k) => {
      "onCloseDropdown" in k && n(8, (c = k.onCloseDropdown))
    }),
    (s.$$.update = () => {
      513 & s.$$.dirty &&
        n(
          2,
          (t = (function (k, I) {
            let C = td()
            return (
              I || (C = C.filter((S) => S.id !== "generate-commit-message")),
              k === void 0
                ? C
                : C.filter((S) =>
                    S.label.toLowerCase().includes(k.toLowerCase()),
                  )
            )
          })(g, o.enableGenerateCommitMessage)),
        )
    }),
    [
      g,
      i,
      t,
      a,
      u,
      async function (k) {
        k ? (await jo(), p()) : (c(), n(0, (g = "")))
      },
      async (k) => {
        switch (k.key) {
          case "ArrowLeft":
          case "ArrowRight":
          case "ArrowDown":
          case "ArrowUp":
          case "Enter":
            break
          default:
            k.defaultPrevented || p()
        }
      },
      h,
      c,
      o,
      (k) => h(k),
      function (k) {
        ;(g = k), n(0, g)
      },
      function (k) {
        bt[k ? "unshift" : "push"](() => {
          ;(i = k), n(1, i)
        })
      },
    ]
  )
}
function Vv(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 448 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M375 73c-26-26-68.1-26-94.1 0L89 265c-43.7 43.6-43.7 114.4 0 158s114.4 43.6 158.1 0L399 271c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L281 457c-62.4 62.4-163.5 62.4-225.9 0S-7.4 293.4 55 231L247 39c44.7-44.7 117.3-44.7 162 0s44.7 117.2 0 161.9L225.2 384.7c-31.6 31.6-83.6 28.7-111.5-6.2-23.8-29.8-21.5-72.8 5.5-99.8L271 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L153.2 312.7c-9.7 9.7-10.6 25.1-2 35.8 10 12.5 28.7 13.6 40 2.2L375 167c26-26 26-68.1 0-94.1z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 448 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function Yv(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class Xv extends ne {
  constructor(e) {
    super(), oe(this, e, Yv, Vv, te, {})
  }
}
function Kv(s) {
  let e, n, t
  return (
    (n = new Xv({})),
    {
      c() {
        ;(e = F("span")),
          w(n.$$.fragment),
          A(e, "class", "c-input-action-bar__icon svelte-5w6pdf"),
          A(e, "slot", "symbol")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Zv(s) {
  let e, n, t, o, r, i, c
  return (
    (n = new Gs({ props: { $$slots: { symbol: [Kv] }, $$scope: { ctx: s } } })),
    {
      c() {
        ;(e = F("label")),
          w(n.$$.fragment),
          (t = j()),
          (o = F("input")),
          A(e, "for", s[3]),
          A(e, "class", "c-input-action-bar__label svelte-5w6pdf"),
          A(o, "type", "file"),
          (o.hidden = !0),
          A(o, "id", s[3]),
          A(o, "accept", s[0])
      },
      m(a, l) {
        M(a, e, l),
          y(n, e, null),
          M(a, t, l),
          M(a, o, l),
          (r = !0),
          i || ((c = [Oe(o, "click", Qv), Oe(o, "input", s[4])]), (i = !0))
      },
      p(a, l) {
        const u = {}
        128 & l && (u.$$scope = { dirty: l, ctx: a }),
          n.$set(u),
          (!r || 1 & l) && A(o, "accept", a[0])
      },
      i(a) {
        r || (d(n.$$.fragment, a), (r = !0))
      },
      o(a) {
        m(n.$$.fragment, a), (r = !1)
      },
      d(a) {
        a && (x(e), x(t), x(o)), b(n), (i = !1), Yt(c)
      },
    }
  )
}
function Jv(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 1,
        variant: "ghost-block",
        color: "accent",
        disabled: s[1],
        class: "c-input-action-bar__add-file-btn",
        $$slots: { default: [Zv] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        2 & o && (r.disabled = t[1]),
          133 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
const Qv = function () {
  this.value = null
}
function e3(s, e, n) {
  let { accept: t = "*" } = e,
    { disabled: o = !1 } = e,
    { onAddFiles: r = a } = e
  const i = `file-${Date.now()}-${Math.floor(1e4 * Math.random())}`,
    c = U1()
  function a(l) {
    var u, p, g
    ;(g =
      (p = (u = c.commandManager) == null ? void 0 : u.chain()) == null
        ? void 0
        : p.insertImagesIntoEditor) == null || g.call(p, l)
  }
  return (
    (s.$$set = (l) => {
      "accept" in l && n(0, (t = l.accept)),
        "disabled" in l && n(1, (o = l.disabled)),
        "onAddFiles" in l && n(2, (r = l.onAddFiles))
    }),
    [
      t,
      o,
      r,
      i,
      function (l) {
        var u
        r([...(((u = l.currentTarget) == null ? void 0 : u.files) ?? [])])
      },
    ]
  )
}
function t3(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(
          n,
          "d",
          "M2 3C2 2.44772 2.44772 2 3 2H12C12.5523 2 13 2.44772 13 3V12C13 12.5523 12.5523 13 12 13H3C2.44772 13 2 12.5523 2 12V3Z",
        ),
        A(n, "fill", "currentColor"),
        A(n, "fill-rule", "evenodd"),
        A(n, "clip-rule", "evenodd"),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "0 0 15 15"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class n3 extends ne {
  constructor(e) {
    super(), oe(this, e, null, t3, te, {})
  }
}
function o3(s) {
  let e, n
  return (
    (e = new n3({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function r3(s) {
  let e, n, t
  return (
    (n = new _t({
      props: {
        size: 1,
        variant: "soft",
        color: "neutral",
        $$slots: { default: [o3] },
        $$scope: { ctx: s },
      },
    })),
    n.$on("click", function () {
      kt(s[0]) && s[0].apply(this, arguments)
    }),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-cancel-button svelte-1b7ib22")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, [r]) {
        s = o
        const i = {}
        2 & r && (i.$$scope = { dirty: r, ctx: s }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function s3(s, e, n) {
  let { cancelAction: t } = e
  return (
    (s.$$set = (o) => {
      "cancelAction" in o && n(0, (t = o.cancelAction))
    }),
    [t]
  )
}
function i3(s) {
  let e
  return {
    c() {
      e = K("Resend")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function a3(s) {
  let e, n, t, o
  return (
    (e = new V1({})),
    (t = new Ve({
      props: { size: 1, $$slots: { default: [i3] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        2 & i && (c.$$scope = { dirty: i, ctx: r }), t.$set(c)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function c3(s) {
  let e, n, t
  return (
    (n = new _t({
      props: {
        size: 1,
        variant: "soft",
        color: "neutral",
        $$slots: { default: [a3] },
        $$scope: { ctx: s },
      },
    })),
    n.$on("click", function () {
      kt(s[0]) && s[0].apply(this, arguments)
    }),
    n.$on("keyup", function () {
      kt(s[0]) && s[0].apply(this, arguments)
    }),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-resend-button svelte-1a3z7my")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, [r]) {
        s = o
        const i = {}
        2 & r && (i.$$scope = { dirty: r, ctx: s }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function l3(s, e, n) {
  let { resendAction: t } = e
  return (
    (s.$$set = (o) => {
      "resendAction" in o && n(0, (t = o.resendAction))
    }),
    [t]
  )
}
function u3(s) {
  let e,
    n,
    t = [
      { width: "15" },
      { height: "15" },
      { viewBox: "0 0 512 512" },
      { fill: "none" },
      { xmlns: "http://www.w3.org/2000/svg" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(
          n,
          "d",
          "M327.5 85.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 128l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 128l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 64 426.8 7.5C425.1 3 420.8 0 416 0s-9.1 3-10.8 7.5L384 64 327.5 85.2zM9.3 240C3.6 242.6 0 248.3 0 254.6s3.6 11.9 9.3 14.5L26.3 277l8.1 3.7 .6 .3 88.3 40.8L164.1 410l.3 .6 3.7 8.1 7.9 17.1c2.6 5.7 8.3 9.3 14.5 9.3s11.9-3.6 14.5-9.3l7.9-17.1 3.7-8.1 .3-.6 40.8-88.3L346 281l.6-.3 8.1-3.7 17.1-7.9c5.7-2.6 9.3-8.3 9.3-14.5s-3.6-11.9-9.3-14.5l-17.1-7.9-8.1-3.7-.6-.3-88.3-40.8L217 99.1l-.3-.6L213 90.3l-7.9-17.1c-2.6-5.7-8.3-9.3-14.5-9.3s-11.9 3.6-14.5 9.3l-7.9 17.1-3.7 8.1-.3 .6-40.8 88.3L35.1 228.1l-.6 .3-8.1 3.7L9.3 240zm83 14.5l51.2-23.6c10.4-4.8 18.7-13.1 23.5-23.5l23.6-51.2 23.6 51.2c4.8 10.4 13.1 18.7 23.5 23.5l51.2 23.6-51.2 23.6c-10.4 4.8-18.7 13.1-23.5 23.5l-23.6 51.2-23.6-51.2c-4.8-10.4-13.1-18.7-23.5-23.5L92.3 254.6zM384 384l-56.5 21.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 448l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 448l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 384l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L384 384z",
        ),
        A(n, "fill", "currentColor"),
        ct(e, o)
    },
    m(r, i) {
      M(r, e, i), B(e, n)
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { width: "15" },
          { height: "15" },
          { viewBox: "0 0 512 512" },
          { fill: "none" },
          { xmlns: "http://www.w3.org/2000/svg" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function d3(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class f3 extends ne {
  constructor(e) {
    super(), oe(this, e, d3, u3, te, {})
  }
}
function vc(s) {
  let e, n, t
  return (
    (n = new wt({
      props: {
        content: "Enhance Prompt",
        $$slots: { default: [h3] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-rewrite-prompt-button svelte-1k3jvo8")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        131 & r && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function m3(s) {
  let e, n
  return (
    (e = new f3({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function p3(s) {
  let e, n
  return (
    (e = new Qn({ props: { size: 1, useCurrentColor: !0 } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $3(s) {
  let e, n, t, o
  const r = [p3, m3],
    i = []
  function c(a, l) {
    return a[1] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function h3(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "soft",
        color: "neutral",
        disabled: s[0],
        $$slots: { default: [$3] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[5]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.disabled = t[0]),
          130 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function g3(s) {
  let e,
    n,
    t = s[2].flags.enableDebugFeatures && vc(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, [r]) {
      o[2].flags.enableDebugFeatures
        ? t
          ? (t.p(o, r), 4 & r && d(t, 1))
          : ((t = vc(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function v3(s, e, n) {
  let t,
    o,
    { onRewrite: r } = e,
    { isDisabled: i = !1 } = e
  const c = Xe("chatModel")
  if ((Ge(s, c, (l) => n(2, (o = l))), !c))
    throw new Error("ChatModel not found in context")
  const a = Ct(!1)
  return (
    Ge(s, a, (l) => n(1, (t = l))),
    (s.$$set = (l) => {
      "onRewrite" in l && n(6, (r = l.onRewrite)),
        "isDisabled" in l && n(0, (i = l.isDisabled))
    }),
    [
      i,
      t,
      o,
      c,
      a,
      function () {
        Ho(a, (t = !0), t)
        try {
          Promise.resolve(r()).finally(() => {
            Ho(a, (t = !1), t)
          })
        } catch {
          Ho(a, (t = !1), t)
        }
      },
      r,
    ]
  )
}
const Dn = {
  Root: class extends ne {
    constructor(s) {
      super(), oe(this, s, O2, D2, te, {})
    }
  },
  SingleSendButton: Ju,
  SendButton: class extends ne {
    constructor(s) {
      super(),
        oe(this, s, ov, nv, te, {
          primaryAction: 0,
          isDisabled: 1,
          disabledReason: 2,
        })
    }
  },
  ContextMenu: class extends ne {
    constructor(s) {
      super(),
        oe(this, s, Dv, Fv, te, {
          onCloseDropdown: 0,
          onInsertMentionable: 13,
          closeDropdown: 1,
          openDropdown: 14,
          toggleDropdown: 2,
        })
    }
    get closeDropdown() {
      return this.$$.ctx[1]
    }
    get openDropdown() {
      return this.$$.ctx[14]
    }
    get toggleDropdown() {
      return this.$$.ctx[2]
    }
  },
  ActionsMenu: class extends ne {
    constructor(s) {
      super(), oe(this, s, Gv, qv, te, { onCloseDropdown: 8 })
    }
  },
  AddFileButton: class extends ne {
    constructor(s) {
      super(),
        oe(this, s, e3, Jv, te, { accept: 0, disabled: 1, onAddFiles: 2 })
    }
  },
  ResendButton: class extends ne {
    constructor(s) {
      super(), oe(this, s, l3, c3, te, { resendAction: 0 })
    }
  },
  CancelButton: class extends ne {
    constructor(s) {
      super(), oe(this, s, s3, r3, te, { cancelAction: 0 })
    }
  },
  RewritePromptButton: class extends ne {
    constructor(s) {
      super(), oe(this, s, v3, g3, te, { onRewrite: 6, isDisabled: 0 })
    }
  },
  NotifyButton: zu,
}
function wc(s) {
  let e
  function n(r, i) {
    return r[0] === r[1] ? y3 : w3
  }
  let t = n(s),
    o = t(s)
  return {
    c() {
      o.c(), (e = he())
    },
    m(r, i) {
      o.m(r, i), M(r, e, i)
    },
    p(r, i) {
      t === (t = n(r)) && o
        ? o.p(r, i)
        : (o.d(1), (o = t(r)), o && (o.c(), o.m(e.parentNode, e)))
    },
    d(r) {
      r && x(e), o.d(r)
    },
  }
}
function w3(s) {
  let e,
    n,
    t,
    o,
    r = s[0] + 1 + "",
    i = s[1] + 1 + ""
  return {
    c() {
      ;(e = K("L")), (n = K(r)), (t = K("-")), (o = K(i))
    },
    m(c, a) {
      M(c, e, a), M(c, n, a), M(c, t, a), M(c, o, a)
    },
    p(c, a) {
      1 & a && r !== (r = c[0] + 1 + "") && ze(n, r),
        2 & a && i !== (i = c[1] + 1 + "") && ze(o, i)
    },
    d(c) {
      c && (x(e), x(n), x(t), x(o))
    },
  }
}
function y3(s) {
  let e,
    n,
    t = s[0] + 1 + ""
  return {
    c() {
      ;(e = K("L")), (n = K(t))
    },
    m(o, r) {
      M(o, e, r), M(o, n, r)
    },
    p(o, r) {
      1 & r && t !== (t = o[0] + 1 + "") && ze(n, t)
    },
    d(o) {
      o && (x(e), x(n))
    },
  }
}
function b3(s) {
  let e,
    n,
    t,
    o = s[0] !== void 0 && s[1] !== void 0 && wc(s)
  return {
    c() {
      ;(e = F("span")),
        (n = K(s[2])),
        (t = j()),
        o && o.c(),
        A(e, "class", "c-selection-item svelte-198ldgd")
    },
    m(r, i) {
      M(r, e, i), B(e, n), B(e, t), o && o.m(e, null)
    },
    p(r, [i]) {
      4 & i && ze(n, r[2]),
        r[0] !== void 0 && r[1] !== void 0
          ? o
            ? o.p(r, i)
            : ((o = wc(r)), o.c(), o.m(e, null))
          : o && (o.d(1), (o = null))
    },
    i: N,
    o: N,
    d(r) {
      r && x(e), o && o.d()
    },
  }
}
function x3(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    { fileSelection: a } = e
  return (
    (s.$$set = (l) => {
      "fileSelection" in l && n(3, (a = l.fileSelection))
    }),
    (s.$$.update = () => {
      8 & s.$$.dirty && n(5, (t = a.pathName || "")),
        8 & s.$$.dirty &&
          (a.fullRange
            ? (n(0, (i = a.fullRange.startLineNumber)),
              n(1, (c = a.fullRange.endLineNumber)))
            : a.range && (n(0, (i = a.range.start)), n(1, (c = a.range.stop)))),
        32 & s.$$.dirty && n(4, (o = t.split("/").filter((l) => l.length > 0))),
        16 & s.$$.dirty && n(2, (r = o[o.length - 1]))
    }),
    [i, c, r, a, o, t]
  )
}
class _3 extends ne {
  constructor(e) {
    super(), oe(this, e, x3, b3, te, { fileSelection: 3 })
  }
}
function yc(s, e, n) {
  const t = s.slice()
  return (t[18] = e[n]), t
}
function C3(s) {
  let e, n, t, o, r, i, c, a, l, u, p, g
  const h = [k3, A3],
    k = []
  function I(C, S) {
    var H
    return C[1] !== void 0 && ((H = C[1]) == null ? void 0 : H.length) > 0
      ? 0
      : 1
  }
  return (
    (i = I(s)),
    (c = k[i] = h[i](s)),
    {
      c() {
        ;(e = F("p")),
          (n = K("/")),
          (t = K(s[2])),
          (o = j()),
          (r = F("div")),
          c.c(),
          (a = j()),
          (l = F("input")),
          A(e, "class", "c-action-label svelte-34wttr"),
          A(l, "type", "text"),
          A(l, "class", "c-tiny-input-inline svelte-34wttr"),
          A(r, "class", "c-max-element-inline svelte-34wttr")
      },
      m(C, S) {
        M(C, e, S),
          B(e, n),
          B(e, t),
          M(C, o, S),
          M(C, r, S),
          k[i].m(r, null),
          B(r, a),
          B(r, l),
          (u = !0),
          p || ((g = [Oe(l, "keydown", s[9]), Oe(l, "keyup", s[10])]), (p = !0))
      },
      p(C, S) {
        ;(!u || 4 & S) && ze(t, C[2])
        let H = i
        ;(i = I(C)),
          i === H
            ? k[i].p(C, S)
            : (Y(),
              m(k[H], 1, 1, () => {
                k[H] = null
              }),
              X(),
              (c = k[i]),
              c ? c.p(C, S) : ((c = k[i] = h[i](C)), c.c()),
              d(c, 1),
              c.m(r, a))
      },
      i(C) {
        u || (d(c), (u = !0))
      },
      o(C) {
        m(c), (u = !1)
      },
      d(C) {
        C && (x(e), x(o), x(r)), k[i].d(), (p = !1), Yt(g)
      },
    }
  )
}
function M3(s) {
  let e, n, t, o, r, i, c, a
  return {
    c() {
      var l
      ;(e = F("p")),
        (n = K("/")),
        (t = K(s[2])),
        (o = j()),
        (r = F("input")),
        A(e, "class", "c-action-label svelte-34wttr"),
        A(r, "type", "text"),
        A(r, "class", "c-max-element-inline svelte-34wttr"),
        A(
          r,
          "placeholder",
          (i = (l = s[4]) == null ? void 0 : l.placeholderText),
        )
    },
    m(l, u) {
      M(l, e, u),
        B(e, n),
        B(e, t),
        M(l, o, u),
        M(l, r, u),
        Hi(r, s[0]),
        c ||
          ((a = [
            Oe(r, "input", s[12]),
            Oe(r, "keydown", s[8]),
            Oe(r, "keyup", s[10]),
          ]),
          (c = !0))
    },
    p(l, u) {
      var p
      4 & u && ze(t, l[2]),
        16 & u &&
          i !== (i = (p = l[4]) == null ? void 0 : p.placeholderText) &&
          A(r, "placeholder", i),
        1 & u && r.value !== l[0] && Hi(r, l[0])
    },
    i: N,
    o: N,
    d(l) {
      l && (x(e), x(o), x(r)), (c = !1), Yt(a)
    },
  }
}
function A3(s) {
  var o
  let e,
    n,
    t = ((o = s[4]) == null ? void 0 : o.selectionReminderMessage) + ""
  return {
    c() {
      ;(e = F("span")), (n = K(t)), A(e, "class", "c-select-code-msg")
    },
    m(r, i) {
      M(r, e, i), B(e, n)
    },
    p(r, i) {
      var c
      16 & i &&
        t !==
          (t =
            ((c = r[4]) == null ? void 0 : c.selectionReminderMessage) + "") &&
        ze(n, t)
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function k3(s) {
  let e,
    n,
    t = ht(s[1]),
    o = []
  for (let i = 0; i < t.length; i += 1) o[i] = bc(yc(s, t, i))
  const r = (i) =>
    m(o[i], 1, 1, () => {
      o[i] = null
    })
  return {
    c() {
      for (let i = 0; i < o.length; i += 1) o[i].c()
      e = he()
    },
    m(i, c) {
      for (let a = 0; a < o.length; a += 1) o[a] && o[a].m(i, c)
      M(i, e, c), (n = !0)
    },
    p(i, c) {
      if (2 & c) {
        let a
        for (t = ht(i[1]), a = 0; a < t.length; a += 1) {
          const l = yc(i, t, a)
          o[a]
            ? (o[a].p(l, c), d(o[a], 1))
            : ((o[a] = bc(l)), o[a].c(), d(o[a], 1), o[a].m(e.parentNode, e))
        }
        for (Y(), a = t.length; a < o.length; a += 1) r(a)
        X()
      }
    },
    i(i) {
      if (!n) {
        for (let c = 0; c < t.length; c += 1) d(o[c])
        n = !0
      }
    },
    o(i) {
      o = o.filter(Boolean)
      for (let c = 0; c < o.length; c += 1) m(o[c])
      n = !1
    },
    d(i) {
      i && x(e), fn(o, i)
    },
  }
}
function bc(s) {
  let e, n
  return (
    (e = new _3({ props: { fileSelection: s[18].selection } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.fileSelection = t[18].selection), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function E3(s) {
  let e, n, t, o, r, i, c
  const a = [M3, C3],
    l = []
  function u(p, g) {
    return p[2] === "find" ? 0 : 1
  }
  return (
    (t = u(s)),
    (o = l[t] = a[t](s)),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          o.c(),
          A(n, "class", "c-action-row svelte-34wttr"),
          A(e, "class", "c-action svelte-34wttr"),
          A(e, "role", "button"),
          A(e, "tabindex", "-1")
      },
      m(p, g) {
        M(p, e, g),
          B(e, n),
          l[t].m(n, null),
          (r = !0),
          i || ((c = [Oe(e, "click", s[7]), Oe(e, "keydown", I3)]), (i = !0))
      },
      p(p, [g]) {
        let h = t
        ;(t = u(p)),
          t === h
            ? l[t].p(p, g)
            : (Y(),
              m(l[h], 1, 1, () => {
                l[h] = null
              }),
              X(),
              (o = l[t]),
              o ? o.p(p, g) : ((o = l[t] = a[t](p)), o.c()),
              d(o, 1),
              o.m(n, null))
      },
      i(p) {
        r || (d(o), (r = !0))
      },
      o(p) {
        m(o), (r = !1)
      },
      d(p) {
        p && x(e), l[t].d(), (i = !1), Yt(c)
      },
    }
  )
}
const I3 = (s) => {}
function S3(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p = N,
    g = N,
    h = N
  s.$$.on_destroy.push(() => p()),
    s.$$.on_destroy.push(() => g()),
    s.$$.on_destroy.push(() => h())
  let k = Xe("chatModel")
  if (!k) throw new Error("ChatModel not found in context")
  let I = Xe("slashCommandModel")
  const C = () => {
    const z = document.querySelector("input")
    z && (z.focus(), z.select())
  }
  let S = "",
    H = !1
  function O() {
    I.cancelActiveCommand()
  }
  return (
    Gn(C),
    (s.$$.update = () => {
      2048 & s.$$.dirty &&
        n(
          1,
          (o = Object.values(u.selections).sort((z, $e) =>
            z.selection.pathName.localeCompare($e.selection.pathName),
          )),
        ),
        2 & s.$$.dirty && I.setSelections(o),
        4 & s.$$.dirty && n(4, (i = Nr(l))),
        1 & s.$$.dirty && I.setInputText(S)
    }),
    n(6, (t = k.specialContextInputModel)),
    h(),
    (h = mt(t, (z) => n(11, (u = z)))),
    n(5, (r = I.activeCommand)),
    g(),
    (g = mt(r, (z) => n(2, (l = z)))),
    n(3, (c = I.isActiveCommandRunnable)),
    p(),
    (p = mt(c, (z) => n(14, (a = z)))),
    [
      S,
      o,
      l,
      c,
      i,
      r,
      t,
      C,
      function (z) {
        return (
          !(z.shiftKey || z.ctrlKey || z.metaKey) &&
          (z.stopPropagation(),
          z.key === "Enter"
            ? ((H = !0), !0)
            : z.key === "Escape"
              ? (O(), !0)
              : z.key === "Backspace" && (S === "" && O(), !0))
        )
      },
      function (z) {
        if (z.ctrlKey || z.metaKey || z.key === "Tab") return !1
        if ((z.stopPropagation(), !z.shiftKey)) {
          if (z.key === "Escape" || z.key === "Backspace") return O(), !0
          if (z.key === "Enter" && a) return I.runActiveCommand(), !0
        }
        return z.preventDefault(), !0
      },
      function (z) {
        return (
          !z.shiftKey &&
          !(z.key !== "Enter" || !H || !a) &&
          ((H = !1), I.runActiveCommand(), !0)
        )
      },
      u,
      function () {
        ;(S = this.value), n(0, S)
      },
    ]
  )
}
class T3 extends ne {
  constructor(e) {
    super(), oe(this, e, S3, E3, te, {})
  }
}
function xc(s, e, n) {
  const t = s.slice()
  return (t[15] = e[n]), t
}
function _c(s) {
  let e, n
  function t() {
    return s[8](s[15])
  }
  return (
    (e = new Qu({
      props: { item: s[15], highlight: s[15] === s[14], onSelect: t },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        s = o
        const i = {}
        4 & r && (i.item = s[15]),
          16388 & r && (i.highlight = s[15] === s[14]),
          4 & r && (i.onSelect = t),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        b(e, o)
      },
    }
  )
}
function L3(s) {
  let e,
    n,
    t = ht(s[2]),
    o = []
  for (let i = 0; i < t.length; i += 1) o[i] = _c(xc(s, t, i))
  const r = (i) =>
    m(o[i], 1, 1, () => {
      o[i] = null
    })
  return {
    c() {
      for (let i = 0; i < o.length; i += 1) o[i].c()
      e = he()
    },
    m(i, c) {
      for (let a = 0; a < o.length; a += 1) o[a] && o[a].m(i, c)
      M(i, e, c), (n = !0)
    },
    p(i, c) {
      if (16420 & c) {
        let a
        for (t = ht(i[2]), a = 0; a < t.length; a += 1) {
          const l = xc(i, t, a)
          o[a]
            ? (o[a].p(l, c), d(o[a], 1))
            : ((o[a] = _c(l)), o[a].c(), d(o[a], 1), o[a].m(e.parentNode, e))
        }
        for (Y(), a = t.length; a < o.length; a += 1) r(a)
        X()
      }
    },
    i(i) {
      if (!n) {
        for (let c = 0; c < t.length; c += 1) d(o[c])
        n = !0
      }
    },
    o(i) {
      o = o.filter(Boolean)
      for (let c = 0; c < o.length; c += 1) m(o[c])
      n = !1
    },
    d(i) {
      i && x(e), fn(o, i)
    },
  }
}
function R3(s) {
  let e, n
  return (
    (e = new tr({ props: { slot: "mentionable", option: s[13] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8192 & o && (r.option = t[13]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function P3(s) {
  let e, n, t, o
  return (
    (e = new fo.Menu.Root({
      props: {
        mentionables: s[2],
        onQueryUpdate: s[4],
        onSelectMentionable: s[5],
        $$slots: {
          default: [
            L3,
            ({ activeItem: r }) => ({ 14: r }),
            ({ activeItem: r }) => (r ? 16384 : 0),
          ],
        },
        $$scope: { ctx: s },
      },
    })),
    (t = new fo.ChipTooltip({
      props: {
        $$slots: {
          mentionable: [
            R3,
            ({ mentionable: r }) => ({ 13: r }),
            ({ mentionable: r }) => (r ? 8192 : 0),
          ],
        },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        4 & i && (c.mentionables = r[2]),
          278532 & i && (c.$$scope = { dirty: i, ctx: r }),
          e.$set(c)
        const a = {}
        270336 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function N3(s) {
  let e,
    n,
    t = {
      triggerCharacter: "@",
      onMentionItemsUpdated: s[0],
      $$slots: { default: [P3] },
      $$scope: { ctx: s },
    }
  return (
    (e = new fo.Root({ props: t })),
    s[9](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, [r]) {
        const i = {}
        1 & r && (i.onMentionItemsUpdated = o[0]),
          262148 & r && (i.$$scope = { dirty: r, ctx: o }),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[9](null), b(e, o)
      },
    }
  )
}
function F3(s, e, n) {
  let t,
    { requestEditorFocus: o } = e,
    { onMentionItemsUpdated: r } = e
  const i = Xe("chatModel")
  if (!i) throw new Error("ChatModel not found in context")
  const c = new jr(i, u),
    a = c.displayItems
  let l
  function u(g) {
    return !!l && (l.insertMention(g), c.closeDropdown(), !0)
  }
  function p(g) {
    const h = c.selectMentionable(g)
    return o(), h
  }
  return (
    Ge(s, a, (g) => n(2, (t = g))),
    ko(() => {
      c.dispose()
    }),
    (s.$$set = (g) => {
      "requestEditorFocus" in g && n(6, (o = g.requestEditorFocus)),
        "onMentionItemsUpdated" in g && n(0, (r = g.onMentionItemsUpdated))
    }),
    [
      r,
      l,
      t,
      a,
      function (g) {
        g === void 0
          ? c.closeDropdown()
          : (c.openDropdown(), c.userQuery.set(g))
      },
      p,
      o,
      (g) => u(g),
      (g) => p(g),
      function (g) {
        bt[g ? "unshift" : "push"](() => {
          ;(l = g), n(1, l)
        })
      },
    ]
  )
}
class D3 extends ne {
  constructor(e) {
    super(),
      oe(this, e, F3, N3, te, {
        requestEditorFocus: 6,
        onMentionItemsUpdated: 0,
        insertMentionNode: 7,
      })
  }
  get insertMentionNode() {
    return this.$$.ctx[7]
  }
}
function Cc(s, e, n) {
  const t = s.slice()
  return (t[14] = e[n]), t
}
function O3(s) {
  let e,
    n,
    t,
    o = s[14].label + ""
  return {
    c() {
      ;(e = K("/")), (n = K(o)), (t = j())
    },
    m(r, i) {
      M(r, e, i), M(r, n, i), M(r, t, i)
    },
    p(r, i) {
      1 & i && o !== (o = r[14].label + "") && ze(n, o)
    },
    d(r) {
      r && (x(e), x(n), x(t))
    },
  }
}
function Mc(s) {
  let e, n
  return (
    (e = new fo.Menu.Item({
      props: {
        mentionable: s[14],
        $$slots: { default: [O3] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.mentionable = t[14]),
          131073 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function z3(s) {
  let e,
    n,
    t = ht(s[0]),
    o = []
  for (let i = 0; i < t.length; i += 1) o[i] = Mc(Cc(s, t, i))
  const r = (i) =>
    m(o[i], 1, 1, () => {
      o[i] = null
    })
  return {
    c() {
      for (let i = 0; i < o.length; i += 1) o[i].c()
      e = he()
    },
    m(i, c) {
      for (let a = 0; a < o.length; a += 1) o[a] && o[a].m(i, c)
      M(i, e, c), (n = !0)
    },
    p(i, c) {
      if (1 & c) {
        let a
        for (t = ht(i[0]), a = 0; a < t.length; a += 1) {
          const l = Cc(i, t, a)
          o[a]
            ? (o[a].p(l, c), d(o[a], 1))
            : ((o[a] = Mc(l)), o[a].c(), d(o[a], 1), o[a].m(e.parentNode, e))
        }
        for (Y(), a = t.length; a < o.length; a += 1) r(a)
        X()
      }
    },
    i(i) {
      if (!n) {
        for (let c = 0; c < t.length; c += 1) d(o[c])
        n = !0
      }
    },
    o(i) {
      o = o.filter(Boolean)
      for (let c = 0; c < o.length; c += 1) m(o[c])
      n = !1
    },
    d(i) {
      i && x(e), fn(o, i)
    },
  }
}
function B3(s) {
  let e,
    n,
    t = s[13].label + ""
  return {
    c() {
      ;(e = F("span")), (n = K(t)), A(e, "slot", "mentionable")
    },
    m(o, r) {
      M(o, e, r), B(e, n)
    },
    p(o, r) {
      8192 & r && t !== (t = o[13].label + "") && ze(n, t)
    },
    d(o) {
      o && x(e)
    },
  }
}
function j3(s) {
  let e, n, t, o
  return (
    (e = new fo.Menu.Root({
      props: {
        mentionables: s[0],
        onQueryUpdate: s[5],
        onSelectMentionable: s[9],
        $$slots: { default: [z3] },
        $$scope: { ctx: s },
      },
    })),
    (t = new fo.ChipTooltip({
      props: {
        $$slots: {
          mentionable: [
            B3,
            ({ mentionable: r }) => ({ 13: r }),
            ({ mentionable: r }) => (r ? 8192 : 0),
          ],
        },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1 & i && (c.mentionables = r[0]),
          131073 & i && (c.$$scope = { dirty: i, ctx: r }),
          e.$set(c)
        const a = {}
        139264 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function H3(s) {
  let e, n
  return (
    (e = new fo.Root({
      props: {
        pluginId: "augment-slash-actions",
        triggerCharacter: "/",
        allowedPrefixes: [],
        renderText: U3,
        $$slots: { default: [j3] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        131073 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
const U3 = () => ""
function W3(s, e, n) {
  let t, o, r, i
  const c = Xe("chatModel")
  Ge(s, c, (h) => n(10, (i = h)))
  const a = Xe("slashCommandModel"),
    { activeCommand: l } = a
  Ge(s, l, (h) => n(7, (o = h)))
  const u = Xe(Os.CONTEXT_KEY),
    p = i.flags
  let g
  return (
    Ge(s, p, (h) => n(8, (r = h))),
    (s.$$.update = () => {
      320 & s.$$.dirty &&
        n(
          0,
          (t = (function (h, k) {
            let I = td()
            return (
              k || (I = I.filter((C) => C.id !== "generate-commit-message")),
              h === void 0
                ? I
                : I.filter((C) =>
                    C.label.toLowerCase().includes(h.toLowerCase()),
                  )
            )
          })(g, r.enableGenerateCommitMessage)),
        ),
        128 & s.$$.dirty &&
          (o
            ? (u.commandManager.hide(), u.commandManager.clearContent())
            : (u.commandManager.show(),
              u.commandManager.clearContent(),
              u.commandManager.requestFocus()))
    }),
    [
      t,
      c,
      a,
      l,
      p,
      function (h) {
        n(6, (g = h))
      },
      g,
      o,
      r,
      (h) => (a.setActiveCommand(h.id), !0),
    ]
  )
}
class q3 extends ne {
  constructor(e) {
    super(), oe(this, e, W3, H3, te, {})
  }
}
const G3 =
    "You can only have %MAX_AGENTS% agents at a time. Please delete some before creating a new one.",
  V3 = (s, e, n) => () => {
    var c, a
    const t =
        ((c = e.draftExchange) == null ? void 0 : c.request_message) ?? "",
      o = (a = e.draftExchange) == null ? void 0 : a.rich_text_json_repr,
      r = () => {
        e.draftExchange || e.saveDraftExchange(t, o)
      }
    if (!s.currentAgentId) {
      if (s.isCreatingAgent) return !1
      s.setIsCreatingAgent(!0), e.clearDraftExchange()
      const l = async () => {
        try {
          const u = await s.createRemoteAgentFromDraft(t)
          u ? s == null || s.setCurrentAgent(u) : r()
        } catch (u) {
          console.error("Failed to create remote agent: ", u), r()
        } finally {
          s.setIsCreatingAgent(!1)
        }
      }
      return n
        ? (n == null ||
            n
              .isGithubAuthenticated()
              .then((u) => {
                if (!u) return s.setIsCreatingAgent(!1), void r()
                l()
              })
              .catch((u) => {
                console.error(
                  "Failed to check GitHub authentication status:",
                  u,
                ),
                  s.setIsCreatingAgent(!1),
                  r()
              }),
          !0)
        : (l(), !0)
    }
    const i = e.draftExchange
    return (
      i &&
        s &&
        (e.clearDraftExchange(),
        s
          .sendMessage(i.request_message)
          .then((l) => {
            l || r()
          })
          .catch(() => {
            r()
          })),
      !0
    )
  },
  Y3 = (s) => ({}),
  Ac = (s) => ({}),
  X3 = (s) => ({}),
  kc = (s) => ({}),
  K3 = (s) => ({}),
  Ec = (s) => ({}),
  Z3 = (s) => ({}),
  Ic = (s) => ({})
function J3(s) {
  let e
  return {
    c() {
      e = K(s[0])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      1 & t && ze(e, n[0])
    },
    d(n) {
      n && x(e)
    },
  }
}
function Sc(s) {
  let e, n
  const t = s[3].subtitle,
    o = Ze(t, s, s[4], kc),
    r =
      o ||
      (function (i) {
        let c, a
        return (
          (c = new Ve({
            props: { size: 2, $$slots: { default: [Q3] }, $$scope: { ctx: i } },
          })),
          {
            c() {
              w(c.$$.fragment)
            },
            m(l, u) {
              y(c, l, u), (a = !0)
            },
            p(l, u) {
              const p = {}
              18 & u && (p.$$scope = { dirty: u, ctx: l }), c.$set(p)
            },
            i(l) {
              a || (d(c.$$.fragment, l), (a = !0))
            },
            o(l) {
              m(c.$$.fragment, l), (a = !1)
            },
            d(l) {
              b(c, l)
            },
          }
        )
      })(s)
  return {
    c() {
      ;(e = F("div")),
        r && r.c(),
        A(e, "class", "c-card-button__subtitle svelte-1c82nwt")
    },
    m(i, c) {
      M(i, e, c), r && r.m(e, null), (n = !0)
    },
    p(i, c) {
      o
        ? o.p &&
          (!n || 16 & c) &&
          Je(o, t, i, i[4], n ? et(t, i[4], c, X3) : Qe(i[4]), kc)
        : r && r.p && (!n || 2 & c) && r.p(i, n ? c : -1)
    },
    i(i) {
      n || (d(r, i), (n = !0))
    },
    o(i) {
      m(r, i), (n = !1)
    },
    d(i) {
      i && x(e), r && r.d(i)
    },
  }
}
function Q3(s) {
  let e
  return {
    c() {
      e = K(s[1])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      2 & t && ze(e, n[1])
    },
    d(n) {
      n && x(e)
    },
  }
}
function Tc(s) {
  let e, n
  const t = s[3].iconRight,
    o = Ze(t, s, s[4], Ac)
  return {
    c() {
      ;(e = F("div")),
        o && o.c(),
        A(e, "class", "c-card-button__icon-right svelte-1c82nwt")
    },
    m(r, i) {
      M(r, e, i), o && o.m(e, null), (n = !0)
    },
    p(r, i) {
      o &&
        o.p &&
        (!n || 16 & i) &&
        Je(o, t, r, r[4], n ? et(t, r[4], i, Y3) : Qe(r[4]), Ac)
    },
    i(r) {
      n || (d(o, r), (n = !0))
    },
    o(r) {
      m(o, r), (n = !1)
    },
    d(r) {
      r && x(e), o && o.d(r)
    },
  }
}
function e4(s) {
  let e, n, t, o, r, i, c, a
  const l = s[3].iconLeft,
    u = Ze(l, s, s[4], Ic),
    p = s[3].title,
    g = Ze(p, s, s[4], Ec),
    h =
      g ||
      (function (C) {
        let S, H
        return (
          (S = new Ve({
            props: { size: 2, $$slots: { default: [J3] }, $$scope: { ctx: C } },
          })),
          {
            c() {
              w(S.$$.fragment)
            },
            m(O, z) {
              y(S, O, z), (H = !0)
            },
            p(O, z) {
              const $e = {}
              17 & z && ($e.$$scope = { dirty: z, ctx: O }), S.$set($e)
            },
            i(O) {
              H || (d(S.$$.fragment, O), (H = !0))
            },
            o(O) {
              m(S.$$.fragment, O), (H = !1)
            },
            d(O) {
              b(S, O)
            },
          }
        )
      })(s)
  let k = s[1] && Sc(s),
    I = s[2].iconRight && Tc(s)
  return {
    c() {
      ;(e = F("div")),
        u && u.c(),
        (n = j()),
        (t = F("div")),
        (o = F("div")),
        h && h.c(),
        (r = j()),
        k && k.c(),
        (i = j()),
        I && I.c(),
        (c = he()),
        A(e, "class", "c-card-button__icon-left svelte-1c82nwt"),
        A(o, "class", "c-card-button__title svelte-1c82nwt"),
        A(t, "class", "c-card-button__content svelte-1c82nwt")
    },
    m(C, S) {
      M(C, e, S),
        u && u.m(e, null),
        M(C, n, S),
        M(C, t, S),
        B(t, o),
        h && h.m(o, null),
        B(t, r),
        k && k.m(t, null),
        M(C, i, S),
        I && I.m(C, S),
        M(C, c, S),
        (a = !0)
    },
    p(C, [S]) {
      u &&
        u.p &&
        (!a || 16 & S) &&
        Je(u, l, C, C[4], a ? et(l, C[4], S, Z3) : Qe(C[4]), Ic),
        g
          ? g.p &&
            (!a || 16 & S) &&
            Je(g, p, C, C[4], a ? et(p, C[4], S, K3) : Qe(C[4]), Ec)
          : h && h.p && (!a || 1 & S) && h.p(C, a ? S : -1),
        C[1]
          ? k
            ? (k.p(C, S), 2 & S && d(k, 1))
            : ((k = Sc(C)), k.c(), d(k, 1), k.m(t, null))
          : k &&
            (Y(),
            m(k, 1, 1, () => {
              k = null
            }),
            X()),
        C[2].iconRight
          ? I
            ? (I.p(C, S), 4 & S && d(I, 1))
            : ((I = Tc(C)), I.c(), d(I, 1), I.m(c.parentNode, c))
          : I &&
            (Y(),
            m(I, 1, 1, () => {
              I = null
            }),
            X())
    },
    i(C) {
      a || (d(u, C), d(h, C), d(k), d(I), (a = !0))
    },
    o(C) {
      m(u, C), m(h, C), m(k), m(I), (a = !1)
    },
    d(C) {
      C && (x(e), x(n), x(t), x(i), x(c)),
        u && u.d(C),
        h && h.d(C),
        k && k.d(),
        I && I.d(C)
    },
  }
}
function t4(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e
  const r = nu(t)
  let { title: i = "Select an option" } = e,
    { subtitle: c = "" } = e
  return (
    (s.$$set = (a) => {
      "title" in a && n(0, (i = a.title)),
        "subtitle" in a && n(1, (c = a.subtitle)),
        "$$scope" in a && n(4, (o = a.$$scope))
    }),
    [i, c, r, t, o]
  )
}
class nd extends ne {
  constructor(e) {
    super(), oe(this, e, t4, e4, te, { title: 0, subtitle: 1 })
  }
}
const n4 = (s) => ({}),
  Lc = (s) => ({ slot: "iconLeft" }),
  o4 = (s) => ({}),
  Rc = (s) => ({ slot: "iconRight" })
function Pc(s, e, n) {
  const t = s.slice()
  return (t[18] = e[n]), t
}
const r4 = (s) => ({}),
  Nc = (s) => ({}),
  s4 = (s) => ({}),
  Fc = (s) => ({ slot: "iconLeft" }),
  i4 = (s) => ({}),
  Dc = (s) => ({ slot: "iconRight" })
function a4(s) {
  let e, n, t, o, r
  return (
    (n = new nd({
      props: {
        title: s[3],
        subtitle: s[4],
        $$slots: { iconRight: [u4], iconLeft: [l4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("button")),
          w(n.$$.fragment),
          A(e, "class", "c-card-button__display svelte-1sjyo69"),
          A(e, "type", "button")
      },
      m(i, c) {
        M(i, e, c),
          y(n, e, null),
          (t = !0),
          o ||
            ((r = [Oe(e, "click", s[15]), Oe(e, "keydown", s[16])]), (o = !0))
      },
      p(i, c) {
        const a = {}
        8 & c && (a.title = i[3]),
          16 & c && (a.subtitle = i[4]),
          131072 & c && (a.$$scope = { dirty: c, ctx: i }),
          n.$set(a)
      },
      i(i) {
        t || (d(n.$$.fragment, i), (t = !0))
      },
      o(i) {
        m(n.$$.fragment, i), (t = !1)
      },
      d(i) {
        i && x(e), b(n), (o = !1), Yt(r)
      },
    }
  )
}
function c4(s) {
  let e, n, t
  function o(i) {
    s[14](i)
  }
  let r = {
    onOpenChange: s[9],
    $$slots: { default: [w4] },
    $$scope: { ctx: s },
  }
  return (
    s[1] !== void 0 && (r.requestClose = s[1]),
    (e = new Fe.Root({ props: r })),
    bt.push(() => Qt(e, "requestClose", o)),
    {
      c() {
        w(e.$$.fragment)
      },
      m(i, c) {
        y(e, i, c), (t = !0)
      },
      p(i, c) {
        const a = {}
        512 & c && (a.onOpenChange = i[9]),
          131545 & c && (a.$$scope = { dirty: c, ctx: i }),
          !n &&
            2 & c &&
            ((n = !0), (a.requestClose = i[1]), tn(() => (n = !1))),
          e.$set(a)
      },
      i(i) {
        t || (d(e.$$.fragment, i), (t = !0))
      },
      o(i) {
        m(e.$$.fragment, i), (t = !1)
      },
      d(i) {
        b(e, i)
      },
    }
  )
}
function l4(s) {
  let e
  const n = s[12].iconLeft,
    t = Ze(n, s, s[17], Lc)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 131072 & r) &&
        Je(t, n, o, o[17], e ? et(n, o[17], r, n4) : Qe(o[17]), Lc)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function u4(s) {
  let e
  const n = s[12].iconRight,
    t = Ze(n, s, s[17], Rc)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 131072 & r) &&
        Je(t, n, o, o[17], e ? et(n, o[17], r, o4) : Qe(o[17]), Rc)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function d4(s) {
  let e
  const n = s[12].iconLeft,
    t = Ze(n, s, s[17], Fc)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 131072 & r) &&
        Je(t, n, o, o[17], e ? et(n, o[17], r, s4) : Qe(o[17]), Fc)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function f4(s) {
  let e
  const n = s[12].iconRight,
    t = Ze(n, s, s[17], Dc),
    o =
      t ||
      (function (r) {
        let i, c
        return (
          (i = new Qo({})),
          {
            c() {
              w(i.$$.fragment)
            },
            m(a, l) {
              y(i, a, l), (c = !0)
            },
            i(a) {
              c || (d(i.$$.fragment, a), (c = !0))
            },
            o(a) {
              m(i.$$.fragment, a), (c = !1)
            },
            d(a) {
              b(i, a)
            },
          }
        )
      })()
  return {
    c() {
      o && o.c()
    },
    m(r, i) {
      o && o.m(r, i), (e = !0)
    },
    p(r, i) {
      t &&
        t.p &&
        (!e || 131072 & i) &&
        Je(t, n, r, r[17], e ? et(n, r[17], i, i4) : Qe(r[17]), Dc)
    },
    i(r) {
      e || (d(o, r), (e = !0))
    },
    o(r) {
      m(o, r), (e = !1)
    },
    d(r) {
      o && o.d(r)
    },
  }
}
function m4(s) {
  let e, n, t
  return (
    (n = new nd({
      props: {
        title: s[3],
        subtitle: s[4],
        $$slots: { iconRight: [f4], iconLeft: [d4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-card-button__display svelte-1sjyo69")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        8 & r && (i.title = o[3]),
          16 & r && (i.subtitle = o[4]),
          131072 & r && (i.$$scope = { dirty: r, ctx: o }),
          n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function p4(s) {
  let e, n
  return (
    (e = new Fe.Label({
      props: { $$slots: { default: [h4] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        131328 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $4(s) {
  let e,
    n,
    t = [],
    o = new Map(),
    r = ht(s[6])
  const i = (c) => c[7](c[18])
  for (let c = 0; c < r.length; c += 1) {
    let a = Pc(s, r, c),
      l = i(a)
    o.set(l, (t[c] = Oc(l, a)))
  }
  return {
    c() {
      for (let c = 0; c < t.length; c += 1) t[c].c()
      e = he()
    },
    m(c, a) {
      for (let l = 0; l < t.length; l += 1) t[l] && t[l].m(c, a)
      M(c, e, a), (n = !0)
    },
    p(c, a) {
      1217 & a &&
        ((r = ht(c[6])),
        Y(),
        (t = Ts(t, a, i, 1, c, r, o, e.parentNode, ru, Oc, e, Pc)),
        X())
    },
    i(c) {
      if (!n) {
        for (let a = 0; a < r.length; a += 1) d(t[a])
        n = !0
      }
    },
    o(c) {
      for (let a = 0; a < t.length; a += 1) m(t[a])
      n = !1
    },
    d(c) {
      c && x(e)
      for (let a = 0; a < t.length; a += 1) t[a].d(c)
    },
  }
}
function h4(s) {
  let e
  return {
    c() {
      e = K(s[8])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      256 & t && ze(e, n[8])
    },
    d(n) {
      n && x(e)
    },
  }
}
function g4(s) {
  let e,
    n,
    t = s[7](s[18]) + ""
  return {
    c() {
      ;(e = K(t)), (n = j())
    },
    m(o, r) {
      M(o, e, r), M(o, n, r)
    },
    p(o, r) {
      192 & r && t !== (t = o[7](o[18]) + "") && ze(e, t)
    },
    d(o) {
      o && (x(e), x(n))
    },
  }
}
function Oc(s, e) {
  let n, t, o
  function r() {
    return e[13](e[18])
  }
  return (
    (t = new Fe.Item({
      props: {
        onSelect: r,
        highlight: e[0] === e[18],
        $$slots: { default: [g4] },
        $$scope: { ctx: e },
      },
    })),
    {
      key: s,
      first: null,
      c() {
        ;(n = he()), w(t.$$.fragment), (this.first = n)
      },
      m(i, c) {
        M(i, n, c), y(t, i, c), (o = !0)
      },
      p(i, c) {
        e = i
        const a = {}
        64 & c && (a.onSelect = r),
          65 & c && (a.highlight = e[0] === e[18]),
          131264 & c && (a.$$scope = { dirty: c, ctx: e }),
          t.$set(a)
      },
      i(i) {
        o || (d(t.$$.fragment, i), (o = !0))
      },
      o(i) {
        m(t.$$.fragment, i), (o = !1)
      },
      d(i) {
        i && x(n), b(t, i)
      },
    }
  )
}
function v4(s) {
  let e
  const n = s[12]["dropdown-content"],
    t = Ze(n, s, s[17], Nc),
    o =
      t ||
      (function (r) {
        let i, c, a, l
        const u = [$4, p4],
          p = []
        function g(h, k) {
          return h[6].length > 0 ? 0 : 1
        }
        return (
          (i = g(r)),
          (c = p[i] = u[i](r)),
          {
            c() {
              c.c(), (a = he())
            },
            m(h, k) {
              p[i].m(h, k), M(h, a, k), (l = !0)
            },
            p(h, k) {
              let I = i
              ;(i = g(h)),
                i === I
                  ? p[i].p(h, k)
                  : (Y(),
                    m(p[I], 1, 1, () => {
                      p[I] = null
                    }),
                    X(),
                    (c = p[i]),
                    c ? c.p(h, k) : ((c = p[i] = u[i](h)), c.c()),
                    d(c, 1),
                    c.m(a.parentNode, a))
            },
            i(h) {
              l || (d(c), (l = !0))
            },
            o(h) {
              m(c), (l = !1)
            },
            d(h) {
              h && x(a), p[i].d(h)
            },
          }
        )
      })(s)
  return {
    c() {
      o && o.c()
    },
    m(r, i) {
      o && o.m(r, i), (e = !0)
    },
    p(r, i) {
      t
        ? t.p &&
          (!e || 131072 & i) &&
          Je(t, n, r, r[17], e ? et(n, r[17], i, r4) : Qe(r[17]), Nc)
        : o && o.p && (!e || 449 & i) && o.p(r, e ? i : -1)
    },
    i(r) {
      e || (d(o, r), (e = !0))
    },
    o(r) {
      m(o, r), (e = !1)
    },
    d(r) {
      o && o.d(r)
    },
  }
}
function w4(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [m4] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        side: "bottom",
        align: "start",
        $$slots: { default: [v4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        131096 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        131521 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function y4(s) {
  let e, n, t, o
  const r = [c4, a4],
    i = []
  function c(a, l) {
    return a[2] === "dropdown" ? 0 : 1
  }
  return (
    (n = c(s)),
    (t = i[n] = r[n](s)),
    {
      c() {
        ;(e = F("div")), t.c(), A(e, "class", "c-card-button svelte-1sjyo69")
      },
      m(a, l) {
        M(a, e, l), i[n].m(e, null), (o = !0)
      },
      p(a, [l]) {
        let u = n
        ;(n = c(a)),
          n === u
            ? i[n].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (t = i[n]),
              t ? t.p(a, l) : ((t = i[n] = r[n](a)), t.c()),
              d(t, 1),
              t.m(e, null))
      },
      i(a) {
        o || (d(t), (o = !0))
      },
      o(a) {
        m(t), (o = !1)
      },
      d(a) {
        a && x(e), i[n].d()
      },
    }
  )
}
function b4(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { type: r = "button" } = e,
    { title: i = "Select an option" } = e,
    { subtitle: c = "" } = e,
    { onClick: a = () => {} } = e,
    { items: l = [] } = e,
    { selectedItem: u } = e,
    { formatItemLabel: p = (S) => (S == null ? void 0 : S.toString()) || "" } =
      e,
    { noItemsLabel: g = "No items found" } = e,
    { onDropdownOpenChange: h = () => {} } = e,
    { requestClose: k = () => {} } = e
  function I(S) {
    n(0, (u = S)), C("select", S)
  }
  const C = ou()
  return (
    (s.$$set = (S) => {
      "type" in S && n(2, (r = S.type)),
        "title" in S && n(3, (i = S.title)),
        "subtitle" in S && n(4, (c = S.subtitle)),
        "onClick" in S && n(5, (a = S.onClick)),
        "items" in S && n(6, (l = S.items)),
        "selectedItem" in S && n(0, (u = S.selectedItem)),
        "formatItemLabel" in S && n(7, (p = S.formatItemLabel)),
        "noItemsLabel" in S && n(8, (g = S.noItemsLabel)),
        "onDropdownOpenChange" in S && n(9, (h = S.onDropdownOpenChange)),
        "requestClose" in S && n(1, (k = S.requestClose)),
        "$$scope" in S && n(17, (o = S.$$scope))
    }),
    [
      u,
      k,
      r,
      i,
      c,
      a,
      l,
      p,
      g,
      h,
      I,
      C,
      t,
      (S) => I(S),
      function (S) {
        ;(k = S), n(1, k)
      },
      () => {
        a(), C("click")
      },
      (S) => {
        ;(S.key !== "Enter" && S.key !== " ") || (a(), C("click"))
      },
      o,
    ]
  )
}
class od extends ne {
  constructor(e) {
    super(),
      oe(this, e, b4, y4, te, {
        type: 2,
        title: 3,
        subtitle: 4,
        onClick: 5,
        items: 6,
        selectedItem: 0,
        formatItemLabel: 7,
        noItemsLabel: 8,
        onDropdownOpenChange: 9,
        requestClose: 1,
        selectItem: 10,
      })
  }
  get selectItem() {
    return this.$$.ctx[10]
  }
}
function x4(s) {
  let e, n
  return (
    (e = new od({
      props: {
        type: "dropdown",
        title: "Connected to your GitHub account",
        $$slots: { "dropdown-content": [S4], iconLeft: [C4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4100 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function _4(s) {
  let e, n
  return (
    (e = new od({
      props: {
        type: "button",
        title: s[1] ? "Cancel" : "Connect to GitHub",
        onClick: s[4],
        $$slots: { iconRight: [P4], iconLeft: [T4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.title = t[1] ? "Cancel" : "Connect to GitHub"),
          4098 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function C4(s) {
  let e, n
  return (
    (e = new zs({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function M4(s) {
  let e, n
  return (
    (e = new Ve({
      props: {
        size: 1,
        weight: "medium",
        $$slots: { default: [k4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function A4(s) {
  let e, n, t, o
  return (
    (e = new Qn({ props: { slot: "iconLeft", useCurrentColor: !0, size: 1 } })),
    (t = new Ve({
      props: {
        size: 1,
        weight: "medium",
        $$slots: { default: [E4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function k4(s) {
  let e
  return {
    c() {
      e = K("Revoke Access")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function E4(s) {
  let e
  return {
    c() {
      e = K("Revoking...")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function I4(s) {
  let e, n, t, o
  const r = [A4, M4],
    i = []
  function c(a, l) {
    return a[2] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function S4(s) {
  let e, n, t
  return (
    (n = new Fe.Item({
      props: {
        color: "error",
        onSelect: s[6],
        $$slots: { default: [I4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")), w(n.$$.fragment), A(e, "slot", "dropdown-content")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        4100 & r && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function T4(s) {
  let e, n
  return (
    (e = new zs({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function L4(s) {
  let e, n
  return (
    (e = new A1({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function R4(s) {
  let e, n
  return (
    (e = new Qn({ props: { size: 1, useCurrentColor: !0 } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function P4(s) {
  let e, n, t, o
  const r = [R4, L4],
    i = []
  function c(a, l) {
    return a[1] ? 0 : 1
  }
  return (
    (n = c(s)),
    (t = i[n] = r[n](s)),
    {
      c() {
        ;(e = F("div")), t.c(), A(e, "slot", "iconRight")
      },
      m(a, l) {
        M(a, e, l), i[n].m(e, null), (o = !0)
      },
      p(a, l) {
        let u = n
        ;(n = c(a)),
          n !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (t = i[n]),
            t || ((t = i[n] = r[n](a)), t.c()),
            d(t, 1),
            t.m(e, null))
      },
      i(a) {
        o || (d(t), (o = !0))
      },
      o(a) {
        m(t), (o = !1)
      },
      d(a) {
        a && x(e), i[n].d()
      },
    }
  )
}
function N4(s) {
  let e, n, t, o, r
  const i = [_4, x4],
    c = []
  function a(l, u) {
    return l[0] ? 1 : 0
  }
  return (
    (t = a(s)),
    (o = c[t] = i[t](s)),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          o.c(),
          A(n, "class", "github-auth-button"),
          A(e, "class", "github-auth-card svelte-zdlnsr")
      },
      m(l, u) {
        M(l, e, u), B(e, n), c[t].m(n, null), (r = !0)
      },
      p(l, [u]) {
        let p = t
        ;(t = a(l)),
          t === p
            ? c[t].p(l, u)
            : (Y(),
              m(c[p], 1, 1, () => {
                c[p] = null
              }),
              X(),
              (o = c[t]),
              o ? o.p(l, u) : ((o = c[t] = i[t](l)), o.c()),
              d(o, 1),
              o.m(n, null))
      },
      i(l) {
        r || (d(o), (r = !0))
      },
      o(l) {
        m(o), (r = !1)
      },
      d(l) {
        l && x(e), c[t].d()
      },
    }
  )
}
function F4(s, e, n) {
  const t = ou(),
    o = Xe(mo.key)
  let r = !1,
    i = !1,
    c = !1,
    a = null,
    l = null
  async function u() {
    if (!c) {
      n(2, (c = !0))
      try {
        const p = await o.revokeGithubAccess()
        p.success
          ? (n(0, (r = !1)), t("authStateChange", { isAuthenticated: !1 }))
          : console.error("Failed to revoke GitHub access:", p.message)
      } catch (p) {
        console.error("Error revoking GitHub access:", p)
      } finally {
        n(2, (c = !1))
      }
    }
  }
  return (
    Gn(async () => {
      await (async function () {
        try {
          const p = await o.isGithubAuthenticated()
          p !== r
            ? (n(0, (r = p)), t("authStateChange", { isAuthenticated: r }))
            : n(0, (r = p))
        } catch (p) {
          console.error("Failed to check GitHub authentication status:", p),
            n(0, (r = !1)),
            t("authStateChange", { isAuthenticated: !1 })
        }
      })()
    }),
    ko(() => {
      a && (clearTimeout(a), (a = null)), l && (clearInterval(l), (l = null))
    }),
    [
      r,
      i,
      c,
      () => {},
      async function () {
        if (i) return n(1, (i = !1)), void (a && (clearTimeout(a), (a = null)))
        n(1, (i = !0))
        try {
          await o.authenticateGithub(),
            (l = setInterval(async () => {
              ;(await o.isGithubAuthenticated()) &&
                (n(0, (r = !0)),
                n(1, (i = !1)),
                t("authStateChange", { isAuthenticated: !0 }),
                l && clearInterval(l),
                a && (clearTimeout(a), (a = null)))
            }, 5e3)),
            (a = setTimeout(() => {
              l && clearInterval(l), n(1, (i = !1)), (a = null)
            }, 6e4))
        } catch (p) {
          console.error("Failed to authenticate with GitHub:", p),
            n(1, (i = !1))
        }
      },
      u,
      () => {
        u()
      },
    ]
  )
}
class D4 extends ne {
  constructor(e) {
    super(), oe(this, e, F4, N4, te, {})
  }
}
const { window: bs } = Q1,
  O4 = (s) => ({}),
  zc = (s) => ({ slot: "banner" })
function Bc(s) {
  let e,
    n,
    t = { requestEditorFocus: s[35], onMentionItemsUpdated: s[34] }
  return (
    (e = new D3({ props: t })),
    s[48](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        e.$set({})
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[48](null), b(e, o)
      },
    }
  )
}
function jc(s) {
  let e, n
  return (
    (e = new q3({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Hc(s) {
  let e, n, t, o
  return (
    (e = new ph({
      props: {
        saveImage: s[6].saveImage,
        deleteImage: s[6].deleteImage,
        renderImage: s[6].renderImage,
      },
    })),
    (t = new j$({})),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        64 & i[0] && (c.saveImage = r[6].saveImage),
          64 & i[0] && (c.deleteImage = r[6].deleteImage),
          64 & i[0] && (c.renderImage = r[6].renderImage),
          e.$set(c)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Uc(s) {
  let e, n
  return (
    (e = new T3({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function z4(s) {
  let e, n, t, o, r, i, c, a, l, u, p
  e = new W1({ props: { shortcuts: s[12] } })
  let g = !s[22].doHideAtMentions && Bc(s),
    h = !s[5] && !s[22].doHideSlashActions && jc()
  ;(r = new q1({ props: { placeholder: s[9] } })),
    (c = new Cu.Content({ props: { content: s[21], onContentChanged: s[33] } }))
  let k =
      s[6].flags.enableChatMultimodal &&
      !s[22].doHideMultimodalActions &&
      Hc(s),
    I = s[25] && Uc()
  return {
    c() {
      w(e.$$.fragment),
        (n = j()),
        g && g.c(),
        (t = j()),
        h && h.c(),
        (o = j()),
        w(r.$$.fragment),
        (i = j()),
        w(c.$$.fragment),
        (a = j()),
        k && k.c(),
        (l = j()),
        I && I.c(),
        (u = he())
    },
    m(C, S) {
      y(e, C, S),
        M(C, n, S),
        g && g.m(C, S),
        M(C, t, S),
        h && h.m(C, S),
        M(C, o, S),
        y(r, C, S),
        M(C, i, S),
        y(c, C, S),
        M(C, a, S),
        k && k.m(C, S),
        M(C, l, S),
        I && I.m(C, S),
        M(C, u, S),
        (p = !0)
    },
    p(C, S) {
      const H = {}
      4096 & S[0] && (H.shortcuts = C[12]),
        e.$set(H),
        C[22].doHideAtMentions
          ? g &&
            (Y(),
            m(g, 1, 1, () => {
              g = null
            }),
            X())
          : g
            ? (g.p(C, S), 4194304 & S[0] && d(g, 1))
            : ((g = Bc(C)), g.c(), d(g, 1), g.m(t.parentNode, t)),
        C[5] || C[22].doHideSlashActions
          ? h &&
            (Y(),
            m(h, 1, 1, () => {
              h = null
            }),
            X())
          : h
            ? 4194336 & S[0] && d(h, 1)
            : ((h = jc()), h.c(), d(h, 1), h.m(o.parentNode, o))
      const O = {}
      512 & S[0] && (O.placeholder = C[9]), r.$set(O)
      const z = {}
      2097152 & S[0] && (z.content = C[21]),
        c.$set(z),
        C[6].flags.enableChatMultimodal && !C[22].doHideMultimodalActions
          ? k
            ? (k.p(C, S), 4194368 & S[0] && d(k, 1))
            : ((k = Hc(C)), k.c(), d(k, 1), k.m(l.parentNode, l))
          : k &&
            (Y(),
            m(k, 1, 1, () => {
              k = null
            }),
            X()),
        C[25]
          ? I
            ? 33554432 & S[0] && d(I, 1)
            : ((I = Uc()), I.c(), d(I, 1), I.m(u.parentNode, u))
          : I &&
            (Y(),
            m(I, 1, 1, () => {
              I = null
            }),
            X())
    },
    i(C) {
      p ||
        (d(e.$$.fragment, C),
        d(g),
        d(h),
        d(r.$$.fragment, C),
        d(c.$$.fragment, C),
        d(k),
        d(I),
        (p = !0))
    },
    o(C) {
      m(e.$$.fragment, C),
        m(g),
        m(h),
        m(r.$$.fragment, C),
        m(c.$$.fragment, C),
        m(k),
        m(I),
        (p = !1)
    },
    d(C) {
      C && (x(n), x(t), x(o), x(i), x(a), x(l), x(u)),
        b(e, C),
        g && g.d(C),
        h && h.d(C),
        b(r, C),
        b(c, C),
        k && k.d(C),
        I && I.d(C)
    },
  }
}
function B4(s) {
  let e
  const n = s[45].banner,
    t = Ze(n, s, s[50], zc)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 524288 & r[1]) &&
        Je(t, n, o, o[50], e ? et(n, o[50], r, O4) : Qe(o[50]), zc)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function Wc(s) {
  let e, n
  return (
    (e = new P2({ props: { chatModel: s[26] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function j4(s) {
  let e,
    n,
    t = !s[22].doHideContextBar && Wc(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, r) {
      o[22].doHideContextBar
        ? t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
        : t
          ? (t.p(o, r), 4194304 & r[0] && d(t, 1))
          : ((t = Wc(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function qc(s) {
  let e, n
  return (
    (e = new rg({
      props: { chatModel: s[26], agentConversationModel: s[27] },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Gc(s) {
  let e, n
  return (
    (e = new Dn.AddFileButton({ props: { accept: ".png,.jpg,.jpeg" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Vc(s) {
  let e, n
  return (
    (e = new Dn.ActionsMenu({ props: { onCloseDropdown: s[35] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Yc(s) {
  var t
  let e, n
  return (
    (e = new Dn.ContextMenu({
      props: {
        onCloseDropdown: s[35],
        onInsertMentionable: (t = s[7]) == null ? void 0 : t.insertMentionNode,
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        var c
        const i = {}
        128 & r[0] &&
          (i.onInsertMentionable =
            (c = o[7]) == null ? void 0 : c.insertMentionNode),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        b(e, o)
      },
    }
  )
}
function H4(s) {
  let e,
    n,
    t,
    o,
    r,
    i = s[24].enableAgentMode && !s[22].doHideAgentSwitcher && qc(s),
    c =
      s[6].flags.enableChatMultimodal && !s[22].doHideMultimodalActions && Gc(),
    a = !s[5] && !s[22].doHideAtMentions && Vc(s),
    l = !s[22].doHideSlashActions && Yc(s)
  return {
    c() {
      i && i.c(),
        (e = j()),
        c && c.c(),
        (n = j()),
        a && a.c(),
        (t = j()),
        l && l.c(),
        (o = he())
    },
    m(u, p) {
      i && i.m(u, p),
        M(u, e, p),
        c && c.m(u, p),
        M(u, n, p),
        a && a.m(u, p),
        M(u, t, p),
        l && l.m(u, p),
        M(u, o, p),
        (r = !0)
    },
    p(u, p) {
      u[24].enableAgentMode && !u[22].doHideAgentSwitcher
        ? i
          ? (i.p(u, p), 20971520 & p[0] && d(i, 1))
          : ((i = qc(u)), i.c(), d(i, 1), i.m(e.parentNode, e))
        : i &&
          (Y(),
          m(i, 1, 1, () => {
            i = null
          }),
          X()),
        u[6].flags.enableChatMultimodal && !u[22].doHideMultimodalActions
          ? c
            ? 4194368 & p[0] && d(c, 1)
            : ((c = Gc()), c.c(), d(c, 1), c.m(n.parentNode, n))
          : c &&
            (Y(),
            m(c, 1, 1, () => {
              c = null
            }),
            X()),
        u[5] || u[22].doHideAtMentions
          ? a &&
            (Y(),
            m(a, 1, 1, () => {
              a = null
            }),
            X())
          : a
            ? (a.p(u, p), 4194336 & p[0] && d(a, 1))
            : ((a = Vc(u)), a.c(), d(a, 1), a.m(t.parentNode, t)),
        u[22].doHideSlashActions
          ? l &&
            (Y(),
            m(l, 1, 1, () => {
              l = null
            }),
            X())
          : l
            ? (l.p(u, p), 4194304 & p[0] && d(l, 1))
            : ((l = Yc(u)), l.c(), d(l, 1), l.m(o.parentNode, o))
    },
    i(u) {
      r || (d(i), d(c), d(a), d(l), (r = !0))
    },
    o(u) {
      m(i), m(c), m(a), m(l), (r = !1)
    },
    d(u) {
      u && (x(e), x(n), x(t), x(o)),
        i && i.d(u),
        c && c.d(u),
        a && a.d(u),
        l && l.d(u)
    },
  }
}
function Xc(s) {
  var t
  let e, n
  return (
    (e = new Dn.NotifyButton({
      props: { agentId: (t = s[28]) == null ? void 0 : t.currentAgentId },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p: N,
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        b(e, o)
      },
    }
  )
}
function U4(s) {
  let e, n, t, o
  return (
    (e = new Dn.RewritePromptButton({
      props: { isDisabled: s[16], onRewrite: s[36] },
    })),
    (t = new Dn.SendButton({
      props: { isDisabled: s[16], disabledReason: s[15], primaryAction: s[3] },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        65536 & i[0] && (c.isDisabled = r[16]), e.$set(c)
        const a = {}
        65536 & i[0] && (a.isDisabled = r[16]),
          32768 & i[0] && (a.disabledReason = r[15]),
          8 & i[0] && (a.primaryAction = r[3]),
          t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function W4(s) {
  var t
  let e, n
  return (
    (e = new Dn.ResendButton({
      props: {
        resendAction: (t = s[4]) == null ? void 0 : t.resendLastExchange,
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        var c
        const i = {}
        16 & r[0] &&
          (i.resendAction = (c = o[4]) == null ? void 0 : c.resendLastExchange),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        b(e, o)
      },
    }
  )
}
function q4(s) {
  let e, n
  return (
    (e = new Dn.CancelButton({
      props: { cancelAction: s[27].interruptAgent },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function G4(s) {
  let e, n
  return (
    (e = new Dn.CancelButton({ props: { cancelAction: s[14] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        16384 & o[0] && (r.cancelAction = t[14]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function V4(s) {
  let e, n
  return (
    (e = new D4({})),
    e.$on("authStateChange", s[47]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Y4(s) {
  let e,
    n,
    t,
    o,
    r,
    i = s[23] && !s[20] && Xc(s)
  const c = [V4, G4, q4, W4, U4],
    a = []
  function l(u, p) {
    return u[20] ? 0 : u[17] ? 1 : u[10] ? 2 : u[2] ? 3 : 4
  }
  return (
    (n = l(s)),
    (t = a[n] = c[n](s)),
    {
      c() {
        i && i.c(), (e = j()), t.c(), (o = he())
      },
      m(u, p) {
        i && i.m(u, p), M(u, e, p), a[n].m(u, p), M(u, o, p), (r = !0)
      },
      p(u, p) {
        u[23] && !u[20]
          ? i
            ? (i.p(u, p), 9437184 & p[0] && d(i, 1))
            : ((i = Xc(u)), i.c(), d(i, 1), i.m(e.parentNode, e))
          : i &&
            (Y(),
            m(i, 1, 1, () => {
              i = null
            }),
            X())
        let g = n
        ;(n = l(u)),
          n === g
            ? a[n].p(u, p)
            : (Y(),
              m(a[g], 1, 1, () => {
                a[g] = null
              }),
              X(),
              (t = a[n]),
              t ? t.p(u, p) : ((t = a[n] = c[n](u)), t.c()),
              d(t, 1),
              t.m(o.parentNode, o))
      },
      i(u) {
        r || (d(i), d(t), (r = !0))
      },
      o(u) {
        m(i), m(t), (r = !1)
      },
      d(u) {
        u && (x(e), x(o)), i && i.d(u), a[n].d(u)
      },
    }
  )
}
function X4(s) {
  let e, n
  return (
    (e = new Dn.Root({
      props: {
        slot: "footer",
        $$slots: { rightAlign: [Y4], leftAlign: [H4] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        ;(30655742 & o[0]) | (524288 & o[1]) &&
          (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Kc(s) {
  let e,
    n,
    t = {
      editable: s[0],
      $$slots: { footer: [X4], header: [j4], banner: [B4], default: [z4] },
      $$scope: { ctx: s },
    }
  return (
    (e = new Cu.Root({ props: t })),
    s[49](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        const i = {}
        1 & r[0] && (i.editable = o[0]),
          (66311934 & r[0]) | (524288 & r[1]) &&
            (i.$$scope = { dirty: r, ctx: o }),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[49](null), b(e, o)
      },
    }
  )
}
function K4(s) {
  let e,
    n,
    t,
    o,
    r = s[13],
    i = Kc(s)
  return {
    c() {
      ;(e = F("div")),
        i.c(),
        A(e, "class", "c-chat-input svelte-18n1d1k"),
        A(e, "data-testid", "design-system-chat-input")
    },
    m(c, a) {
      M(c, e, a),
        i.m(e, null),
        (n = !0),
        t ||
          ((o = [
            Oe(bs, "focus", s[46]),
            Oe(bs, "blur", function () {
              kt(s[6].saveImmediate) &&
                s[6].saveImmediate.apply(this, arguments)
            }),
            Oe(bs, "beforeunload", function () {
              kt(s[6].saveImmediate) &&
                s[6].saveImmediate.apply(this, arguments)
            }),
          ]),
          (t = !0))
    },
    p(c, a) {
      ;(s = c),
        8192 & a[0] && te(r, (r = s[13]))
          ? (Y(), m(i, 1, 1, N), X(), (i = Kc(s)), i.c(), d(i, 1), i.m(e, null))
          : i.p(s, a)
    },
    i(c) {
      n || (d(i), (n = !0))
    },
    o(c) {
      m(i), (n = !1)
    },
    d(c) {
      c && x(e), i.d(c), (t = !1), Yt(o)
    },
  }
}
function Z4(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p,
    g,
    h,
    k,
    I,
    C,
    S,
    H,
    O,
    z,
    $e,
    pe,
    re,
    le,
    ue,
    Ee,
    be,
    ee,
    Q,
    ye,
    ge = N,
    ae = N,
    se = N
  s.$$.on_destroy.push(() => ge()),
    s.$$.on_destroy.push(() => ae()),
    s.$$.on_destroy.push(() => se())
  let { $$slots: xe = {}, $$scope: tt } = e
  const Ie = Xe("chatModel")
  Ge(s, Ie, (we) => n(6, (be = we)))
  const Be = Xe("toolsWebviewModel"),
    rt = Xe("agentConversationModel"),
    He = Xe(_o.key)
  Ge(s, He, (we) => n(42, (le = we)))
  const Rt = Xe(mo.key),
    P = Xe("slashCommandModel"),
    _ = Ie.flags
  Ge(s, _, (we) => n(24, (Q = we)))
  const L = Xe(Vo) ?? Ct(Gr)
  Ge(s, L, (we) => n(44, (ee = we)))
  const { currentConversationModel: U } = Ie
  Ge(s, U, (we) => n(41, (pe = we)))
  const { activeCommand: G } = P
  Ge(s, G, (we) => n(25, (ye = we)))
  let { editable: ce = !0 } = e,
    { placeholder: me = "Ask or instruct Augment..." } = e
  const Re = U.onNewConversation(() => ie())
  ko(Re)
  let We,
    qe,
    De = !0
  const Ce = () => (qe == null ? void 0 : qe.requestFocus()),
    ie = () => (qe == null ? void 0 : qe.forceFocus())
  let Ae = !1
  return (
    (s.$$set = (we) => {
      "editable" in we && n(0, (ce = we.editable)),
        "placeholder" in we && n(37, (me = we.placeholder)),
        "$$scope" in we && n(50, (tt = we.$$scope))
    }),
    (s.$$.update = () => {
      var we, lt, yt, nn
      if (
        (2048 & s.$$.dirty[1] && n(23, (t = !!(le != null && le.isActive))),
        8192 & s.$$.dirty[1] && n(22, (o = ee)),
        1024 & s.$$.dirty[1] &&
          n(
            21,
            (r =
              (we = pe.draftExchange) == null
                ? void 0
                : we.rich_text_json_repr),
          ),
        2048 & s.$$.dirty[1] &&
          le != null &&
          le.isActive &&
          !(He != null && He.currentAgent) &&
          (async function () {
            if (Rt && He != null && He.isActive)
              try {
                n(1, (De = await Rt.isGithubAuthenticated()))
              } catch (jt) {
                console.error(
                  "Failed to check GitHub authentication status:",
                  jt,
                ),
                  n(1, (De = !1))
              }
          })(),
        (2 & s.$$.dirty[0]) | (2048 & s.$$.dirty[1]) &&
          n(
            20,
            (i =
              (le == null ? void 0 : le.isActive) &&
              !(He != null && He.currentAgent) &&
              !De),
          ),
        (64 & s.$$.dirty[0]) | (2048 & s.$$.dirty[1]) &&
          n(
            40,
            (l = (function (jt, At, gn, Dt, Ot, on) {
              var en
              const rn = jt.currentConversationModel,
                sn = ft(Dt.activeCommand),
                Ht = ft(At.isCurrConversationAgentic),
                vn = (() => {
                  var an
                  if (jt.flags.enableChatMultimodal) {
                    const St =
                      (an = rn.draftExchange) == null
                        ? void 0
                        : an.rich_text_json_repr
                    return !!St && zr.hasLoadingImages(St)
                  }
                  return !1
                })()
              if (Ot != null && Ot.isActive) {
                let an = !1
                Ot.agentOverviews &&
                  (an =
                    !!Ot.maxRemoteAgents &&
                    Ot.agentOverviews.length >= Ot.maxRemoteAgents)
                let St = !1
                return (
                  Ot.currentAgentId ||
                    (St =
                      !(
                        (en = rn.draftExchange) != null && en.request_message
                      ) ||
                      Ot.isCreatingAgent ||
                      an),
                  {
                    stateName: "remoteAgentMode",
                    showCancelButton: Ot.isCurrentAgentRunning,
                    isDisabled: St,
                    disabledReason: an
                      ? G3.replace(
                          "%MAX_AGENTS%",
                          Ot.maxRemoteAgents.toString(),
                        )
                      : void 0,
                    action: V3(Ot, rn, on),
                    cancelAction: () => (Ot.interruptAgent(), !0),
                  }
                )
              }
              return vn
                ? {
                    stateName: "imagesLoading",
                    showCancelButton: !1,
                    isDisabled: !0,
                    action: () => !1,
                    cancelAction: () => (
                      Ht
                        ? At.interruptAgent()
                        : gn.interruptToolsConversation(),
                      !0
                    ),
                  }
                : sn
                  ? {
                      stateName: "slashCommandActive",
                      showCancelButton: !1,
                      isDisabled: !1,
                      action: () => (
                        Dt.runActiveCommand(), rn.clearDraftExchange(), !0
                      ),
                      cancelAction: () => !1,
                    }
                  : Ht
                    ? {
                        stateName: "agentMode",
                        showCancelButton: !1,
                        isDisabled: !rn.hasDraft,
                        action: () => (
                          At.interruptAgent().then(() => {
                            rn.sendDraftExchange()
                          }),
                          !0
                        ),
                        cancelAction: () => (At.interruptAgent(), !0),
                      }
                    : {
                        stateName: "chatMode",
                        showCancelButton: rn.canCancelMessage,
                        isDisabled: !rn.canSendDraft,
                        action: () => (rn.sendDraftExchange(), !0),
                        cancelAction: () => (
                          gn.interruptToolsConversation(), !0
                        ),
                      }
            })(be, rt, Be, P, le, Rt)),
          ),
        512 & s.$$.dirty[1] && n(17, (u = l.showCancelButton)),
        512 & s.$$.dirty[1] && n(16, (p = l.isDisabled)),
        512 & s.$$.dirty[1] && n(15, (g = l.disabledReason)),
        512 & s.$$.dirty[1] && n(3, (h = l.action)),
        512 & s.$$.dirty[1] && n(14, (k = l.cancelAction)),
        (32 & s.$$.dirty[0]) | (2112 & s.$$.dirty[1]) &&
          n(13, (I = `${Ee}-${le == null ? void 0 : le.isActive}-${me}`)),
        8 & s.$$.dirty[0] && n(12, (C = { Enter: h })),
        64 & s.$$.dirty[0] &&
          (n(11, (S = be.currentConversationModel)),
          ge(),
          (ge = mt(S, (jt) => n(4, (re = jt))))),
        16 & s.$$.dirty[0])
      ) {
        const jt =
            (lt = re == null ? void 0 : re.lastExchange) == null
              ? void 0
              : lt.status,
          At = jt === Ft.cancelled,
          gn = re == null ? void 0 : re.getLastToolUseState().phase,
          Dt = gn === Nt.cancelled
        n(38, (Ae = At || Dt))
      }
      ;(32 & s.$$.dirty[0]) | (6144 & s.$$.dirty[1]) &&
        n(10, (H = !(le != null && le.isActive) && Ee && ue !== Rr.notRunning)),
        3200 & s.$$.dirty[1] &&
          n(
            2,
            (O =
              !(le != null && le.isActive) &&
              Ae &&
              ((yt = pe.draftExchange) == null
                ? void 0
                : yt.request_message) === ""),
          ),
        16 & s.$$.dirty[0] &&
          n(
            39,
            (z =
              (nn = re == null ? void 0 : re.lastExchange) == null
                ? void 0
                : nn.request_message),
          ),
        (4 & s.$$.dirty[0]) | (320 & s.$$.dirty[1]) &&
          n(9, ($e = O && z ? z : me))
    }),
    n(
      19,
      ({ isCurrConversationAgentic: c, agentExchangeStatus: a } = rt),
      c,
      (n(18, a), ae(), (ae = mt(a, (we) => n(43, (ue = we)))), a),
    ),
    se(),
    (se = mt(c, (we) => n(5, (Ee = we)))),
    [
      ce,
      De,
      O,
      h,
      re,
      Ee,
      be,
      We,
      qe,
      $e,
      H,
      S,
      C,
      I,
      k,
      g,
      p,
      u,
      a,
      c,
      i,
      r,
      o,
      t,
      Q,
      ye,
      Ie,
      rt,
      He,
      _,
      L,
      U,
      G,
      function (we) {
        pe.saveDraftExchange(we.rawText, we.richTextJsonRepr)
      },
      function (we) {
        pe.saveDraftMentions(we.current)
      },
      Ce,
      async function () {
        var we, lt, yt, nn, jt
        try {
          const At =
            ((we = pe.draftExchange) == null ? void 0 : we.request_message) ||
            ""
          if (!At || At.trim() === "") return
          const gn = `Here is an instruction that I'd like to give you, but it needs to be improved. Rewrite and enhance this instruction to make it clearer, more specific, less ambiguous, and correct any mistakes. Do not use any tools: reply immediately with your answer, even if you're not sure. Consider the context of our conversation history when enhancing the prompt. Reply with the following format:

### BEGIN RESPONSE ###
Here is an enhanced version of the original instruction that is more specific and clear:
<augment-enhanced-prompt>enhanced prompt goes here</augment-enhanced-prompt>

### END RESPONSE ###

Here is my original instruction:`,
            Dt =
              (lt = pe.draftExchange) == null ? void 0 : lt.rich_text_json_repr
          try {
            let { responseText: Ot } = await pe.sendSilentExchange({
              request_message: `${gn}

${At}`,
              disableHistory: !1,
              disableRetrieval: !1,
            })
            pe.extensionClient.reportAgentSessionEvent({
              eventName: Dr.enhancedPrompt,
              conversationId: pe.id,
            })
            let on = ""
            const rn =
                /<augment-enhanced-prompt>([\s\S]*?)<\/augment-enhanced-prompt>/,
              sn = Ot.match(rn)
            if (sn && sn[1]) on = sn[1].trim()
            else {
              ;(on = At),
                console.warn(
                  "Enhanced prompt tags not found in response, using original prompt",
                )
              const Ht = document.createElement("div")
              ;(Ht.className = "enhance-prompt-error-tooltip"),
                (Ht.textContent = "Failed to enhance prompt, sorry about that"),
                document.body.appendChild(Ht)
              const vn = x1(Ht, {
                  content: Ht,
                  trigger: "manual",
                  placement: "top",
                  theme: "error",
                  duration: [300, 2e3],
                  onHidden: () => {
                    Ht.remove()
                  },
                }),
                en = document.querySelector(".c-rewrite-prompt-button")
              en
                ? (vn.setProps({
                    getReferenceClientRect: () => en.getBoundingClientRect(),
                  }),
                  vn.show(),
                  setTimeout(() => {
                    vn.hide()
                  }, 3e3))
                : Ht.remove()
            }
            if (on && on.trim() !== "") {
              const Ht =
                (yt = pe.draftExchange) == null
                  ? void 0
                  : yt.rich_text_json_repr
              let vn
              if (Ht && typeof Ht == "object") {
                const en = (an) => {
                  const St = { ...an }
                  return (St.type === "text" && St.text === At) ||
                    (St.type === "text" && St.text && At.includes(St.text))
                    ? { ...St, text: on }
                    : (St.content &&
                        Array.isArray(St.content) &&
                        (St.content = St.content.map(en)),
                      St)
                }
                vn = en(Ht)
              } else
                vn = {
                  type: "doc",
                  content: [
                    {
                      type: "paragraph",
                      content: [{ type: "text", text: on }],
                    },
                  ],
                }
              pe.saveDraftExchange(on, vn),
                setTimeout(() => {
                  ie()
                  try {
                    const en = document.querySelector(".ProseMirror")
                    if (en) {
                      const an = en.querySelector("p")
                      if (an) {
                        const St = document.createRange(),
                          ho = window.getSelection()
                        St.setStart(an, 0),
                          St.collapse(!0),
                          ho && (ho.removeAllRanges(), ho.addRange(St))
                      }
                    }
                  } catch {}
                }, 200)
            } else
              pe.saveDraftExchange(
                (Dt &&
                  ((nn = pe.draftExchange) == null
                    ? void 0
                    : nn.request_message)) ||
                  "",
                Dt || { type: "doc", content: [] },
              )
          } catch {
            pe.saveDraftExchange(
              (Dt &&
                ((jt = pe.draftExchange) == null
                  ? void 0
                  : jt.request_message)) ||
                "",
              Dt || { type: "doc", content: [] },
            )
          }
          ie()
        } catch {}
      },
      me,
      Ae,
      z,
      l,
      pe,
      le,
      ue,
      ee,
      xe,
      () => {
        t || Ce()
      },
      ({ detail: we }) => {
        n(1, (De = we.isAuthenticated))
      },
      function (we) {
        bt[we ? "unshift" : "push"](() => {
          ;(We = we), n(7, We)
        })
      },
      function (we) {
        bt[we ? "unshift" : "push"](() => {
          ;(qe = we), n(8, qe)
        })
      },
      tt,
    ]
  )
}
class J4 extends ne {
  constructor(e) {
    super(),
      oe(this, e, Z4, K4, te, { editable: 0, placeholder: 37 }, null, [-1, -1])
  }
}
const Q4 = (s) => ({}),
  Zc = (s) => ({}),
  ew = (s) => ({}),
  Jc = (s) => ({}),
  tw = (s) => ({}),
  Qc = (s) => ({}),
  nw = (s) => ({}),
  el = (s) => ({})
function ow(s) {
  let e, n, t, o, r, i, c, a, l, u
  const p = s[1]["floating-area"],
    g = Ze(p, s, s[0], el),
    h = s[1]["message-area"],
    k = Ze(h, s, s[0], Qc),
    I = s[1]["actions-area"],
    C = Ze(I, s, s[0], Jc),
    S = s[1]["input-area"],
    H = Ze(S, s, s[0], Zc)
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        g && g.c(),
        (t = j()),
        (o = F("div")),
        (r = F("div")),
        k && k.c(),
        (i = j()),
        (c = F("div")),
        C && C.c(),
        (a = j()),
        (l = F("div")),
        H && H.c(),
        A(n, "class", "l-chat__floating svelte-1wf63cr"),
        A(r, "class", "l-chat__msg_area_body svelte-1wf63cr"),
        A(o, "class", "l-chat__msg_area svelte-1wf63cr"),
        A(c, "class", "l-chat__actions_area svelte-1wf63cr"),
        A(l, "class", "l-chat__input_area svelte-1wf63cr"),
        A(e, "class", "l-chat svelte-1wf63cr"),
        A(e, "data-testid", "main-chat"),
        A(
          e,
          "data-vscode-context",
          JSON.stringify({ preventDefaultContextMenuItems: !0 }),
        )
    },
    m(O, z) {
      M(O, e, z),
        B(e, n),
        g && g.m(n, null),
        B(e, t),
        B(e, o),
        B(o, r),
        k && k.m(r, null),
        B(e, i),
        B(e, c),
        C && C.m(c, null),
        B(e, a),
        B(e, l),
        H && H.m(l, null),
        (u = !0)
    },
    p(O, [z]) {
      g &&
        g.p &&
        (!u || 1 & z) &&
        Je(g, p, O, O[0], u ? et(p, O[0], z, nw) : Qe(O[0]), el),
        k &&
          k.p &&
          (!u || 1 & z) &&
          Je(k, h, O, O[0], u ? et(h, O[0], z, tw) : Qe(O[0]), Qc),
        C &&
          C.p &&
          (!u || 1 & z) &&
          Je(C, I, O, O[0], u ? et(I, O[0], z, ew) : Qe(O[0]), Jc),
        H &&
          H.p &&
          (!u || 1 & z) &&
          Je(H, S, O, O[0], u ? et(S, O[0], z, Q4) : Qe(O[0]), Zc)
    },
    i(O) {
      u || (d(g, O), d(k, O), d(C, O), d(H, O), (u = !0))
    },
    o(O) {
      m(g, O), m(k, O), m(C, O), m(H, O), (u = !1)
    },
    d(O) {
      O && x(e), g && g.d(O), k && k.d(O), C && C.d(O), H && H.d(O)
    },
  }
}
function rw(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e
  return (
    (s.$$set = (r) => {
      "$$scope" in r && n(0, (o = r.$$scope))
    }),
    [o, t]
  )
}
class sw extends ne {
  constructor(e) {
    super(), oe(this, e, rw, ow, te, {})
  }
}
class iw {
  constructor(e, n) {
    Z(this, "subscribers", new Set())
    Z(this, "isAutofixConversation", () => m1(this._conversationModel))
    Z(
      this,
      "subscribe",
      (e) => (
        this.subscribers.add(e),
        e(this),
        () => {
          this.subscribers.delete(e)
        }
      ),
    )
    Z(this, "notifySubscribers", () => {
      this.subscribers.forEach((e) => e(this))
    })
    Z(this, "update", (e) => {
      ;(this._conversationModel.extraData = { ...this.extraData, ...e }),
        this.notifySubscribers(),
        this.sendAutofixStateUpdate()
    })
    Z(this, "shouldShowAutofixCommandInput", () => {
      var e
      return !((e = this.extraData.autofixIterations) != null && e.length)
    })
    Z(this, "launchAutofixPanel", async (e, n) => {
      await this._extensionClient.launchAutofixPanel(this.conversationId, e, n)
    })
    ;(this._conversationModel = e),
      (this._extensionClient = n),
      this._conversationModel.subscribe((t) => this.notifySubscribers())
  }
  get conversationId() {
    return this._conversationModel.id
  }
  async sendAutofixStateUpdate() {
    await this._extensionClient.sendAutofixStateUpdate(
      this._conversationModel.extraData,
    )
  }
  setCommand(e) {
    this.update({ autofixCommand: e })
  }
  get extraData() {
    return this._conversationModel.extraData
  }
  addChatItem(e) {
    this._conversationModel.addChatItem(e)
  }
  getAutofixIteration(e) {
    var n
    return (n = this.extraData.autofixIterations) == null
      ? void 0
      : n.find((t) => t.id === e)
  }
  insertNewAutofixIteration(e) {
    this.update({
      autofixIterations: [...(this.extraData.autofixIterations || []), e],
    })
  }
  updateAutofixIteration(e) {
    const n = this.extraData.autofixIterations || [],
      t = n.findIndex((o) => o.id === e.id)
    if (t === -1) throw new Error(`No autofix iteration found with id ${e.id}`)
    this.update({
      autofixIterations: n.map((o, r) => (r === t ? { ...o, ...e } : o)),
    })
  }
  async handleFixWasApplied(e) {
    var t, o
    const n =
      (o =
        (t = this.extraData.autofixIterations) == null ? void 0 : t.at(-1)) ==
      null
        ? void 0
        : o.id
    if (!n) throw new Error("No latest iteration found")
    this.updateAutofixIteration({ id: n, selectedSolutions: e }),
      await this.startNewAutofixIteration()
  }
  async handleUserSteering(e) {
    var o, r
    const n = (o = this.extraData.autofixIterations) == null ? void 0 : o.at(-1)
    if (!n) throw new Error("No latest iteration found")
    const t = (r = n.suggestedSolutions) == null ? void 0 : r.at(-1)
    if (!t) throw new Error("No latest suggested solution found")
    this.addChatItem({
      chatItemType: Pn.autofixSteeringMessage,
      request_id: crypto.randomUUID(),
      status: Ft.sent,
      response_text: e,
    }),
      this.update({
        autofixSteeringHistory: [
          ...(this.extraData.autofixSteeringHistory || []),
          {
            requestId: crypto.randomUUID(),
            requestMessage: e,
            summary: t.summary,
            replacements: t.originalReplacements,
          },
        ],
      }),
      await this.planSolution(n.id)
  }
  async startNewAutofixIteration() {
    var r
    const e = this.extraData.autofixCommand
    if (!e) throw new Error("No command set")
    const n = this.extraData,
      t = crypto.randomUUID(),
      o = !((r = n.autofixIterations) != null && r.length)
    this.insertNewAutofixIteration({
      id: t,
      currentStage: yo.runTest,
      commandOutput: "",
      isFirstIteration: o,
    }),
      this.addChatItem({
        chatItemType: Pn.autofixStage,
        request_id: crypto.randomUUID(),
        iterationId: t,
        status: Ft.sent,
        stage: yo.runTest,
      }),
      await this.launchAutofixPanel(t, yo.runTest)
    try {
      const i = e.split(" "),
        c = i[0],
        a = i.slice(1),
        l = await this._extensionClient.executeCommand(t, c, a),
        u = l.returnCode !== 0
      if (
        (this.updateAutofixIteration({
          id: t,
          commandOutput: l.output,
          commandFailed: u,
        }),
        !u)
      )
        return t
    } catch (i) {
      return (
        console.error("[ConversationModel] Error executing command:", i),
        this.updateAutofixIteration({
          id: t,
          commandOutput: String(i),
          commandFailed: !0,
        }),
        t
      )
    }
    return await this.planSolution(t), t
  }
  async planSolution(e) {
    var r, i
    const n = this.extraData.autofixCommand
    if (!n) throw new Error("No command set")
    const t = this.getAutofixIteration(e)
    if (!t) throw new Error(`No iteration found with id ${e}`)
    this.updateAutofixIteration({ id: e, currentStage: yo.applyFix }),
      this.addChatItem({
        chatItemType: Pn.autofixStage,
        request_id: crypto.randomUUID(),
        iterationId: e,
        status: Ft.sent,
        stage: yo.applyFix,
        stageCount:
          ((r = t.suggestedSolutions) == null ? void 0 : r.length) || 0,
      })
    const o = await this._extensionClient.autofixPlan(
      {
        input: n,
        output:
          ((i = this.getAutofixIteration(e)) == null
            ? void 0
            : i.commandOutput) || "",
      },
      this.extraData.autofixSteeringHistory,
    )
    this.addChatItem({
      chatItemType: Pn.autofixMessage,
      request_id: crypto.randomUUID(),
      status: Ft.sent,
      response_text: o.summary,
    }),
      this.updateAutofixIteration({
        id: e,
        suggestedSolutions: [...(t.suggestedSolutions || []), o],
      }),
      await this.launchAutofixPanel(e, yo.applyFix)
  }
  handleMessageFromExtension(e) {
    const n = e.data
    switch (n.type) {
      case st.chatAutofixStateUpdateRequest:
        return this.sendAutofixStateUpdate(), !0
      case st.chatAutofixSuggestionsApplied:
        return this.handleFixWasApplied(n.data.selectedSolutions), !0
      default:
        return !1
    }
  }
  initializeAutofixConversation() {
    this.update({ isAutofix: !0, autofixIterations: [] })
    const e = {
      chatItemType: Pn.autofixMessage,
      request_id: crypto.randomUUID(),
      status: Ft.success,
      response_text:
        "Autofix enables you to run your tests and suggests fixes for you. Start by typing a command to run your test such as `pytest path/to/test`",
    }
    this._conversationModel.chatHistory.push(e)
  }
}
function aw(s) {
  let e, n
  return (
    (e = new eo({ props: { iconName: "play_arrow" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function cw(s) {
  let e, n, t, o, r, i
  function c(l) {
    s[2](l)
  }
  let a = {
    placeholder: "Enter test command (e.g. pytest path/to/test.py)",
    variant: "surface",
    size: 2,
  }
  return (
    s[0] !== void 0 && (a.value = s[0]),
    (n = new Xr({ props: a })),
    bt.push(() => Qt(n, "value", c)),
    n.$on("keydown", s[1]),
    (r = new _t({
      props: {
        disabled: !s[0],
        size: 2,
        variant: "solid",
        color: "accent",
        $$slots: { default: [aw] },
        $$scope: { ctx: s },
      },
    })),
    r.$on("click", s[3]),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (o = j()),
          w(r.$$.fragment),
          A(e, "class", "command-input-container svelte-3c7cic")
      },
      m(l, u) {
        M(l, e, u), y(n, e, null), B(e, o), y(r, e, null), (i = !0)
      },
      p(l, [u]) {
        const p = {}
        !t && 1 & u && ((t = !0), (p.value = l[0]), tn(() => (t = !1))),
          n.$set(p)
        const g = {}
        1 & u && (g.disabled = !l[0]),
          64 & u && (g.$$scope = { dirty: u, ctx: l }),
          r.$set(g)
      },
      i(l) {
        i || (d(n.$$.fragment, l), d(r.$$.fragment, l), (i = !0))
      },
      o(l) {
        m(n.$$.fragment, l), m(r.$$.fragment, l), (i = !1)
      },
      d(l) {
        l && x(e), b(n), b(r)
      },
    }
  )
}
function lw(s, e, n) {
  const t = Xe("autofixConversationModel")
  if (!t) throw new Error("AutofixConversationModel not found in context")
  let o = ""
  async function r(i) {
    return (
      !(i.shiftKey || i.ctrlKey || i.metaKey) &&
      (i.stopPropagation(),
      i.key === "Enter" && o.length > 0
        ? (t.setCommand(o),
          await t.startNewAutofixIteration(),
          n(0, (o = "")),
          !0)
        : i.key === "Escape")
    )
  }
  return (
    Gn(() => {
      const i = document.querySelector("input")
      i && (i.focus(), i.select())
    }),
    [
      o,
      r,
      function (i) {
        ;(o = i), n(0, o)
      },
      () => r(new KeyboardEvent("keydown", { key: "Enter" })),
    ]
  )
}
class uw extends ne {
  constructor(e) {
    super(), oe(this, e, lw, cw, te, {})
  }
}
function dw(s) {
  let e, n, t, o, r, i
  return (
    (n = new Ve({
      props: {
        size: 1,
        color: "error",
        $$slots: { default: [fw] },
        $$scope: { ctx: s },
      },
    })),
    (r = new Ve({
      props: {
        size: 1,
        color: "error",
        $$slots: { default: [mw] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          (o = F("div")),
          w(r.$$.fragment),
          A(e, "class", "c-lazy-loading-error"),
          A(o, "class", "c-lazy-loading-error")
      },
      m(c, a) {
        M(c, e, a),
          y(n, e, null),
          M(c, t, a),
          M(c, o, a),
          y(r, o, null),
          (i = !0)
      },
      i(c) {
        i || (d(n.$$.fragment, c), d(r.$$.fragment, c), (i = !0))
      },
      o(c) {
        m(n.$$.fragment, c), m(r.$$.fragment, c), (i = !1)
      },
      d(c) {
        c && (x(e), x(t), x(o)), b(n), b(r)
      },
    }
  )
}
function fw(s) {
  let e
  return {
    c() {
      e =
        K(`Failed to load agent setup. Please try closing and re-opening the panel, or contact support
      if this problem persists.`)
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function mw(s) {
  let e
  return {
    c() {
      e = K(s[2])
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    d(n) {
      n && x(e)
    },
  }
}
function pw(s) {
  let e, n
  return (
    (function (t) {
      t[0] = t[1].default
    })(s),
    (e = new s[0]({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $w(s) {
  let e, n, t, o, r
  return (
    (n = new Qn({ props: { size: 1 } })),
    (o = new Ve({
      props: {
        size: 1,
        color: "secondary",
        $$slots: { default: [hw] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          w(o.$$.fragment),
          A(e, "class", "c-lazy-loading-container")
      },
      m(i, c) {
        M(i, e, c), y(n, e, null), B(e, t), y(o, e, null), (r = !0)
      },
      i(i) {
        r || (d(n.$$.fragment, i), d(o.$$.fragment, i), (r = !0))
      },
      o(i) {
        m(n.$$.fragment, i), m(o.$$.fragment, i), (r = !1)
      },
      d(i) {
        i && x(e), b(n), b(o)
      },
    }
  )
}
function hw(s) {
  let e
  return {
    c() {
      e = K("Loading agent setup...")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function gw(s) {
  let e,
    n,
    t = {
      ctx: s,
      current: null,
      token: null,
      hasCatch: !0,
      pending: $w,
      then: pw,
      catch: dw,
      value: 1,
      error: 2,
      blocks: [, , ,],
    }
  return (
    Ao(
      Zr(
        () => import("./RemoteAgentSetup-CY6b7qMw.js"),
        __vite__mapDeps([
          4, 1, 2, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
          21, 22, 23, 24, 25, 26, 0, 3, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36,
          37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52,
        ]),
        import.meta.url,
      ),
      t,
    ),
    {
      c() {
        ;(e = he()), t.block.c()
      },
      m(o, r) {
        M(o, e, r),
          t.block.m(o, (t.anchor = r)),
          (t.mount = () => e.parentNode),
          (t.anchor = e),
          (n = !0)
      },
      p(o, [r]) {
        s = o
      },
      i(o) {
        n || (d(t.block), (n = !0))
      },
      o(o) {
        for (let r = 0; r < 3; r += 1) {
          const i = t.blocks[r]
          m(i)
        }
        n = !1
      },
      d(o) {
        o && x(e), t.block.d(o), (t.token = null), (t = null)
      },
    }
  )
}
class vw extends ne {
  constructor(e) {
    super(), oe(this, e, null, gw, te, {})
  }
}
function ww(s) {
  let e, n, t, o, r
  return {
    c() {
      ;(e = K("Error loading message list: ")),
        (n = K(s[0])),
        (t = j()),
        (o = F("br")),
        (r = K(`
    Please consider restarting your extension, or contact support if this problem persists.`))
    },
    m(i, c) {
      M(i, e, c), M(i, n, c), M(i, t, c), M(i, o, c), M(i, r, c)
    },
    p(i, c) {
      1 & c && ze(n, i[0])
    },
    d(i) {
      i && (x(e), x(n), x(t), x(o), x(r))
    },
  }
}
function yw(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function bw(s) {
  let e, n, t
  return (
    (n = new Mn({
      props: {
        variant: "soft",
        color: "error",
        $$slots: { icon: [yw], default: [ww] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "l-error-message svelte-1w3i40p")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, [r]) {
        const i = {}
        3 & r && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function xw(s, e, n) {
  let { errorMessage: t } = e
  return (
    (s.$$set = (o) => {
      "errorMessage" in o && n(0, (t = o.errorMessage))
    }),
    [t]
  )
}
class rd extends ne {
  constructor(e) {
    super(), oe(this, e, xw, bw, te, { errorMessage: 0 })
  }
}
function _w(s) {
  let e,
    n,
    t = {
      ctx: s,
      current: null,
      token: null,
      hasCatch: !0,
      pending: Iw,
      then: Aw,
      catch: Mw,
      value: 13,
      error: 14,
      blocks: [, , ,],
    }
  return (
    Ao(
      Zr(
        () => import("./MessageList-DsbR99UH.js"),
        __vite__mapDeps([
          53, 1, 2, 6, 7, 54, 49, 50, 48, 51, 55, 9, 10, 44, 35, 27, 28, 14, 15,
          16, 36, 17, 18, 19, 20, 21, 5, 8, 22, 23, 24, 25, 26, 0, 3, 29, 30,
          47, 56, 31, 32, 33, 34, 57, 42, 58, 59, 60, 61, 62, 63, 37, 64, 43,
          11, 45, 40, 41, 65, 46, 38, 39, 12, 13, 66,
        ]),
        import.meta.url,
      ),
      t,
    ),
    {
      c() {
        ;(e = he()), t.block.c()
      },
      m(o, r) {
        M(o, e, r),
          t.block.m(o, (t.anchor = r)),
          (t.mount = () => e.parentNode),
          (t.anchor = e),
          (n = !0)
      },
      p(o, r) {
        Kr(t, (s = o), r)
      },
      i(o) {
        n || (d(t.block), (n = !0))
      },
      o(o) {
        for (let r = 0; r < 3; r += 1) {
          const i = t.blocks[r]
          m(i)
        }
        n = !1
      },
      d(o) {
        o && x(e), t.block.d(o), (t.token = null), (t = null)
      },
    }
  )
}
function Cw(s) {
  let e,
    n,
    t = {
      ctx: s,
      current: null,
      token: null,
      hasCatch: !0,
      pending: Fw,
      then: Rw,
      catch: Lw,
      value: 13,
      error: 14,
      blocks: [, , ,],
    }
  return (
    Ao(
      Zr(
        () => import("./VirtualizedMessageList-DzO0G6cN.js"),
        __vite__mapDeps([
          67, 1, 2, 6, 7, 54, 49, 50, 48, 51, 55, 9, 10, 44, 35, 27, 28, 14, 15,
          16, 36, 17, 18, 19, 20, 21, 5, 8, 22, 23, 24, 25, 26, 0, 3, 29, 30,
          47, 56, 31, 32, 33, 34, 57, 42, 58, 59, 60, 61, 62, 63, 37, 64, 43,
          11, 45, 40, 41, 65, 46, 38, 39, 12, 13, 68,
        ]),
        import.meta.url,
      ),
      t,
    ),
    {
      c() {
        ;(e = he()), t.block.c()
      },
      m(o, r) {
        M(o, e, r),
          t.block.m(o, (t.anchor = r)),
          (t.mount = () => e.parentNode),
          (t.anchor = e),
          (n = !0)
      },
      p(o, r) {
        Kr(t, (s = o), r)
      },
      i(o) {
        n || (d(t.block), (n = !0))
      },
      o(o) {
        for (let r = 0; r < 3; r += 1) {
          const i = t.blocks[r]
          m(i)
        }
        n = !1
      },
      d(o) {
        o && x(e), t.block.d(o), (t.token = null), (t = null)
      },
    }
  )
}
function Mw(s) {
  let e, n, t
  return (
    (n = new rd({ props: { errorMessage: s[14].message } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "l-center-contents svelte-mlzu3y"),
          A(e, "data-testid", "l-lazy-message-list-loading-error")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Aw(s) {
  let e,
    n,
    t = s[4],
    o = tl(s)
  return {
    c() {
      o.c(), (e = he())
    },
    m(r, i) {
      o.m(r, i), M(r, e, i), (n = !0)
    },
    p(r, i) {
      16 & i && te(t, (t = r[4]))
        ? (Y(),
          m(o, 1, 1, N),
          X(),
          (o = tl(r)),
          o.c(),
          d(o, 1),
          o.m(e.parentNode, e))
        : o.p(r, i)
    },
    i(r) {
      n || (d(o), (n = !0))
    },
    o(r) {
      m(o), (n = !1)
    },
    d(r) {
      r && x(e), o.d(r)
    },
  }
}
function kw(s) {
  let e, n, t
  const o = [{ chatModel: s[0] }, { onboardingWorkspaceModel: s[1] }, s[8]]
  var r = s[13].default
  function i(c, a) {
    let l = {}
    for (let u = 0; u < o.length; u += 1) l = Le(l, o[u])
    return (
      a !== void 0 &&
        259 & a &&
        (l = Le(
          l,
          Mt(o, [
            1 & a && { chatModel: c[0] },
            2 & a && { onboardingWorkspaceModel: c[1] },
            256 & a && Jn(c[8]),
          ]),
        )),
      { props: l }
    )
  }
  return (
    r && (e = Cn(r, i(s))),
    {
      c() {
        e && w(e.$$.fragment), (n = he())
      },
      m(c, a) {
        e && y(e, c, a), M(c, n, a), (t = !0)
      },
      p(c, a) {
        if (r !== (r = c[13].default)) {
          if (e) {
            Y()
            const l = e
            m(l.$$.fragment, 1, 0, () => {
              b(l, 1)
            }),
              X()
          }
          r
            ? ((e = Cn(r, i(c, a))),
              w(e.$$.fragment),
              d(e.$$.fragment, 1),
              y(e, n.parentNode, n))
            : (e = null)
        } else if (r) {
          const l =
            259 & a
              ? Mt(o, [
                  1 & a && { chatModel: c[0] },
                  2 & a && { onboardingWorkspaceModel: c[1] },
                  256 & a && Jn(c[8]),
                ])
              : {}
          e.$set(l)
        }
      },
      i(c) {
        t || (e && d(e.$$.fragment, c), (t = !0))
      },
      o(c) {
        e && m(e.$$.fragment, c), (t = !1)
      },
      d(c) {
        c && x(n), e && b(e, c)
      },
    }
  )
}
function Ew(s) {
  let e
  return {
    c() {
      ;(e = F("div")),
        A(e, "class", "l-center-contents svelte-mlzu3y"),
        A(e, "data-testid", "l-lazy-message-list-center-contents")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    i: N,
    o: N,
    d(n) {
      n && x(e)
    },
  }
}
function tl(s) {
  let e, n, t, o
  const r = [Ew, kw],
    i = []
  function c(a, l) {
    return a[3].chatHistory.length === 0 ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e === u
            ? i[e].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (n = i[e]),
              n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
              d(n, 1),
              n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function Iw(s) {
  let e,
    n = s[4],
    t = nl(s)
  return {
    c() {
      t.c(), (e = he())
    },
    m(o, r) {
      t.m(o, r), M(o, e, r)
    },
    p(o, r) {
      16 & r && te(n, (n = o[4]))
        ? (t.d(1), (t = nl(o)), t.c(), t.m(e.parentNode, e))
        : t.p(o, r)
    },
    i: N,
    o: N,
    d(o) {
      o && x(e), t.d(o)
    },
  }
}
function Sw(s) {
  let e
  return {
    c() {
      ;(e = F("div")),
        (e.textContent = "Loading..."),
        A(e, "class", "l-center-contents svelte-mlzu3y")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Tw(s) {
  let e
  return {
    c() {
      ;(e = F("div")), A(e, "class", "l-center-contents svelte-mlzu3y")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function nl(s) {
  let e
  function n(r, i) {
    return r[3].chatHistory.length === 0 ? Tw : Sw
  }
  let t = n(s),
    o = t(s)
  return {
    c() {
      o.c(), (e = he())
    },
    m(r, i) {
      o.m(r, i), M(r, e, i)
    },
    p(r, i) {
      t !== (t = n(r)) &&
        (o.d(1), (o = t(r)), o && (o.c(), o.m(e.parentNode, e)))
    },
    d(r) {
      r && x(e), o.d(r)
    },
  }
}
function Lw(s) {
  let e, n, t
  return (
    (n = new rd({ props: { errorMessage: s[14].message } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "l-center-contents svelte-mlzu3y"),
          A(e, "data-testid", "l-lazy-message-list-loading-error")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Rw(s) {
  let e,
    n,
    t = s[4],
    o = ol(s)
  return {
    c() {
      o.c(), (e = he())
    },
    m(r, i) {
      o.m(r, i), M(r, e, i), (n = !0)
    },
    p(r, i) {
      16 & i && te(t, (t = r[4]))
        ? (Y(),
          m(o, 1, 1, N),
          X(),
          (o = ol(r)),
          o.c(),
          d(o, 1),
          o.m(e.parentNode, e))
        : o.p(r, i)
    },
    i(r) {
      n || (d(o), (n = !0))
    },
    o(r) {
      m(o), (n = !1)
    },
    d(r) {
      r && x(e), o.d(r)
    },
  }
}
function Pw(s) {
  let e, n, t
  const o = [{ chatModel: s[0] }, { onboardingWorkspaceModel: s[1] }, s[8]]
  var r = s[13].default
  function i(c, a) {
    let l = {}
    for (let u = 0; u < o.length; u += 1) l = Le(l, o[u])
    return (
      a !== void 0 &&
        259 & a &&
        (l = Le(
          l,
          Mt(o, [
            1 & a && { chatModel: c[0] },
            2 & a && { onboardingWorkspaceModel: c[1] },
            256 & a && Jn(c[8]),
          ]),
        )),
      { props: l }
    )
  }
  return (
    r && (e = Cn(r, i(s))),
    {
      c() {
        e && w(e.$$.fragment), (n = he())
      },
      m(c, a) {
        e && y(e, c, a), M(c, n, a), (t = !0)
      },
      p(c, a) {
        if (r !== (r = c[13].default)) {
          if (e) {
            Y()
            const l = e
            m(l.$$.fragment, 1, 0, () => {
              b(l, 1)
            }),
              X()
          }
          r
            ? ((e = Cn(r, i(c, a))),
              w(e.$$.fragment),
              d(e.$$.fragment, 1),
              y(e, n.parentNode, n))
            : (e = null)
        } else if (r) {
          const l =
            259 & a
              ? Mt(o, [
                  1 & a && { chatModel: c[0] },
                  2 & a && { onboardingWorkspaceModel: c[1] },
                  256 & a && Jn(c[8]),
                ])
              : {}
          e.$set(l)
        }
      },
      i(c) {
        t || (e && d(e.$$.fragment, c), (t = !0))
      },
      o(c) {
        e && m(e.$$.fragment, c), (t = !1)
      },
      d(c) {
        c && x(n), e && b(e, c)
      },
    }
  )
}
function Nw(s) {
  let e
  return {
    c() {
      ;(e = F("div")),
        A(e, "class", "l-center-contents svelte-mlzu3y"),
        A(e, "data-testid", "l-lazy-message-list-center-contents")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    i: N,
    o: N,
    d(n) {
      n && x(e)
    },
  }
}
function ol(s) {
  let e, n, t, o
  const r = [Nw, Pw],
    i = []
  function c(a, l) {
    return a[3].chatHistory.length === 0 ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e === u
            ? i[e].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (n = i[e]),
              n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
              d(n, 1),
              n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function Fw(s) {
  let e,
    n = s[4],
    t = rl(s)
  return {
    c() {
      t.c(), (e = he())
    },
    m(o, r) {
      t.m(o, r), M(o, e, r)
    },
    p(o, r) {
      16 & r && te(n, (n = o[4]))
        ? (t.d(1), (t = rl(o)), t.c(), t.m(e.parentNode, e))
        : t.p(o, r)
    },
    i: N,
    o: N,
    d(o) {
      o && x(e), t.d(o)
    },
  }
}
function Dw(s) {
  let e
  return {
    c() {
      ;(e = F("div")),
        (e.textContent = "Loading..."),
        A(e, "class", "l-center-contents svelte-mlzu3y")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Ow(s) {
  let e
  return {
    c() {
      ;(e = F("div")), A(e, "class", "l-center-contents svelte-mlzu3y")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function rl(s) {
  let e
  function n(r, i) {
    return r[3].chatHistory.length === 0 ? Ow : Dw
  }
  let t = n(s),
    o = t(s)
  return {
    c() {
      o.c(), (e = he())
    },
    m(r, i) {
      o.m(r, i), M(r, e, i)
    },
    p(r, i) {
      t !== (t = n(r)) &&
        (o.d(1), (o = t(r)), o && (o.c(), o.m(e.parentNode, e)))
    },
    d(r) {
      r && x(e), o.d(r)
    },
  }
}
function zw(s) {
  let e, n, t, o
  const r = [Cw, _w],
    i = []
  function c(a, l) {
    return a[5] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, [l]) {
        let u = e
        ;(e = c(a)),
          e === u
            ? i[e].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (n = i[e]),
              n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
              d(n, 1),
              n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function Bw(s, e, n) {
  let t, o, r, i, c
  const a = ["chatModel", "onboardingWorkspaceModel", "remoteAgentsModel"]
  let l,
    u,
    p,
    g,
    h = Ui(e, a),
    k = N,
    I = () => (k(), (k = mt(pe, (re) => n(10, (l = re)))), pe),
    C = N,
    S = N,
    H = N,
    O = () => (H(), (H = mt(z, (re) => n(12, (g = re)))), z)
  s.$$.on_destroy.push(() => k()),
    s.$$.on_destroy.push(() => C()),
    s.$$.on_destroy.push(() => S()),
    s.$$.on_destroy.push(() => H())
  let { chatModel: z } = e
  O()
  let { onboardingWorkspaceModel: $e } = e,
    { remoteAgentsModel: pe } = e
  return (
    I(),
    (s.$$set = (re) => {
      ;(e = Le(Le({}, e), it(re))),
        n(8, (h = Ui(e, a))),
        "chatModel" in re && O(n(0, (z = re.chatModel))),
        "onboardingWorkspaceModel" in re &&
          n(1, ($e = re.onboardingWorkspaceModel)),
        "remoteAgentsModel" in re && I(n(2, (pe = re.remoteAgentsModel)))
    }),
    (s.$$.update = () => {
      4096 & s.$$.dirty &&
        (n(7, (t = g.currentConversationModel)),
        C(),
        (C = mt(t, (re) => n(3, (u = re))))),
        4096 & s.$$.dirty &&
          (n(6, (o = g.flags)), S(), (S = mt(o, (re) => n(11, (p = re))))),
        1024 & s.$$.dirty && n(9, (r = l.currentAgentId)),
        3072 & s.$$.dirty &&
          n(5, (i = p.enableVirtualizedMessageList && !l.isActive)),
        1544 & s.$$.dirty && n(4, (c = `${u.id}-${l.isActive ? r : ""}`))
    }),
    [z, $e, pe, u, c, i, o, t, h, r, l, p, g]
  )
}
class jw extends ne {
  constructor(e) {
    super(),
      oe(this, e, Bw, zw, te, {
        chatModel: 0,
        onboardingWorkspaceModel: 1,
        remoteAgentsModel: 2,
      })
  }
}
function Hw(s) {
  let e, n, t
  return (
    (n = new vw({})),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "l-center-contents svelte-b0o8lx")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Uw(s) {
  let e, n
  return (
    (e = new jw({
      props: {
        chatModel: s[0],
        onboardingWorkspaceModel: s[1],
        remoteAgentsModel: s[2],
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.chatModel = t[0]),
          2 & o && (r.onboardingWorkspaceModel = t[1]),
          4 & o && (r.remoteAgentsModel = t[2]),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ww(s) {
  let e, n, t, o
  const r = [Uw, Hw],
    i = []
  function c(a, l) {
    return a[4] ? 0 : a[3] ? 1 : -1
  }
  return (
    ~(e = c(s)) && (n = i[e] = r[e](s)),
    {
      c() {
        n && n.c(), (t = he())
      },
      m(a, l) {
        ~e && i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, [l]) {
        let u = e
        ;(e = c(a)),
          e === u
            ? ~e && i[e].p(a, l)
            : (n &&
                (Y(),
                m(i[u], 1, 1, () => {
                  i[u] = null
                }),
                X()),
              ~e
                ? ((n = i[e]),
                  n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
                  d(n, 1),
                  n.m(t.parentNode, t))
                : (n = null))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), ~e && i[e].d(a)
      },
    }
  )
}
function qw(s, e, n) {
  let t,
    o,
    r,
    i = N,
    c = () => (i(), (i = mt(u, (p) => n(5, (r = p)))), u)
  s.$$.on_destroy.push(() => i())
  let { chatModel: a } = e,
    { onboardingWorkspaceModel: l } = e,
    { remoteAgentsModel: u } = e
  return (
    c(),
    (s.$$set = (p) => {
      "chatModel" in p && n(0, (a = p.chatModel)),
        "onboardingWorkspaceModel" in p &&
          n(1, (l = p.onboardingWorkspaceModel)),
        "remoteAgentsModel" in p && c(n(2, (u = p.remoteAgentsModel)))
    }),
    (s.$$.update = () => {
      32 & s.$$.dirty && n(3, (t = r.isActive && !r.currentAgentId)),
        8 & s.$$.dirty && n(4, (o = !t))
    }),
    [a, l, u, t, o, r]
  )
}
class Gw extends ne {
  constructor(e) {
    super(),
      oe(this, e, qw, Ww, te, {
        chatModel: 0,
        onboardingWorkspaceModel: 1,
        remoteAgentsModel: 2,
      })
  }
}
function Vw(s) {
  let e, n, t, o
  return {
    c() {
      ;(e = j()),
        (n = F("div")),
        (n.innerHTML =
          '<div class="c-chat-input-dialog-hr svelte-7lmigv"></div>'),
        A(n, "class", "c-chat-input-dialog-hr-handle svelte-7lmigv"),
        A(n, "role", "separator")
    },
    m(r, i) {
      M(r, e, i),
        M(r, n, i),
        t ||
          ((o = [
            Oe(document, "mousemove", s[1]),
            Oe(document, "mouseup", s[2]),
            Oe(n, "mousedown", s[0]),
          ]),
          (t = !0))
    },
    p: N,
    i: N,
    o: N,
    d(r) {
      r && (x(e), x(n)), (t = !1), Yt(o)
    },
  }
}
function Yw(s, e, n) {
  let t,
    { inputArea: o } = e
  return (
    (s.$$set = (r) => {
      "inputArea" in r && n(3, (o = r.inputArea))
    }),
    [
      (r) => {
        ;(t = { startY: r.clientY, initialHeight: o.offsetHeight }),
          o == null || o.classList.add("is-dragging")
      },
      (r) => {
        if (!t) return
        const i = r.clientY - t.startY
        n(3, (o.style.height = `${Math.max(80, t.initialHeight - i)}px`), o)
      },
      () => {
        ;(t = void 0), o == null || o.classList.remove("is-dragging")
      },
      o,
    ]
  )
}
class Xw extends ne {
  constructor(e) {
    super(), oe(this, e, Yw, Vw, te, { inputArea: 3 })
  }
}
const Kw = (s) => ({}),
  sl = (s) => ({}),
  Zw = (s) => ({}),
  il = (s) => ({}),
  Jw = (s) => ({}),
  al = (s) => ({})
function Qw(s) {
  let e
  return {
    c() {
      e = K(s[2])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      4 & t && ze(e, n[2])
    },
    d(n) {
      n && x(e)
    },
  }
}
function cl(s) {
  let e, n
  const t = s[4]["sort-options"],
    o = Ze(t, s, s[8], il)
  return {
    c() {
      ;(e = F("div")),
        o && o.c(),
        A(e, "class", "l-threads-menu__sort-options svelte-k6qn47")
    },
    m(r, i) {
      M(r, e, i), o && o.m(e, null), (n = !0)
    },
    p(r, i) {
      o &&
        o.p &&
        (!n || 256 & i) &&
        Je(o, t, r, r[8], n ? et(t, r[8], i, Zw) : Qe(r[8]), il)
    },
    i(r) {
      n || (d(o, r), (n = !0))
    },
    o(r) {
      m(o, r), (n = !1)
    },
    d(r) {
      r && x(e), o && o.d(r)
    },
  }
}
function ll(s) {
  let e, n
  const t = s[4].body,
    o = Ze(t, s, s[8], sl)
  return {
    c() {
      ;(e = F("div")),
        o && o.c(),
        A(e, "class", "l-threads-menu__body svelte-k6qn47")
    },
    m(r, i) {
      M(r, e, i), o && o.m(e, null), (n = !0)
    },
    p(r, i) {
      o &&
        o.p &&
        (!n || 256 & i) &&
        Je(o, t, r, r[8], n ? et(t, r[8], i, Kw) : Qe(r[8]), sl)
    },
    i(r) {
      n || (d(o, r), (n = !0))
    },
    o(r) {
      m(o, r), (n = !1)
    },
    d(r) {
      r && x(e), o && o.d(r)
    },
  }
}
function ey(s) {
  let e, n, t, o, r, i, c, a, l, u, p, g, h, k
  i = new Ve({
    props: {
      size: 1,
      weight: "regular",
      $$slots: { default: [Qw] },
      $$scope: { ctx: s },
    },
  })
  const I = s[4].buttons,
    C = Ze(I, s, s[8], al)
  let S = s[1] && cl(s),
    H = s[1] && ll(s)
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        (t = F("div")),
        (o = F("div")),
        (r = F("div")),
        w(i.$$.fragment),
        (c = j()),
        (a = F("div")),
        C && C.c(),
        (l = j()),
        S && S.c(),
        (u = j()),
        H && H.c(),
        A(r, "class", "l-threads-menu__title svelte-k6qn47"),
        A(r, "data-testid", "threads-menu-header-title"),
        A(o, "class", "l-threads-menu__header svelte-k6qn47"),
        A(o, "role", "button"),
        A(o, "tabindex", "0"),
        A(o, "data-testid", "threads-menu-header"),
        A(t, "class", "l-threads-menu__content svelte-k6qn47"),
        A(n, "class", "l-threads-menu__wrapper svelte-k6qn47"),
        A(e, "data-testid", "threads-menu"),
        A(e, "class", (p = Fr(`l-threads-menu ${s[3]}`) + " svelte-k6qn47")),
        je(e, "l-threads-menu--active", s[1])
    },
    m(O, z) {
      M(O, e, z),
        B(e, n),
        B(n, t),
        B(t, o),
        B(o, r),
        y(i, r, null),
        B(o, c),
        B(o, a),
        C && C.m(a, null),
        B(t, l),
        S && S.m(t, null),
        B(t, u),
        H && H.m(t, null),
        s[7](e),
        (g = !0),
        h ||
          ((k = [Oe(o, "click", Uo(Lr(s[5]))), Oe(o, "keydown", s[6])]),
          (h = !0))
    },
    p(O, [z]) {
      const $e = {}
      260 & z && ($e.$$scope = { dirty: z, ctx: O }),
        i.$set($e),
        C &&
          C.p &&
          (!g || 256 & z) &&
          Je(C, I, O, O[8], g ? et(I, O[8], z, Jw) : Qe(O[8]), al),
        O[1]
          ? S
            ? (S.p(O, z), 2 & z && d(S, 1))
            : ((S = cl(O)), S.c(), d(S, 1), S.m(t, u))
          : S &&
            (Y(),
            m(S, 1, 1, () => {
              S = null
            }),
            X()),
        O[1]
          ? H
            ? (H.p(O, z), 2 & z && d(H, 1))
            : ((H = ll(O)), H.c(), d(H, 1), H.m(t, null))
          : H &&
            (Y(),
            m(H, 1, 1, () => {
              H = null
            }),
            X()),
        (!g ||
          (8 & z &&
            p !== (p = Fr(`l-threads-menu ${O[3]}`) + " svelte-k6qn47"))) &&
          A(e, "class", p),
        (!g || 10 & z) && je(e, "l-threads-menu--active", O[1])
    },
    i(O) {
      g || (d(i.$$.fragment, O), d(C, O), d(S), d(H), (g = !0))
    },
    o(O) {
      m(i.$$.fragment, O), m(C, O), m(S), m(H), (g = !1)
    },
    d(O) {
      O && x(e),
        b(i),
        C && C.d(O),
        S && S.d(),
        H && H.d(),
        s[7](null),
        (h = !1),
        Yt(k)
    },
  }
}
function ty(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { active: r = !1 } = e,
    { element: i } = e,
    { title: c = "" } = e,
    { class: a = "" } = e
  return (
    (s.$$set = (l) => {
      "active" in l && n(1, (r = l.active)),
        "element" in l && n(0, (i = l.element)),
        "title" in l && n(2, (c = l.title)),
        "class" in l && n(3, (a = l.class)),
        "$$scope" in l && n(8, (o = l.$$scope))
    }),
    [
      i,
      r,
      c,
      a,
      t,
      function (l) {
        Wn.call(this, s, l)
      },
      function (l) {
        Wn.call(this, s, l)
      },
      function (l) {
        bt[l ? "unshift" : "push"](() => {
          ;(i = l), n(0, i)
        })
      },
      o,
    ]
  )
}
class ny extends ne {
  constructor(e) {
    super(),
      oe(this, e, ty, ey, te, { active: 1, element: 0, title: 2, class: 3 })
  }
}
const oy = (s) => ({}),
  ul = (s) => ({}),
  ry = (s) => ({}),
  dl = (s) => ({})
function sy(s) {
  let e, n
  const t = s[2].title,
    o = Ze(t, s, s[6], dl)
  return {
    c() {
      ;(e = F("div")),
        o && o.c(),
        A(e, "class", "l-thread-menu-item__title svelte-1iwlval")
    },
    m(r, i) {
      M(r, e, i), o && o.m(e, null), (n = !0)
    },
    p(r, i) {
      o &&
        o.p &&
        (!n || 64 & i) &&
        Je(o, t, r, r[6], n ? et(t, r[6], i, ry) : Qe(r[6]), dl)
    },
    i(r) {
      n || (d(o, r), (n = !0))
    },
    o(r) {
      m(o, r), (n = !1)
    },
    d(r) {
      r && x(e), o && o.d(r)
    },
  }
}
function iy(s) {
  let e, n, t, o, r, i, c
  n = new Ve({
    props: {
      size: 1,
      weight: "regular",
      $$slots: { default: [sy] },
      $$scope: { ctx: s },
    },
  })
  const a = s[2].right,
    l = Ze(a, s, s[6], ul)
  return {
    c() {
      ;(e = F("div")),
        w(n.$$.fragment),
        (t = j()),
        (o = F("div")),
        l && l.c(),
        A(o, "class", "l-thread-menu-item__right svelte-1iwlval"),
        A(e, "class", "l-thread-menu-item svelte-1iwlval"),
        A(e, "data-testid", "thread-menu-item"),
        A(e, "role", "button"),
        A(e, "tabindex", "0"),
        je(e, "l-thread-menu-item--selected", s[0] && s[1]),
        je(e, "l-thread-menu-item--selectable", s[1])
    },
    m(u, p) {
      M(u, e, p),
        y(n, e, null),
        B(e, t),
        B(e, o),
        l && l.m(o, null),
        (r = !0),
        i ||
          ((c = [
            Oe(e, "click", s[3]),
            Oe(e, "mousedown", s[4]),
            Oe(e, "keydown", s[5]),
          ]),
          (i = !0))
    },
    p(u, [p]) {
      const g = {}
      64 & p && (g.$$scope = { dirty: p, ctx: u }),
        n.$set(g),
        l &&
          l.p &&
          (!r || 64 & p) &&
          Je(l, a, u, u[6], r ? et(a, u[6], p, oy) : Qe(u[6]), ul),
        (!r || 3 & p) && je(e, "l-thread-menu-item--selected", u[0] && u[1]),
        (!r || 2 & p) && je(e, "l-thread-menu-item--selectable", u[1])
    },
    i(u) {
      r || (d(n.$$.fragment, u), d(l, u), (r = !0))
    },
    o(u) {
      m(n.$$.fragment, u), m(l, u), (r = !1)
    },
    d(u) {
      u && x(e), b(n), l && l.d(u), (i = !1), Yt(c)
    },
  }
}
function ay(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { selected: r = !1 } = e,
    { isSelectable: i = !1 } = e
  return (
    (s.$$set = (c) => {
      "selected" in c && n(0, (r = c.selected)),
        "isSelectable" in c && n(1, (i = c.isSelectable)),
        "$$scope" in c && n(6, (o = c.$$scope))
    }),
    [
      r,
      i,
      t,
      function (c) {
        Wn.call(this, s, c)
      },
      function (c) {
        Wn.call(this, s, c)
      },
      function (c) {
        Wn.call(this, s, c)
      },
      o,
    ]
  )
}
class sd extends ne {
  constructor(e) {
    super(), oe(this, e, ay, iy, te, { selected: 0, isSelectable: 1 })
  }
}
function cy(s) {
  let e, n, t, o
  return {
    c() {
      ;(e = F("div")),
        (n = K(s[1])),
        A(e, "class", "c-editable-text__text svelte-1kpc8s8"),
        A(e, "role", "button"),
        A(e, "tabindex", "0"),
        je(e, "c-editable-text--disabled", s[3])
    },
    m(r, i) {
      M(r, e, i), B(e, n), t || ((o = Oe(e, "dblclick", s[4])), (t = !0))
    },
    p(r, i) {
      2 & i && ze(n, r[1]), 8 & i && je(e, "c-editable-text--disabled", r[3])
    },
    i: N,
    o: N,
    d(r) {
      r && x(e), (t = !1), o()
    },
  }
}
function ly(s) {
  let e, n, t, o
  function r(a) {
    s[15](a)
  }
  function i(a) {
    s[16](a)
  }
  let c = { size: 1, variant: "surface", placeholder: s[2] }
  return (
    s[5] !== void 0 && (c.textInput = s[5]),
    s[6] !== void 0 && (c.value = s[6]),
    (e = new Xr({ props: c })),
    bt.push(() => Qt(e, "textInput", r)),
    bt.push(() => Qt(e, "value", i)),
    e.$on("click", dy),
    e.$on("keydown", s[7]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(a, l) {
        y(e, a, l), (o = !0)
      },
      p(a, l) {
        const u = {}
        4 & l && (u.placeholder = a[2]),
          !n && 32 & l && ((n = !0), (u.textInput = a[5]), tn(() => (n = !1))),
          !t && 64 & l && ((t = !0), (u.value = a[6]), tn(() => (t = !1))),
          e.$set(u)
      },
      i(a) {
        o || (d(e.$$.fragment, a), (o = !0))
      },
      o(a) {
        m(e.$$.fragment, a), (o = !1)
      },
      d(a) {
        b(e, a)
      },
    }
  )
}
function uy(s) {
  let e, n, t, o, r, i, c
  const a = [ly, cy],
    l = []
  function u(p, g) {
    return !p[3] && p[0] ? 0 : 1
  }
  return (
    (n = u(s)),
    (t = l[n] = a[n](s)),
    {
      c() {
        ;(e = j()), t.c(), (o = he())
      },
      m(p, g) {
        M(p, e, g),
          l[n].m(p, g),
          M(p, o, g),
          (r = !0),
          i || ((c = Oe(document.body, "click", s[8])), (i = !0))
      },
      p(p, [g]) {
        let h = n
        ;(n = u(p)),
          n === h
            ? l[n].p(p, g)
            : (Y(),
              m(l[h], 1, 1, () => {
                l[h] = null
              }),
              X(),
              (t = l[n]),
              t ? t.p(p, g) : ((t = l[n] = a[n](p)), t.c()),
              d(t, 1),
              t.m(o.parentNode, o))
      },
      i(p) {
        r || (d(t), (r = !0))
      },
      o(p) {
        m(t), (r = !1)
      },
      d(p) {
        p && (x(e), x(o)), l[n].d(p), (i = !1), c()
      },
    }
  )
}
const dy = (s) => s.stopPropagation()
function fy(s, e, n) {
  let t,
    { isEditing: o = !1 } = e,
    { value: r } = e,
    { cancelOnClickOutside: i = !0 } = e,
    { placeholder: c = "" } = e,
    { disabled: a = !1 } = e,
    { onStartEdit: l } = e,
    { onAcceptEdit: u } = e,
    { onCancelEdit: p } = e,
    g = r
  function h(I) {
    o &&
      (u(g), n(0, (o = !1)), n(6, (g = "")), I == null || I.stopPropagation())
  }
  function k(I) {
    o &&
      i &&
      (p(), n(0, (o = !1)), n(6, (g = "")), I == null || I.stopPropagation())
  }
  return (
    (s.$$set = (I) => {
      "isEditing" in I && n(0, (o = I.isEditing)),
        "value" in I && n(1, (r = I.value)),
        "cancelOnClickOutside" in I && n(9, (i = I.cancelOnClickOutside)),
        "placeholder" in I && n(2, (c = I.placeholder)),
        "disabled" in I && n(3, (a = I.disabled)),
        "onStartEdit" in I && n(10, (l = I.onStartEdit)),
        "onAcceptEdit" in I && n(11, (u = I.onAcceptEdit)),
        "onCancelEdit" in I && n(12, (p = I.onCancelEdit))
    }),
    (s.$$.update = () => {
      32 & s.$$.dirty && (t == null || t.focus())
    }),
    [
      o,
      r,
      c,
      a,
      function (I) {
        o ||
          a ||
          (n(6, (g = r)), n(0, (o = !0)), l(), I == null || I.stopPropagation())
      },
      t,
      g,
      function (I) {
        o && (I.key === "Enter" ? h(I) : I.key === "Escape" && k(I))
      },
      function (I) {
        const C = I.target
        ;(C && C.closest(`.${ad}`)) || k(I)
      },
      i,
      l,
      u,
      p,
      h,
      k,
      function (I) {
        ;(t = I), n(5, t)
      },
      function (I) {
        ;(g = I), n(6, g)
      },
    ]
  )
}
class my extends ne {
  constructor(e) {
    super(),
      oe(this, e, fy, uy, te, {
        isEditing: 0,
        value: 1,
        cancelOnClickOutside: 9,
        placeholder: 2,
        disabled: 3,
        onStartEdit: 10,
        onAcceptEdit: 11,
        onCancelEdit: 12,
        startEdit: 4,
        acceptEdit: 13,
        cancelEdit: 14,
      })
  }
  get startEdit() {
    return this.$$.ctx[4]
  }
  get acceptEdit() {
    return this.$$.ctx[13]
  }
  get cancelEdit() {
    return this.$$.ctx[14]
  }
}
function py(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(n, "fill-rule", "evenodd"),
        A(n, "clip-rule", "evenodd"),
        A(
          n,
          "d",
          "M6 3.5C6 2.67157 6.67157 2 7.5 2C8.32843 2 9 2.67157 9 3.5C9 4.32843 8.32843 5 7.5 5C6.67157 5 6 4.32843 6 3.5ZM8 5.94999C9.14112 5.71836 10 4.70948 10 3.5C10 2.11929 8.88071 1 7.5 1C6.11929 1 5 2.11929 5 3.5C5 4.70948 5.85888 5.71836 7 5.94999V13.5C7 13.7761 7.22386 14 7.5 14C7.77614 14 8 13.7761 8 13.5V5.94999Z",
        ),
        A(n, "fill", "currentColor"),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "0 0 15 15"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class $y extends ne {
  constructor(e) {
    super(), oe(this, e, null, py, te, {})
  }
}
function hy(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(n, "fill-rule", "evenodd"),
        A(n, "clip-rule", "evenodd"),
        A(
          n,
          "d",
          "M10 3.5C10 4.70948 9.14112 5.71836 8 5.94999V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.94999C5.85888 5.71836 5 4.70948 5 3.5C5 2.11929 6.11929 1 7.5 1C8.88071 1 10 2.11929 10 3.5Z",
        ),
        A(n, "fill", "currentColor"),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "0 0 15 15"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class gy extends ne {
  constructor(e) {
    super(), oe(this, e, null, hy, te, {})
  }
}
const vy = (s) => ({}),
  fl = (s) => ({})
function ml(s) {
  let e, n, t, o
  const r = [yy, wy],
    i = []
  function c(a, l) {
    return a[9] ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function wy(s) {
  let e, n
  return (
    (e = new po.Root({
      props: {
        color: "accent",
        size: 1,
        variant: "soft",
        $$slots: { default: [by] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function yy(s) {
  let e, n
  return (
    (e = new po.Root({
      props: {
        color: "accent",
        size: 1,
        variant: "solid",
        highContrast: !0,
        $$slots: { default: [xy] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function by(s) {
  let e
  return {
    c() {
      e = K("Agent")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function xy(s) {
  let e
  return {
    c() {
      e = K("Agent")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function _y(s) {
  let e,
    n,
    t,
    o,
    r,
    i = Bt(s[2])
  function c(u) {
    s[22](u)
  }
  let a = {
    value: xn.getDisplayName(s[2]),
    placeholder: "Conversation name",
    onAcceptEdit: s[20],
    onStartEdit: n6,
    onCancelEdit: o6,
  }
  s[0] !== void 0 && (a.isEditing = s[0]),
    (n = new my({ props: a })),
    s[21](n),
    bt.push(() => Qt(n, "isEditing", c))
  let l = i && ml(s)
  return {
    c() {
      ;(e = F("span")),
        w(n.$$.fragment),
        (o = j()),
        l && l.c(),
        A(e, "class", "l-thread-menu-item__title svelte-nvsyjc"),
        A(e, "data-testid", "thread-menu-item-title"),
        A(e, "slot", "title")
    },
    m(u, p) {
      M(u, e, p), y(n, e, null), B(e, o), l && l.m(e, null), (r = !0)
    },
    p(u, p) {
      const g = {}
      4 & p && (g.value = xn.getDisplayName(u[2])),
        12 & p && (g.onAcceptEdit = u[20]),
        !t && 1 & p && ((t = !0), (g.isEditing = u[0]), tn(() => (t = !1))),
        n.$set(g),
        4 & p && (i = Bt(u[2])),
        i
          ? l
            ? (l.p(u, p), 4 & p && d(l, 1))
            : ((l = ml(u)), l.c(), d(l, 1), l.m(e, null))
          : l &&
            (Y(),
            m(l, 1, 1, () => {
              l = null
            }),
            X())
    },
    i(u) {
      r || (d(n.$$.fragment, u), d(l), (r = !0))
    },
    o(u) {
      m(n.$$.fragment, u), m(l), (r = !1)
    },
    d(u) {
      u && x(e), s[21](null), b(n), l && l.d()
    },
  }
}
function Cy(s) {
  let e, n
  return (
    (e = new Fe.Root({
      props: { open: s[7], $$slots: { default: [Yy] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        128 & o && (r.open = t[7]),
          33555942 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function My(s) {
  let e, n, t, o
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "soft",
        color: "success",
        title: "Save",
        $$slots: { default: [Xy] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[1].acceptEdit) && s[1].acceptEdit.apply(this, arguments)
    }),
    (t = new Et({
      props: {
        size: 1,
        variant: "soft",
        color: "neutral",
        title: "Cancel",
        $$slots: { default: [Ky] },
        $$scope: { ctx: s },
      },
    })),
    t.$on("click", function () {
      kt(s[1].cancelEdit) && s[1].cancelEdit.apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        s = r
        const c = {}
        33554432 & i && (c.$$scope = { dirty: i, ctx: s }), e.$set(c)
        const a = {}
        33554432 & i && (a.$$scope = { dirty: i, ctx: s }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Ay(s) {
  let e, n
  return (
    (e = new Eo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ky(s) {
  let e, n, t
  return (
    (n = new Et({
      props: {
        variant: "ghost-block",
        color: "neutral",
        size: 1,
        title: Qy,
        $$slots: { default: [Ay] },
        $$scope: { ctx: s },
      },
    })),
    n.$on("click", s[13]),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "l-thread-menu-item__options svelte-nvsyjc")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        33554432 & r && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function Ey(s) {
  let e
  return {
    c() {
      e = K("Options")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function pl(s) {
  let e, n
  return (
    (e = new Fe.Item({
      props: {
        class: "c-thread-menu__share-link",
        onSelect: s[14],
        $$slots: { iconLeft: [Oy], default: [Ry] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.onSelect = t[14]),
          33554688 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Iy(s) {
  let e
  return {
    c() {
      e = K("Share link to session")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Sy(s) {
  let e
  return {
    c() {
      e = K("Unable to create link")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Ty(s) {
  let e
  return {
    c() {
      e = K("Link copied")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Ly(s) {
  let e
  return {
    c() {
      e = K("Creating link")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Ry(s) {
  let e
  function n(r, i) {
    return r[8] === "retrieving"
      ? Ly
      : r[8] === "copied"
        ? Ty
        : r[8] === "failure"
          ? Sy
          : Iy
  }
  let t = n(s),
    o = t(s)
  return {
    c() {
      o.c(), (e = he())
    },
    m(r, i) {
      o.m(r, i), M(r, e, i)
    },
    p(r, i) {
      t !== (t = n(r)) &&
        (o.d(1), (o = t(r)), o && (o.c(), o.m(e.parentNode, e)))
    },
    d(r) {
      r && x(e), o.d(r)
    },
  }
}
function Py(s) {
  let e, n
  return (
    (e = new gu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ny(s) {
  let e, n
  return (
    (e = new Jo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Fy(s) {
  let e, n
  return (
    (e = new Zo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Dy(s) {
  let e, n
  return (
    (e = new Qn({ props: { size: 1 } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Oy(s) {
  let e, n, t, o
  const r = [Dy, Fy, Ny, Py],
    i = []
  function c(a, l) {
    return a[8] === "retrieving"
      ? 0
      : a[8] === "copied"
        ? 1
        : a[8] === "failure"
          ? 2
          : 3
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function zy(s) {
  let e
  return {
    c() {
      e = K("Rename")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function By(s) {
  let e, n
  return (
    (e = new Eu({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function jy(s) {
  let e,
    n = s[2].isPinned ? "Unpin" : "Pin"
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      4 & o && n !== (n = t[2].isPinned ? "Unpin" : "Pin") && ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function Hy(s) {
  let e, n
  return (
    (e = new gy({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Uy(s) {
  let e, n
  return (
    (e = new $y({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Wy(s) {
  let e, n, t, o
  const r = [Uy, Hy],
    i = []
  function c(a, l) {
    return a[2].isPinned ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function qy(s) {
  let e
  return {
    c() {
      e = K("Delete")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Gy(s) {
  let e, n
  return (
    (e = new Yr({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Vy(s) {
  let e, n, t, o, r, i, c, a, l
  e = new Fe.Label({
    props: { $$slots: { default: [Ey] }, $$scope: { ctx: s } },
  })
  let u = s[10] && s[2].isShareable && pl(s)
  return (
    (o = new Fe.Item({
      props: {
        onSelect: s[15],
        $$slots: { iconLeft: [By], default: [zy] },
        $$scope: { ctx: s },
      },
    })),
    (i = new Fe.Item({
      props: {
        title: e6,
        onSelect: s[16],
        $$slots: { iconLeft: [Wy], default: [jy] },
        $$scope: { ctx: s },
      },
    })),
    (a = new Fe.Item({
      props: {
        title: t6,
        color: "error",
        onSelect: s[17],
        $$slots: { iconLeft: [Gy], default: [qy] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment),
          (n = j()),
          u && u.c(),
          (t = j()),
          w(o.$$.fragment),
          (r = j()),
          w(i.$$.fragment),
          (c = j()),
          w(a.$$.fragment)
      },
      m(p, g) {
        y(e, p, g),
          M(p, n, g),
          u && u.m(p, g),
          M(p, t, g),
          y(o, p, g),
          M(p, r, g),
          y(i, p, g),
          M(p, c, g),
          y(a, p, g),
          (l = !0)
      },
      p(p, g) {
        const h = {}
        33554432 & g && (h.$$scope = { dirty: g, ctx: p }),
          e.$set(h),
          p[10] && p[2].isShareable
            ? u
              ? (u.p(p, g), 1028 & g && d(u, 1))
              : ((u = pl(p)), u.c(), d(u, 1), u.m(t.parentNode, t))
            : u &&
              (Y(),
              m(u, 1, 1, () => {
                u = null
              }),
              X())
        const k = {}
        130 & g && (k.onSelect = p[15]),
          33554432 & g && (k.$$scope = { dirty: g, ctx: p }),
          o.$set(k)
        const I = {}
        196 & g && (I.onSelect = p[16]),
          33554436 & g && (I.$$scope = { dirty: g, ctx: p }),
          i.$set(I)
        const C = {}
        164 & g && (C.onSelect = p[17]),
          33554432 & g && (C.$$scope = { dirty: g, ctx: p }),
          a.$set(C)
      },
      i(p) {
        l ||
          (d(e.$$.fragment, p),
          d(u),
          d(o.$$.fragment, p),
          d(i.$$.fragment, p),
          d(a.$$.fragment, p),
          (l = !0))
      },
      o(p) {
        m(e.$$.fragment, p),
          m(u),
          m(o.$$.fragment, p),
          m(i.$$.fragment, p),
          m(a.$$.fragment, p),
          (l = !1)
      },
      d(p) {
        p && (x(n), x(t), x(r), x(c)),
          b(e, p),
          u && u.d(p),
          b(o, p),
          b(i, p),
          b(a, p)
      },
    }
  )
}
function Yy(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [ky] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "bottom",
        align: "end",
        onClickOutside: s[18],
        onEscapeKeyDown: s[19],
        $$slots: { default: [Vy] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        33554560 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        128 & i && (a.onClickOutside = r[18]),
          128 & i && (a.onEscapeKeyDown = r[19]),
          33555942 & i && (a.$$scope = { dirty: i, ctx: r }),
          t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Xy(s) {
  let e, n
  return (
    (e = new Zo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ky(s) {
  let e, n
  return (
    (e = new Jo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Zy(s) {
  let e, n, t, o, r
  const i = [My, Cy],
    c = []
  function a(p, g) {
    return p[0] ? 0 : 1
  }
  ;(n = a(s)), (t = c[n] = i[n](s))
  const l = s[12].right,
    u = Ze(l, s, s[25], fl)
  return {
    c() {
      ;(e = F("div")),
        t.c(),
        (o = j()),
        u && u.c(),
        A(e, "slot", "right"),
        A(e, "class", "l-thread-menu-item__right svelte-nvsyjc")
    },
    m(p, g) {
      M(p, e, g), c[n].m(e, null), B(e, o), u && u.m(e, null), (r = !0)
    },
    p(p, g) {
      let h = n
      ;(n = a(p)),
        n === h
          ? c[n].p(p, g)
          : (Y(),
            m(c[h], 1, 1, () => {
              c[h] = null
            }),
            X(),
            (t = c[n]),
            t ? t.p(p, g) : ((t = c[n] = i[n](p)), t.c()),
            d(t, 1),
            t.m(e, o)),
        u &&
          u.p &&
          (!r || 33554432 & g) &&
          Je(u, l, p, p[25], r ? et(l, p[25], g, vy) : Qe(p[25]), fl)
    },
    i(p) {
      r || (d(t), d(u, p), (r = !0))
    },
    o(p) {
      m(t), m(u, p), (r = !1)
    },
    d(p) {
      p && x(e), c[n].d(), u && u.d(p)
    },
  }
}
function Jy(s) {
  let e, n
  return (
    (e = new sd({
      props: {
        selected: s[9],
        isSelectable: !0,
        $$slots: { right: [Zy], title: [_y] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[23]),
    e.$on("keydown", function () {
      kt(Fn("Enter", s[24])) && Fn("Enter", s[24]).apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        s = t
        const r = {}
        512 & o && (r.selected = s[9]),
          33556463 & o && (r.$$scope = { dirty: o, ctx: s }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
const Qy = "Conversation Options",
  e6 = "Pin session",
  t6 = "Delete session",
  n6 = () => {},
  o6 = () => {}
function r6(s, e, n) {
  let t,
    o,
    r,
    i = N,
    c = () => (i(), (i = mt(p, (O) => n(6, (r = O)))), p)
  s.$$.on_destroy.push(() => i())
  let { $$slots: a = {}, $$scope: l } = e,
    { conversation: u } = e,
    { chatModel: p } = e
  c()
  let g,
    { onConversationClicked: h } = e,
    { deleteConversation: k } = e,
    { editableTitle: I } = e,
    { isEditingTitle: C = !1 } = e,
    S = !1
  async function H(O) {
    if (O !== void 0 && g === void 0) {
      n(8, (g = u.lastUrl ? "copied" : "retrieving"))
      try {
        const z = await p.getConversationUrl(O)
        navigator.clipboard.writeText(z), n(8, (g = "copied"))
      } catch (z) {
        console.error("Failed to get conversation URL: ", z),
          n(8, (g = "failure"))
      } finally {
        setTimeout(() => {
          n(7, (S = !1)), n(8, (g = void 0))
        }, 1200)
      }
    }
  }
  return (
    (s.$$set = (O) => {
      "conversation" in O && n(2, (u = O.conversation)),
        "chatModel" in O && c(n(3, (p = O.chatModel))),
        "onConversationClicked" in O && n(4, (h = O.onConversationClicked)),
        "deleteConversation" in O && n(5, (k = O.deleteConversation)),
        "editableTitle" in O && n(1, (I = O.editableTitle)),
        "isEditingTitle" in O && n(0, (C = O.isEditingTitle)),
        "$$scope" in O && n(25, (l = O.$$scope))
    }),
    (s.$$.update = () => {
      64 & s.$$.dirty && n(10, (t = r.flags.enableShareService)),
        13 & s.$$.dirty && n(9, (o = u.id === p.currentConversationId && !C))
    }),
    [
      C,
      I,
      u,
      p,
      h,
      k,
      r,
      S,
      g,
      o,
      t,
      H,
      a,
      () => {
        n(7, (S = !S))
      },
      () => H(u.id),
      (O) => {
        n(7, (S = !1)), I == null || I.startEdit(O)
      },
      () => {
        r.toggleConversationPinned(u.id), n(7, (S = !1))
      },
      async () => {
        k(u.id), n(7, (S = !1))
      },
      () => n(7, (S = !1)),
      () => n(7, (S = !1)),
      (O) => {
        p.renameConversation(u.id, O)
      },
      function (O) {
        bt[O ? "unshift" : "push"](() => {
          ;(I = O), n(1, I)
        })
      },
      function (O) {
        ;(C = O), n(0, C)
      },
      () => h(u.id),
      () => h(u.id),
      l,
    ]
  )
}
class s6 extends ne {
  constructor(e) {
    super(),
      oe(this, e, r6, Jy, te, {
        conversation: 2,
        chatModel: 3,
        onConversationClicked: 4,
        deleteConversation: 5,
        editableTitle: 1,
        isEditingTitle: 0,
      })
  }
}
function $l(s, e, n) {
  const t = s.slice()
  return (t[10] = e[n]), t
}
function hl(s) {
  let e, n, t, o, r, i
  t = new sd({
    props: { $$slots: { right: [m6], title: [i6] }, $$scope: { ctx: s } },
  })
  let c = ht(s[1]),
    a = []
  for (let u = 0; u < c.length; u += 1) a[u] = gl($l(s, c, u))
  const l = (u) =>
    m(a[u], 1, 1, () => {
      a[u] = null
    })
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        w(t.$$.fragment),
        (o = j()),
        (r = F("div"))
      for (let u = 0; u < a.length; u += 1) a[u].c()
      A(n, "class", "l-thread-group__header svelte-1c3ly67"),
        A(e, "class", "l-thread-group")
    },
    m(u, p) {
      M(u, e, p), B(e, n), y(t, n, null), B(e, o), B(e, r)
      for (let g = 0; g < a.length; g += 1) a[g] && a[g].m(r, null)
      i = !0
    },
    p(u, p) {
      const g = {}
      if ((8227 & p && (g.$$scope = { dirty: p, ctx: u }), t.$set(g), 30 & p)) {
        let h
        for (c = ht(u[1]), h = 0; h < c.length; h += 1) {
          const k = $l(u, c, h)
          a[h]
            ? (a[h].p(k, p), d(a[h], 1))
            : ((a[h] = gl(k)), a[h].c(), d(a[h], 1), a[h].m(r, null))
        }
        for (Y(), h = c.length; h < a.length; h += 1) l(h)
        X()
      }
    },
    i(u) {
      if (!i) {
        d(t.$$.fragment, u)
        for (let p = 0; p < c.length; p += 1) d(a[p])
        i = !0
      }
    },
    o(u) {
      m(t.$$.fragment, u), (a = a.filter(Boolean))
      for (let p = 0; p < a.length; p += 1) m(a[p])
      i = !1
    },
    d(u) {
      u && x(e), b(t), fn(a, u)
    },
  }
}
function i6(s) {
  let e, n
  return {
    c() {
      ;(e = F("span")), (n = K(s[0])), A(e, "slot", "title")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p(t, o) {
      1 & o && ze(n, t[0])
    },
    d(t) {
      t && x(e)
    },
  }
}
function a6(s) {
  let e, n
  return (
    (e = new Eo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function c6(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        variant: "ghost-block",
        color: "neutral",
        size: 1,
        title: "Group options",
        $$slots: { default: [a6] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[7]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8192 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function l6(s) {
  let e,
    n,
    t,
    o,
    r = s[1].length + "",
    i = s[1].length > 1 ? "s" : ""
  return {
    c() {
      ;(e = K("Delete ")), (n = K(r)), (t = K(" thread")), (o = K(i))
    },
    m(c, a) {
      M(c, e, a), M(c, n, a), M(c, t, a), M(c, o, a)
    },
    p(c, a) {
      2 & a && r !== (r = c[1].length + "") && ze(n, r),
        2 & a && i !== (i = c[1].length > 1 ? "s" : "") && ze(o, i)
    },
    d(c) {
      c && (x(e), x(n), x(t), x(o))
    },
  }
}
function u6(s) {
  let e, n
  return (
    (e = new Yr({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function d6(s) {
  let e, n
  return (
    (e = new Fe.Item({
      props: {
        color: "error",
        onSelect: s[6],
        $$slots: { iconLeft: [u6], default: [l6] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8194 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function f6(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [c6] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "bottom",
        align: "end",
        $$slots: { default: [d6] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        8224 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
        const a = {}
        8194 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function m6(s) {
  let e, n, t
  return (
    (n = new Fe.Root({
      props: {
        open: s[5],
        triggerOn: [Lt.Hover, Lt.Click],
        onHoverStart: $6,
        onHoverEnd: s[8],
        onOpenChange: s[9],
        $$slots: { default: [f6] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "slot", "right"),
          A(e, "class", "l-thread-group__options")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        32 & r && (i.open = o[5]),
          32 & r && (i.onHoverEnd = o[8]),
          8226 & r && (i.$$scope = { dirty: r, ctx: o }),
          n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function gl(s) {
  let e, n
  return (
    (e = new s6({
      props: {
        conversation: s[10],
        chatModel: s[4],
        onConversationClicked: s[2],
        deleteConversation: s[3],
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.conversation = t[10]),
          16 & o && (r.chatModel = t[4]),
          4 & o && (r.onConversationClicked = t[2]),
          8 & o && (r.deleteConversation = t[3]),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function p6(s) {
  let e,
    n,
    t = s[1].length > 0 && hl(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, [r]) {
      o[1].length > 0
        ? t
          ? (t.p(o, r), 2 & r && d(t, 1))
          : ((t = hl(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
const $6 = () => {}
function h6(s, e, n) {
  let { groupTitle: t } = e,
    { conversations: o } = e,
    { onConversationClicked: r } = e,
    { deleteConversation: i } = e,
    { chatModel: c } = e,
    a = !1
  return (
    (s.$$set = (l) => {
      "groupTitle" in l && n(0, (t = l.groupTitle)),
        "conversations" in l && n(1, (o = l.conversations)),
        "onConversationClicked" in l && n(2, (r = l.onConversationClicked)),
        "deleteConversation" in l && n(3, (i = l.deleteConversation)),
        "chatModel" in l && n(4, (c = l.chatModel))
    }),
    [
      t,
      o,
      r,
      i,
      c,
      a,
      async function () {
        await c.deleteConversations(o.map((l) => l.id))
      },
      () => n(5, (a = !a)),
      () => n(5, (a = !1)),
      (l) => {
        var u
        l ||
          ((u = document.activeElement) != null &&
            u.closest(".l-thread-group__options") &&
            document.activeElement instanceof HTMLElement &&
            document.activeElement.blur())
      },
    ]
  )
}
class g6 extends ne {
  constructor(e) {
    super(),
      oe(this, e, h6, p6, te, {
        groupTitle: 0,
        conversations: 1,
        onConversationClicked: 2,
        deleteConversation: 3,
        chatModel: 4,
      })
  }
}
const v6 = navigator.platform.toUpperCase().indexOf("MAC") >= 0
var id = ((s) => (
  (s.leftBracket = "["),
  (s.rightBracket = "]"),
  (s.forwardSlash = "/"),
  (s.backSlash = "\\"),
  (s.ctrl = "Ctrl"),
  (s.L = "L"),
  (s.R = "R"),
  s
))(id || {})
const w6 = { cmdOrCtrl: v6 ? "" : "Ctrl" }
function vl(s, e, n) {
  const t = s.slice()
  return (t[39] = e[n].label), (t[40] = e[n].value), t
}
function wl(s, e, n) {
  const t = s.slice()
  return (t[36] = e[n]), (t[38] = n), t
}
function yl(s) {
  let e,
    n,
    t = {
      triggerOn: [Lt.Click],
      $$slots: { content: [A6], default: [b6] },
      $$scope: { ctx: s },
    }
  return (
    (e = new wt({ props: t })),
    s[28](e),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        const i = {}
        ;(2144 & r[0]) | (4096 & r[1]) && (i.$$scope = { dirty: r, ctx: o }),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        s[28](null), b(e, o)
      },
    }
  )
}
function y6(s) {
  let e, n
  return (
    (e = new gu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function b6(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        variant: "ghost-block",
        color: "neutral",
        size: 1,
        title: "Share session",
        $$slots: { default: [y6] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[27]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4096 & o[1] && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function x6(s) {
  let e
  return {
    c() {
      e = K("Copy link to thread")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    i: N,
    o: N,
    d(n) {
      n && x(e)
    },
  }
}
function _6(s) {
  let e
  return {
    c() {
      e = K(s[6])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      64 & t[0] && ze(e, n[6])
    },
    i: N,
    o: N,
    d(n) {
      n && x(e)
    },
  }
}
function C6(s) {
  let e
  return {
    c() {
      e = K("Copied link to clipboard!")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    i: N,
    o: N,
    d(n) {
      n && x(e)
    },
  }
}
function M6(s) {
  let e, n, t, o
  return (
    (n = new Qn({ props: { size: 1, useCurrentColor: !0 } })),
    {
      c() {
        ;(e = F("div")), w(n.$$.fragment), (t = K(" Copying link..."))
      },
      m(r, i) {
        M(r, e, i), y(n, e, null), B(e, t), (o = !0)
      },
      p: N,
      i(r) {
        o || (d(n.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(n.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(e), b(n)
      },
    }
  )
}
function A6(s) {
  let e, n, t, o
  const r = [M6, C6, _6, x6],
    i = []
  function c(a, l) {
    return a[5] === "retrieving"
      ? 0
      : a[5] === "copied"
        ? 1
        : a[5] === "failure"
          ? 2
          : 3
  }
  return (
    (n = c(s)),
    (t = i[n] = r[n](s)),
    {
      c() {
        ;(e = F("div")), t.c(), A(e, "slot", "content")
      },
      m(a, l) {
        M(a, e, l), i[n].m(e, null), (o = !0)
      },
      p(a, l) {
        let u = n
        ;(n = c(a)),
          n === u
            ? i[n].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (t = i[n]),
              t ? t.p(a, l) : ((t = i[n] = r[n](a)), t.c()),
              d(t, 1),
              t.m(e, null))
      },
      i(a) {
        o || (d(t), (o = !0))
      },
      o(a) {
        m(t), (o = !1)
      },
      d(a) {
        a && x(e), i[n].d()
      },
    }
  )
}
function k6(s) {
  let e, n
  return (
    (e = new Qo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function E6(s) {
  let e, n
  return (
    (e = new wu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function I6(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        variant: "solid",
        color: "accent",
        size: 1,
        "data-testid": j6,
        $$slots: { default: [E6] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[29]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4096 & o[1] && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function S6(s) {
  let e, n, t
  return (
    (n = new G1({ props: { icons: [`${w6.cmdOrCtrl}`, "L"] } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "slot", "content"),
          A(
            e,
            "class",
            "c-threads-menu__new-thread-tooltip-content svelte-113v40n",
          )
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function T6(s) {
  let e,
    n,
    t,
    o,
    r,
    i,
    c = s[1].flags.enableShareService && s[10] && yl(s)
  return (
    (t = new Et({
      props: {
        variant: "ghost-block",
        color: "neutral",
        size: 1,
        title: s[3] ? Ml : Cl,
        $$slots: { default: [k6] },
        $$scope: { ctx: s },
      },
    })),
    t.$on("click", s[14]),
    t.$on("keydown", Fn("Enter", s[14])),
    (r = new wt({
      props: { $$slots: { content: [S6], default: [I6] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        ;(e = F("div")),
          c && c.c(),
          (n = j()),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment),
          A(e, "class", "c-threads-menu__right-btns svelte-113v40n"),
          A(e, "slot", "buttons")
      },
      m(a, l) {
        M(a, e, l),
          c && c.m(e, null),
          B(e, n),
          y(t, e, null),
          B(e, o),
          y(r, e, null),
          (i = !0)
      },
      p(a, l) {
        a[1].flags.enableShareService && a[10]
          ? c
            ? (c.p(a, l), 1026 & l[0] && d(c, 1))
            : ((c = yl(a)), c.c(), d(c, 1), c.m(e, n))
          : c &&
            (Y(),
            m(c, 1, 1, () => {
              c = null
            }),
            X())
        const u = {}
        8 & l[0] && (u.title = a[3] ? Ml : Cl),
          4096 & l[1] && (u.$$scope = { dirty: l, ctx: a }),
          t.$set(u)
        const p = {}
        4096 & l[1] && (p.$$scope = { dirty: l, ctx: a }), r.$set(p)
      },
      i(a) {
        i || (d(c), d(t.$$.fragment, a), d(r.$$.fragment, a), (i = !0))
      },
      o(a) {
        m(c), m(t.$$.fragment, a), m(r.$$.fragment, a), (i = !1)
      },
      d(a) {
        a && x(e), c && c.d(), b(t), b(r)
      },
    }
  )
}
function L6(s) {
  let e
  return {
    c() {
      e = K("Sort by:")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function R6(s) {
  let e,
    n = s[2] === "lastMessageTimestamp" ? "Last Message" : "Created Date"
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      4 & o[0] &&
        n !==
          (n =
            t[2] === "lastMessageTimestamp"
              ? "Last Message"
              : "Created Date") &&
        ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function P6(s) {
  let e, n, t, o, r
  return (
    (n = new Ve({
      props: { size: 1, $$slots: { default: [R6] }, $$scope: { ctx: s } },
    })),
    (o = new Qo({})),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          w(o.$$.fragment),
          A(e, "class", "c-threads-menu__sort-trigger svelte-113v40n")
      },
      m(i, c) {
        M(i, e, c), y(n, e, null), B(e, t), y(o, e, null), (r = !0)
      },
      p(i, c) {
        const a = {}
        ;(4 & c[0]) | (4096 & c[1]) && (a.$$scope = { dirty: c, ctx: i }),
          n.$set(a)
      },
      i(i) {
        r || (d(n.$$.fragment, i), d(o.$$.fragment, i), (r = !0))
      },
      o(i) {
        m(n.$$.fragment, i), m(o.$$.fragment, i), (r = !1)
      },
      d(i) {
        i && x(e), b(n), b(o)
      },
    }
  )
}
function N6(s) {
  let e,
    n,
    t = s[39] + ""
  return {
    c() {
      ;(e = K(t)), (n = j())
    },
    m(o, r) {
      M(o, e, r), M(o, n, r)
    },
    p: N,
    d(o) {
      o && (x(e), x(n))
    },
  }
}
function bl(s) {
  let e, n
  function t() {
    return s[25](s[40])
  }
  return (
    (e = new Fe.Item({
      props: {
        onSelect: t,
        highlight: s[2] === s[40],
        $$slots: { default: [N6] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(o, r) {
        y(e, o, r), (n = !0)
      },
      p(o, r) {
        s = o
        const i = {}
        513 & r[0] && (i.onSelect = t),
          4 & r[0] && (i.highlight = s[2] === s[40]),
          4096 & r[1] && (i.$$scope = { dirty: r, ctx: s }),
          e.$set(i)
      },
      i(o) {
        n || (d(e.$$.fragment, o), (n = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (n = !1)
      },
      d(o) {
        b(e, o)
      },
    }
  )
}
function F6(s) {
  let e,
    n,
    t = ht(s[13]),
    o = []
  for (let i = 0; i < t.length; i += 1) o[i] = bl(vl(s, t, i))
  const r = (i) =>
    m(o[i], 1, 1, () => {
      o[i] = null
    })
  return {
    c() {
      for (let i = 0; i < o.length; i += 1) o[i].c()
      e = he()
    },
    m(i, c) {
      for (let a = 0; a < o.length; a += 1) o[a] && o[a].m(i, c)
      M(i, e, c), (n = !0)
    },
    p(i, c) {
      if (8709 & c[0]) {
        let a
        for (t = ht(i[13]), a = 0; a < t.length; a += 1) {
          const l = vl(i, t, a)
          o[a]
            ? (o[a].p(l, c), d(o[a], 1))
            : ((o[a] = bl(l)), o[a].c(), d(o[a], 1), o[a].m(e.parentNode, e))
        }
        for (Y(), a = t.length; a < o.length; a += 1) r(a)
        X()
      }
    },
    i(i) {
      if (!n) {
        for (let c = 0; c < t.length; c += 1) d(o[c])
        n = !0
      }
    },
    o(i) {
      o = o.filter(Boolean)
      for (let c = 0; c < o.length; c += 1) m(o[c])
      n = !1
    },
    d(i) {
      i && x(e), fn(o, i)
    },
  }
}
function D6(s) {
  let e, n, t, o
  return (
    (e = new Fe.Trigger({
      props: { $$slots: { default: [P6] }, $$scope: { ctx: s } },
    })),
    (t = new Fe.Content({
      props: {
        size: 1,
        side: "bottom",
        align: "start",
        $$slots: { default: [F6] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        ;(4 & i[0]) | (4096 & i[1]) && (c.$$scope = { dirty: i, ctx: r }),
          e.$set(c)
        const a = {}
        ;(517 & i[0]) | (4096 & i[1]) && (a.$$scope = { dirty: i, ctx: r }),
          t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function O6(s) {
  let e, n, t, o, r, i
  t = new Ve({
    props: {
      size: 1,
      weight: "medium",
      $$slots: { default: [L6] },
      $$scope: { ctx: s },
    },
  })
  let c = { $$slots: { default: [D6] }, $$scope: { ctx: s } }
  return (
    (r = new Fe.Root({ props: c })),
    s[26](r),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment),
          A(n, "class", "c-threads-menu__sort-label svelte-113v40n"),
          A(e, "slot", "sort-options"),
          A(e, "class", "c-threads-menu__sort-options svelte-113v40n")
      },
      m(a, l) {
        M(a, e, l), B(e, n), y(t, n, null), B(e, o), y(r, e, null), (i = !0)
      },
      p(a, l) {
        const u = {}
        4096 & l[1] && (u.$$scope = { dirty: l, ctx: a }), t.$set(u)
        const p = {}
        ;(517 & l[0]) | (4096 & l[1]) && (p.$$scope = { dirty: l, ctx: a }),
          r.$set(p)
      },
      i(a) {
        i || (d(t.$$.fragment, a), d(r.$$.fragment, a), (i = !0))
      },
      o(a) {
        m(t.$$.fragment, a), m(r.$$.fragment, a), (i = !1)
      },
      d(a) {
        a && x(e), b(t), s[26](null), b(r)
      },
    }
  )
}
function xl(s) {
  let e, n, t, o
  return (
    (n = new k1({ props: { size: 4 } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          A(e, "class", "c-threads-menu__separator svelte-113v40n")
      },
      m(r, i) {
        M(r, e, i), y(n, e, null), B(e, t), (o = !0)
      },
      i(r) {
        o || (d(n.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(n.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(e), b(n)
      },
    }
  )
}
function _l(s) {
  let e, n, t, o
  e = new g6({
    props: {
      groupTitle: s[36].groupTitle,
      conversations: s[36].conversations,
      onConversationClicked: s[17],
      deleteConversation: s[18],
      chatModel: s[1],
    },
  })
  let r = s[38] < s[4].length - 1 && xl()
  return {
    c() {
      w(e.$$.fragment), (n = j()), r && r.c(), (t = he())
    },
    m(i, c) {
      y(e, i, c), M(i, n, c), r && r.m(i, c), M(i, t, c), (o = !0)
    },
    p(i, c) {
      const a = {}
      16 & c[0] && (a.groupTitle = i[36].groupTitle),
        16 & c[0] && (a.conversations = i[36].conversations),
        2 & c[0] && (a.chatModel = i[1]),
        e.$set(a),
        i[38] < i[4].length - 1
          ? r
            ? 16 & c[0] && d(r, 1)
            : ((r = xl()), r.c(), d(r, 1), r.m(t.parentNode, t))
          : r &&
            (Y(),
            m(r, 1, 1, () => {
              r = null
            }),
            X())
    },
    i(i) {
      o || (d(e.$$.fragment, i), d(r), (o = !0))
    },
    o(i) {
      m(e.$$.fragment, i), m(r), (o = !1)
    },
    d(i) {
      i && (x(n), x(t)), b(e, i), r && r.d(i)
    },
  }
}
function z6(s) {
  let e,
    n,
    t = ht(s[4]),
    o = []
  for (let i = 0; i < t.length; i += 1) o[i] = _l(wl(s, t, i))
  const r = (i) =>
    m(o[i], 1, 1, () => {
      o[i] = null
    })
  return {
    c() {
      e = F("div")
      for (let i = 0; i < o.length; i += 1) o[i].c()
      A(e, "slot", "body"), A(e, "data-testid", "threads-menu-body")
    },
    m(i, c) {
      M(i, e, c)
      for (let a = 0; a < o.length; a += 1) o[a] && o[a].m(e, null)
      n = !0
    },
    p(i, c) {
      if (393234 & c[0]) {
        let a
        for (t = ht(i[4]), a = 0; a < t.length; a += 1) {
          const l = wl(i, t, a)
          o[a]
            ? (o[a].p(l, c), d(o[a], 1))
            : ((o[a] = _l(l)), o[a].c(), d(o[a], 1), o[a].m(e, null))
        }
        for (Y(), a = t.length; a < o.length; a += 1) r(a)
        X()
      }
    },
    i(i) {
      if (!n) {
        for (let c = 0; c < t.length; c += 1) d(o[c])
        n = !0
      }
    },
    o(i) {
      o = o.filter(Boolean)
      for (let c = 0; c < o.length; c += 1) m(o[c])
      n = !1
    },
    d(i) {
      i && x(e), fn(o, i)
    },
  }
}
function B6(s) {
  let e, n, t, o, r
  function i(a) {
    s[30](a)
  }
  let c = {
    active: s[3],
    class: ad,
    title: xn.getDisplayName(s[11]),
    $$slots: { body: [z6], "sort-options": [O6], buttons: [T6] },
    $$scope: { ctx: s },
  }
  return (
    s[8] !== void 0 && (c.element = s[8]),
    (e = new ny({ props: c })),
    bt.push(() => Qt(e, "element", i)),
    e.$on("click", s[14]),
    e.$on("keydown", Fn("Enter", s[14])),
    {
      c() {
        w(e.$$.fragment)
      },
      m(a, l) {
        y(e, a, l),
          (t = !0),
          o ||
            ((r = [
              Oe(window, "blur", s[19]),
              Oe(window, "keydown", Fn("Escape", s[15])),
              Oe(window, "click", s[24], !0),
            ]),
            (o = !0))
      },
      p(a, l) {
        const u = {}
        8 & l[0] && (u.active = a[3]),
          2048 & l[0] && (u.title = xn.getDisplayName(a[11])),
          (3839 & l[0]) | (4096 & l[1]) && (u.$$scope = { dirty: l, ctx: a }),
          !n &&
            256 & l[0] &&
            ((n = !0), (u.element = a[8]), tn(() => (n = !1))),
          e.$set(u)
      },
      i(a) {
        t || (d(e.$$.fragment, a), (t = !0))
      },
      o(a) {
        m(e.$$.fragment, a), (t = !1)
      },
      d(a) {
        b(e, a), (o = !1), Yt(r)
      },
    }
  )
}
new Set(Object.values(id))
const ad = "js-threads-menu",
  j6 = "new-thread-button",
  Cl = "Show Sessions",
  Ml = "Collapse Sessions"
var En = ((s) => (
  (s.Pinned = "Pinned"),
  (s.Today = "Today"),
  (s.ThisWeek = "Last 7 days"),
  (s.ThisMonth = "Last 30 days"),
  (s.Older = "Older"),
  s
))(En || {})
function H6(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l = N,
    u = () => (l(), (l = mt(h, (Q) => n(1, (i = Q)))), h),
    p = N,
    g = N
  s.$$.on_destroy.push(() => l()),
    s.$$.on_destroy.push(() => p()),
    s.$$.on_destroy.push(() => g())
  let { chatModel: h } = e
  u()
  let { onActiveChanged: k = () => {} } = e,
    { active: I } = e,
    C = I || !1
  const S = [En.Pinned, En.Today, En.ThisWeek, En.ThisMonth, En.Older]
  let H = []
  function O(Q) {
    I === void 0 && C !== Q && (n(3, (C = Q)), k(Q))
  }
  function z() {
    O(!1)
  }
  function $e() {
    h.setCurrentConversation(), z()
  }
  let pe,
    re = !1,
    le,
    ue,
    Ee,
    be = ""
  async function ee(Q) {
    if (Q !== void 0) {
      le && (clearTimeout(void 0), le.requestOpen()),
        n(5, (pe = "retrieving")),
        n(6, (be = ""))
      try {
        const ye = await h.getConversationUrl(Q)
        navigator.clipboard.writeText(ye), n(5, (pe = "copied"))
      } catch (ye) {
        const ge = ye
        n(5, (pe = "failure")), n(6, (be = ge.message))
      } finally {
        setTimeout(() => {
          le == null || le.requestClose()
        }, 1200)
      }
    }
  }
  return (
    (s.$$set = (Q) => {
      "chatModel" in Q && u(n(0, (h = Q.chatModel))),
        "onActiveChanged" in Q && n(21, (k = Q.onActiveChanged)),
        "active" in Q && n(22, (I = Q.active))
    }),
    (s.$$.update = () => {
      2 & s.$$.dirty[0] &&
        (n(12, (t = i.sortConversationsBy)),
        p(),
        (p = mt(t, (Q) => n(2, (c = Q))))),
        2 & s.$$.dirty[0] &&
          (n(11, (o = i.currentConversationModel)),
          g(),
          (g = mt(o, (Q) => n(23, (a = Q))))),
        8388609 & s.$$.dirty[0] &&
          n(10, (r = !!a.id && h.isConversationShareable(a.id))),
        7 & s.$$.dirty[0] &&
          ((Q) => {
            var se
            const ye = new Map(),
              ge = new Date(new Date().setHours(0, 0, 0, 0)),
              ae = [
                { age: En.Today, date: ge },
                { age: En.ThisWeek, date: new Date(ge.getTime() - 6048e5) },
                { age: En.ThisMonth, date: new Date(ge.getTime() - 2592e6) },
              ]
            for (const xe of Q) {
              const tt = xn.getTime(xe, c)
              let Ie =
                ((se = ae.find((Be) => tt >= Be.date)) == null
                  ? void 0
                  : se.age) || En.Older
              xe.isPinned && (Ie = En.Pinned),
                ye.set(Ie, [...(ye.get(Ie) || []), xe])
            }
            n(
              4,
              (H = S.map((xe) => ({
                groupTitle: xe,
                conversations: ye.get(xe) || [],
              })).filter((xe) => xe.conversations.length > 0)),
            )
          })(
            i
              .orderedConversations(c)
              .filter((Q) => !!h.flags.enableAgentMode || !Bt(Q)),
          )
    }),
    [
      h,
      i,
      c,
      C,
      H,
      pe,
      be,
      le,
      ue,
      Ee,
      r,
      o,
      t,
      [
        { label: "Last Message", value: "lastMessageTimestamp" },
        { label: "Created Date", value: "createdAt" },
      ],
      function (Q) {
        O(!C), Q.stopPropagation(), Q.preventDefault()
      },
      z,
      $e,
      function (Q) {
        h.setCurrentConversation(Q), z()
      },
      async function (Q) {
        try {
          ;(re = !0), await i.deleteConversation(Q)
        } finally {
          re = !1
        }
      },
      function () {
        re || z()
      },
      ee,
      k,
      I,
      a,
      (Q) => {
        ;(ue && Q.composedPath().includes(ue)) || z()
      },
      (Q) => {
        h.setSortConversationsBy(Q), Ee == null || Ee.requestClose()
      },
      function (Q) {
        bt[Q ? "unshift" : "push"](() => {
          ;(Ee = Q), n(9, Ee)
        })
      },
      (Q) => {
        ee(o.id), Q.stopPropagation()
      },
      function (Q) {
        bt[Q ? "unshift" : "push"](() => {
          ;(le = Q), n(7, le)
        })
      },
      (Q) => {
        $e(), Q.stopPropagation()
      },
      function (Q) {
        ;(ue = Q), n(8, ue)
      },
    ]
  )
}
class U6 extends ne {
  constructor(e) {
    super(),
      oe(
        this,
        e,
        H6,
        B6,
        te,
        { chatModel: 0, onActiveChanged: 21, active: 22 },
        null,
        [-1, -1],
      )
  }
}
function Al(s) {
  let e, n
  return (
    (e = new Mn({
      props: {
        color: s[3],
        size: 1,
        $$slots: { icon: [Y6], default: [W6] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.color = t[3]),
          2070 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function W6(s) {
  let e,
    n,
    t = s[1] === cn.inProgress ? ` ${s[2].progress}%` : ""
  return {
    c() {
      ;(e = K(s[4])), (n = K(t))
    },
    m(o, r) {
      M(o, e, r), M(o, n, r)
    },
    p(o, r) {
      16 & r && ze(e, o[4]),
        6 & r &&
          t !== (t = o[1] === cn.inProgress ? ` ${o[2].progress}%` : "") &&
          ze(n, t)
    },
    d(o) {
      o && (x(e), x(n))
    },
  }
}
function q6(s) {
  let e, n, t
  return (
    (n = new vu({})),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-orientation-status--spin-icon svelte-1a8540p")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function G6(s) {
  let e, n
  return (
    (e = new mn({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function V6(s) {
  let e, n
  return (
    (e = new Zo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Y6(s) {
  let e, n, t, o
  const r = [V6, G6, q6],
    i = []
  function c(a, l) {
    return a[1] === cn.succeeded ? 0 : a[1] === cn.failed ? 1 : 2
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function X6(s) {
  let e,
    n,
    t,
    o,
    r = s[0] && Al(s)
  return {
    c() {
      r && r.c(), (e = he())
    },
    m(i, c) {
      r && r.m(i, c),
        M(i, e, c),
        (n = !0),
        t ||
          ((o = Oe(window, "message", s[5].onMessageFromExtension)), (t = !0))
    },
    p(i, [c]) {
      i[0]
        ? r
          ? (r.p(i, c), 1 & c && d(r, 1))
          : ((r = Al(i)), r.c(), d(r, 1), r.m(e.parentNode, e))
        : r &&
          (Y(),
          m(r, 1, 1, () => {
            r = null
          }),
          X())
    },
    i(i) {
      n || (d(r), (n = !0))
    },
    o(i) {
      m(r), (n = !1)
    },
    d(i) {
      i && x(e), r && r.d(i), (t = !1), o()
    },
  }
}
function K6(s, e, n) {
  let t, o
  const r = new qr(dn),
    i = Ct({ state: cn.idle })
  Ge(s, i, (g) => n(2, (o = g)))
  const c = Jt(i, (g) => g.state)
  Ge(s, c, (g) => n(1, (t = g)))
  const a = {
    handleMessageFromExtension: (g) =>
      !(!g.data || g.data.type !== st.orientationStatusUpdate) &&
      (i.set(g.data.data), !0),
  }
  let l, u
  Gn(() => {
    r.registerConsumer(a), dn.postMessage({ type: st.getOrientationStatus })
  })
  let p = !1
  return (
    (s.$$.update = () => {
      var g
      2 & s.$$.dirty &&
        n(
          3,
          (l =
            (g = t) === cn.succeeded
              ? "success"
              : g === cn.failed || g === cn.aborted
                ? "error"
                : "warning"),
        ),
        6 & s.$$.dirty &&
          n(
            4,
            (u = (function (h, k) {
              return h === cn.succeeded
                ? "Orientation complete! Check out `.augment-guidelines` file."
                : h === cn.failed
                  ? k.errorMessage
                    ? `Orientation failed: ${k.errorMessage}`
                    : "Orientation failed"
                  : h === cn.aborted
                    ? k.errorMessage
                      ? `Orientation aborted: ${k.errorMessage}`
                      : "Orientation aborted"
                    : "Orienting to codebase and creating .augment-guidelines file ... "
            })(t, o)),
          ),
        3 & s.$$.dirty &&
          (p
            ? (t !== cn.succeeded && t !== cn.failed) ||
              setTimeout(() => {
                n(0, (p = !1))
              }, 3e3)
            : t === cn.inProgress && n(0, (p = !0)))
    }),
    [p, t, o, l, u, r, i, c]
  )
}
class Z6 extends ne {
  constructor(e) {
    super(), oe(this, e, K6, X6, te, {})
  }
}
function kl(s) {
  let e, n
  return (
    (e = new Mn({
      props: {
        color: "error",
        size: 1,
        $$slots: { icon: [Q6], default: [J6] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function J6(s) {
  let e
  return {
    c() {
      e = K("Syncing disabled")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Q6(s) {
  let e, n
  return (
    (e = new p1({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function e5(s) {
  let e,
    n,
    t = s[1].syncEnabledState === "disabled" && kl(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, [r]) {
      o[1].syncEnabledState === "disabled"
        ? t
          ? 2 & r && d(t, 1)
          : ((t = kl(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function t5(s, e, n) {
  let t,
    o = N,
    r = () => (o(), (o = mt(i, (c) => n(1, (t = c)))), i)
  s.$$.on_destroy.push(() => o())
  let { contextModel: i } = e
  return (
    r(),
    (s.$$set = (c) => {
      "contextModel" in c && r(n(0, (i = c.contextModel)))
    }),
    [i, t]
  )
}
class n5 extends ne {
  constructor(e) {
    super(), oe(this, e, t5, e5, te, { contextModel: 0 })
  }
}
function El(s) {
  let e, n
  return (
    (e = new Mn({
      props: {
        color: s[2],
        size: 1,
        $$slots: { icon: [i5], default: [o5] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.color = t[2]),
          89 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function o5(s) {
  var o
  let e,
    n,
    t = ((o = s[0]) == null ? void 0 : o.status) === Un.done ? "" : ` ${s[4]}%`
  return {
    c() {
      ;(e = K(s[3])), (n = K(t))
    },
    m(r, i) {
      M(r, e, i), M(r, n, i)
    },
    p(r, i) {
      var c
      8 & i && ze(e, r[3]),
        17 & i &&
          t !==
            (t =
              ((c = r[0]) == null ? void 0 : c.status) === Un.done
                ? ""
                : ` ${r[4]}%`) &&
          ze(n, t)
    },
    d(r) {
      r && (x(e), x(n))
    },
  }
}
function r5(s) {
  let e, n, t
  return (
    (n = new vu({})),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-sync-status--spin-icon svelte-18a88kw")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function s5(s) {
  let e, n
  return (
    (e = new Zo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function i5(s) {
  let e, n, t, o
  const r = [s5, r5],
    i = []
  function c(a, l) {
    var u
    return ((u = a[0]) == null ? void 0 : u.status) === Un.done ? 0 : 1
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e !== u &&
            (Y(),
            m(i[u], 1, 1, () => {
              i[u] = null
            }),
            X(),
            (n = i[e]),
            n || ((n = i[e] = r[e](a)), n.c()),
            d(n, 1),
            n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function a5(s) {
  let e,
    n,
    t = !isNaN(s[4]) && s[1],
    o = t && El(s)
  return {
    c() {
      o && o.c(), (e = he())
    },
    m(r, i) {
      o && o.m(r, i), M(r, e, i), (n = !0)
    },
    p(r, [i]) {
      18 & i && (t = !isNaN(r[4]) && r[1]),
        t
          ? o
            ? (o.p(r, i), 18 & i && d(o, 1))
            : ((o = El(r)), o.c(), d(o, 1), o.m(e.parentNode, e))
          : o &&
            (Y(),
            m(o, 1, 1, () => {
              o = null
            }),
            X())
    },
    i(r) {
      n || (d(o), (n = !0))
    },
    o(r) {
      m(o), (n = !1)
    },
    d(r) {
      r && x(e), o && o.d(r)
    },
  }
}
function c5(s, e, n) {
  let t,
    o,
    r,
    i,
    { progress: c } = e
  return (
    (s.$$set = (a) => {
      "progress" in a && n(0, (c = a.progress))
    }),
    (s.$$.update = () => {
      var a
      1 & s.$$.dirty &&
        n(
          4,
          (t =
            !(a = c) || a.totalFiles <= 0
              ? NaN
              : a.status === Un.done
                ? 100
                : Math.floor((a.syncedCount / a.totalFiles) * 100)),
        ),
        1 & s.$$.dirty &&
          n(
            2,
            (i =
              (c == null ? void 0 : c.status) === Un.done ? "success" : "info"),
          ),
        1 & s.$$.dirty &&
          n(
            3,
            (o =
              (c == null ? void 0 : c.status) === Un.done
                ? "Indexing complete."
                : "Indexing codebase..."),
          ),
        3 & s.$$.dirty &&
          (r
            ? (c == null ? void 0 : c.status) === Un.done &&
              setTimeout(() => {
                n(1, (r = !1))
              }, 3e3)
            : c &&
              c.status !== Un.done &&
              (c.status === Un.longRunning ||
                c.newlyTrackedFolders.length > 0) &&
              n(1, (r = !0)))
    }),
    n(1, (r = !1)),
    [c, r, i, o, t]
  )
}
class l5 extends ne {
  constructor(e) {
    super(), oe(this, e, c5, a5, te, { progress: 0 })
  }
}
function u5(s) {
  let e, n, t, o, r, i
  return (
    (e = new n5({ props: { contextModel: s[0] } })),
    (t = new l5({ props: { progress: s[1].syncProgress } })),
    (r = new Z6({})),
    {
      c() {
        w(e.$$.fragment),
          (n = j()),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment)
      },
      m(c, a) {
        y(e, c, a), M(c, n, a), y(t, c, a), M(c, o, a), y(r, c, a), (i = !0)
      },
      p(c, [a]) {
        const l = {}
        1 & a && (l.contextModel = c[0]), e.$set(l)
        const u = {}
        2 & a && (u.progress = c[1].syncProgress), t.$set(u)
      },
      i(c) {
        i ||
          (d(e.$$.fragment, c),
          d(t.$$.fragment, c),
          d(r.$$.fragment, c),
          (i = !0))
      },
      o(c) {
        m(e.$$.fragment, c), m(t.$$.fragment, c), m(r.$$.fragment, c), (i = !1)
      },
      d(c) {
        c && (x(n), x(o)), b(e, c), b(t, c), b(r, c)
      },
    }
  )
}
function d5(s, e, n) {
  let t,
    o = N,
    r = () => (o(), (o = mt(i, (c) => n(1, (t = c)))), i)
  s.$$.on_destroy.push(() => o())
  let { contextModel: i } = e
  return (
    r(),
    (s.$$set = (c) => {
      "contextModel" in c && r(n(0, (i = c.contextModel)))
    }),
    [i, t]
  )
}
class f5 extends ne {
  constructor(e) {
    super(), oe(this, e, d5, u5, te, { contextModel: 0 })
  }
}
function m5(s) {
  let e, n, t
  return (
    (e = new eo({ props: { iconName: "play_arrow" } })),
    {
      c() {
        w(e.$$.fragment),
          (n = K(`
    Feedback`))
      },
      m(o, r) {
        y(e, o, r), M(o, n, r), (t = !0)
      },
      p: N,
      i(o) {
        t || (d(e.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(n), b(e, o)
      },
    }
  )
}
function p5(s) {
  let e, n, t, o, r, i
  function c(l) {
    s[3](l)
  }
  let a = { disabled: s[1], variant: "surface", size: 2 }
  return (
    s[0] !== void 0 && (a.value = s[0]),
    (n = new Xr({ props: a })),
    bt.push(() => Qt(n, "value", c)),
    n.$on("keydown", s[2]),
    (r = new _t({
      props: {
        disabled: !s[0] || s[1],
        size: 2,
        variant: "solid",
        color: "accent",
        $$slots: { default: [m5] },
        $$scope: { ctx: s },
      },
    })),
    r.$on("click", s[4]),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (o = j()),
          w(r.$$.fragment),
          A(e, "class", "simple-input-container svelte-16gfgo6")
      },
      m(l, u) {
        M(l, e, u), y(n, e, null), B(e, o), y(r, e, null), (i = !0)
      },
      p(l, [u]) {
        const p = {}
        2 & u && (p.disabled = l[1]),
          !t && 1 & u && ((t = !0), (p.value = l[0]), tn(() => (t = !1))),
          n.$set(p)
        const g = {}
        3 & u && (g.disabled = !l[0] || l[1]),
          128 & u && (g.$$scope = { dirty: u, ctx: l }),
          r.$set(g)
      },
      i(l) {
        i || (d(n.$$.fragment, l), d(r.$$.fragment, l), (i = !0))
      },
      o(l) {
        m(n.$$.fragment, l), m(r.$$.fragment, l), (i = !1)
      },
      d(l) {
        l && x(e), b(n), b(r)
      },
    }
  )
}
function $5(s, e, n) {
  const t = Xe("autofixConversationModel")
  if (!t) throw new Error("AutofixConversationModel not found in context")
  let o = "",
    r = !1
  async function i(c) {
    if (c.shiftKey || c.ctrlKey || c.metaKey) return !1
    if ((c.stopPropagation(), c.key === "Enter" && o.length > 0)) {
      n(1, (r = !0))
      try {
        await t.handleUserSteering(o)
      } finally {
        n(1, (r = !1))
      }
      return n(0, (o = "")), !0
    }
    return c.key === "Escape"
  }
  return (
    Gn(() => {
      const c = document.querySelector("input")
      c && (c.focus(), c.select())
    }),
    [
      o,
      r,
      i,
      function (c) {
        ;(o = c), n(0, o)
      },
      () => i(new KeyboardEvent("keydown", { key: "Enter" })),
    ]
  )
}
class h5 extends ne {
  constructor(e) {
    super(), oe(this, e, $5, p5, te, {})
  }
}
function g5(s) {
  let e
  return {
    c() {
      e =
        K(`Agent Auto mode allows Augment to run commands automatically on your behalf without your
        explicit approval. Changes can be destructive -- proceed with caution.`)
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function v5(s) {
  let e
  return {
    c() {
      e = K("Accept")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function w5(s) {
  let e
  return {
    c() {
      e = K("Back to Manual Mode")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function y5(s) {
  let e, n, t, o, r, i, c, a
  return (
    (n = new Ve({
      props: { size: 2, $$slots: { default: [g5] }, $$scope: { ctx: s } },
    })),
    (r = new _t({
      props: {
        size: 1,
        variant: "solid",
        color: "accent",
        class: "c-agent-auto-mode-warning__button",
        $$slots: { default: [v5] },
        $$scope: { ctx: s },
      },
    })),
    r.$on("click", s[1]),
    (c = new _t({
      props: {
        size: 1,
        variant: "solid",
        color: "neutral",
        class: "c-agent-auto-mode-warning__button",
        $$slots: { default: [w5] },
        $$scope: { ctx: s },
      },
    })),
    c.$on("click", s[2]),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          (o = F("div")),
          w(r.$$.fragment),
          (i = j()),
          w(c.$$.fragment),
          A(o, "class", "c-agent-auto-mode-warning__buttons"),
          A(e, "class", "c-agent-auto-mode-warning__content")
      },
      m(l, u) {
        M(l, e, u),
          y(n, e, null),
          B(e, t),
          B(e, o),
          y(r, o, null),
          B(o, i),
          y(c, o, null),
          (a = !0)
      },
      p(l, u) {
        const p = {}
        8 & u && (p.$$scope = { dirty: u, ctx: l }), n.$set(p)
        const g = {}
        8 & u && (g.$$scope = { dirty: u, ctx: l }), r.$set(g)
        const h = {}
        8 & u && (h.$$scope = { dirty: u, ctx: l }), c.$set(h)
      },
      i(l) {
        a ||
          (d(n.$$.fragment, l),
          d(r.$$.fragment, l),
          d(c.$$.fragment, l),
          (a = !0))
      },
      o(l) {
        m(n.$$.fragment, l), m(r.$$.fragment, l), m(c.$$.fragment, l), (a = !1)
      },
      d(l) {
        l && x(e), b(n), b(r), b(c)
      },
    }
  )
}
function b5(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function x5(s) {
  let e, n, t
  return (
    (n = new Mn({
      props: {
        color: "warning",
        variant: "soft",
        size: 1,
        $$slots: { icon: [b5], default: [y5] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-agent-auto-mode-warning svelte-ffctgo")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, [r]) {
        const i = {}
        8 & r && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function _5(s) {
  const e = Xe("agentConversationModel")
  return [e, () => e.acceptAutoMode(), () => e.rejectAutoMode()]
}
class C5 extends ne {
  constructor(e) {
    super(), oe(this, e, _5, x5, te, {})
  }
}
function M5(s) {
  let e,
    n,
    t = [
      { xmlns: "http://www.w3.org/2000/svg" },
      { "data-ds-icon": "fa" },
      { viewBox: "0 0 512 512" },
      s[0],
    ],
    o = {}
  for (let r = 0; r < t.length; r += 1) o = Le(o, t[r])
  return {
    c() {
      ;(e = Ue("svg")), (n = new Ut(!0)), this.h()
    },
    l(r) {
      e = Wt(r, "svg", { xmlns: !0, "data-ds-icon": !0, viewBox: !0 })
      var i = qt(e)
      ;(n = Gt(i, !0)), i.forEach(x), this.h()
    },
    h() {
      ;(n.a = null), ct(e, o)
    },
    m(r, i) {
      Vt(r, e, i),
        n.m(
          '<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M208 416c0-26.5-21.5-48-48-48H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288c0 8.8-7.2 16-16 16H309.3c-10.4 0-20.5 3.4-28.8 9.6L208 432zm-.2 76.2.2-.2 101.3-76H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5l17.1-12.8zM232 296c0 13.3 10.7 24 24 24s24-10.7 24-24v-64h64c13.3 0 24-10.7 24-24s-10.7-24-24-24h-64v-64c0-13.3-10.7-24-24-24s-24 10.7-24 24v64h-64c-13.3 0-24 10.7-24 24s10.7 24 24 24h64z"/>',
          e,
        )
    },
    p(r, [i]) {
      ct(
        e,
        (o = Mt(t, [
          { xmlns: "http://www.w3.org/2000/svg" },
          { "data-ds-icon": "fa" },
          { viewBox: "0 0 512 512" },
          1 & i && r[0],
        ])),
      )
    },
    i: N,
    o: N,
    d(r) {
      r && x(e)
    },
  }
}
function A5(s, e, n) {
  return (
    (s.$$set = (t) => {
      n(0, (e = Le(Le({}, e), it(t))))
    }),
    [(e = it(e))]
  )
}
class k5 extends ne {
  constructor(e) {
    super(), oe(this, e, A5, M5, te, {})
  }
}
function E5(s) {
  let e
  return {
    c() {
      e = K("Long threads can lead to worse results.")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function I5(s) {
  let e, n
  return (
    (e = new k5({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function S5(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "ghost",
        color: "neutral",
        "data-testid": "new-thread-warning-button",
        $$slots: { default: [I5] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[0]) && s[0].apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        4 & o && (r.$$scope = { dirty: o, ctx: s }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function T5(s) {
  let e, n
  return (
    (e = new Xu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function L5(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        size: 1,
        variant: "ghost",
        color: "neutral",
        "data-testid": "dismiss-thread-warning-button",
        $$slots: { default: [T5] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      kt(s[1]) && s[1].apply(this, arguments)
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        4 & o && (r.$$scope = { dirty: o, ctx: s }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function R5(s) {
  let e, n, t, o, r, i, c, a
  return (
    (n = new Ve({
      props: { size: 1, $$slots: { default: [E5] }, $$scope: { ctx: s } },
    })),
    (r = new wt({
      props: {
        content: "New Thread",
        triggerOn: [Lt.Hover, Lt.Click],
        $$slots: { default: [S5] },
        $$scope: { ctx: s },
      },
    })),
    (c = new wt({
      props: {
        content: "Dismiss",
        triggerOn: [Lt.Hover],
        $$slots: { default: [L5] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          (o = F("div")),
          w(r.$$.fragment),
          (i = j()),
          w(c.$$.fragment),
          A(o, "class", "l-thread-length-warning__right svelte-npaukb"),
          A(e, "class", "l-thread-length-warning__content svelte-npaukb")
      },
      m(l, u) {
        M(l, e, u),
          y(n, e, null),
          B(e, t),
          B(e, o),
          y(r, o, null),
          B(o, i),
          y(c, o, null),
          (a = !0)
      },
      p(l, [u]) {
        const p = {}
        4 & u && (p.$$scope = { dirty: u, ctx: l }), n.$set(p)
        const g = {}
        5 & u && (g.$$scope = { dirty: u, ctx: l }), r.$set(g)
        const h = {}
        6 & u && (h.$$scope = { dirty: u, ctx: l }), c.$set(h)
      },
      i(l) {
        a ||
          (d(n.$$.fragment, l),
          d(r.$$.fragment, l),
          d(c.$$.fragment, l),
          (a = !0))
      },
      o(l) {
        m(n.$$.fragment, l), m(r.$$.fragment, l), m(c.$$.fragment, l), (a = !1)
      },
      d(l) {
        l && x(e), b(n), b(r), b(c)
      },
    }
  )
}
function P5(s, e, n) {
  let { onNewThreadClick: t } = e,
    { onDismiss: o } = e
  return (
    (s.$$set = (r) => {
      "onNewThreadClick" in r && n(0, (t = r.onNewThreadClick)),
        "onDismiss" in r && n(1, (o = r.onDismiss))
    }),
    [t, o]
  )
}
class N5 extends ne {
  constructor(e) {
    super(), oe(this, e, P5, R5, te, { onNewThreadClick: 0, onDismiss: 1 })
  }
}
class F5 {
  constructor(e, n, t, o) {
    Z(this, "_disposables", [])
    Z(this, "_chatHistoryCheckpoints")
    Z(
      this,
      "_currentCheckpoint",
      Ct({
        request_id: crypto.randomUUID(),
        uuid: crypto.randomUUID(),
        chatItemType: Pn.agenticCheckpointDelimiter,
        status: Ft.draft,
        fromTimestamp: 0,
        toTimestamp: Number.MAX_SAFE_INTEGER,
      }),
    )
    Z(this, "checkpoints")
    Z(this, "uuidToIdx")
    Z(this, "_targetCheckpointIdx", Ct(void 0))
    Z(this, "targetCheckpoint")
    Z(this, "isTargetCheckpointLatest")
    Z(this, "totalCheckpointCount")
    Z(this, "_targetCheckpointSummary", Ct([]))
    Z(this, "targetCheckpointSummary", xs(this._targetCheckpointSummary))
    Z(
      this,
      "targetCheckpointHasChanges",
      Jt(this.targetCheckpointSummary, (e) =>
        e.some((n) => {
          var t, o
          return (
            (((t = n.changesSummary) == null ? void 0 : t.totalAddedLines) ??
              !1) ||
            (((o = n.changesSummary) == null ? void 0 : o.totalRemovedLines) ??
              !1)
          )
        }),
      ),
    )
    Z(this, "_doNothingOnAgentDisabled", (e) => (...n) => {
      this._flagsModel.enableAgentMode && e(...n)
    })
    Z(this, "_doNothingOnNotAgentConversation", (e) => (...n) => {
      if (this._flagsModel.enableAgentMode && Bt(ft(this._conversationModel)))
        return e(...n)
    })
    Z(this, "_refreshAgentEditsImmediate", async () => {
      const e = this._targetCheckpoint
      if (!e) return
      const n = this._agentConversationModel
          ? this._agentConversationModel.getBaselineTimestamp()
          : 0,
        t = await this.getCheckpointSummary({
          ...e,
          fromTimestamp: n,
          toTimestamp: Number.MAX_SAFE_INTEGER,
        })
      this._targetCheckpointSummary.set(t)
    })
    Z(
      this,
      "_refreshAgentEdits",
      Uu(this._refreshAgentEditsImmediate, 500, { leading: !0, trailing: !0 }),
    )
    Z(
      this,
      "_revertToTimestamp",
      this._doNothingOnNotAgentConversation(async (e) => {
        await this._extensionClient.revertToTimestamp(e),
          this.createNewCheckpoint(),
          this._refreshAgentEdits()
      }),
    )
    Z(
      this,
      "maybeCreateOriginalCheckpoint",
      this._doNothingOnNotAgentConversation(() => {
        ft(this.checkpoints).length === 0 && this.createNewCheckpoint()
      }),
    )
    Z(this, "dispose", () => {
      this._disposables.forEach((e) => e.dispose())
    })
    ;(this._flagsModel = e),
      (this._conversationModel = n),
      (this._extensionClient = t),
      (this._agentConversationModel = o),
      (this._chatHistoryCheckpoints = Jt(
        [this._conversationModel],
        ([r], i) => {
          var a, l, u, p
          const c = r.chatHistory.filter(lu)
          ;((c == null ? void 0 : c.length) ===
            ((a = ft(this._chatHistoryCheckpoints)) == null
              ? void 0
              : a.length) &&
            ((l = c == null ? void 0 : c.at(-1)) == null ? void 0 : l.uuid) ===
              ((p =
                (u = ft(this._chatHistoryCheckpoints)) == null
                  ? void 0
                  : u.at(-1)) == null
                ? void 0
                : p.uuid)) ||
            (this._currentCheckpoint.update((g) => {
              var h
              return {
                ...g,
                fromTimestamp:
                  ((h = c.at(-1)) == null ? void 0 : h.toTimestamp) ?? 0,
                toTimestamp: Number.MAX_SAFE_INTEGER,
              }
            }),
            i(c))
        },
      )),
      (this.checkpoints = Jt(
        [this._chatHistoryCheckpoints, this._currentCheckpoint],
        ([r, i]) => [...r, i].filter((c) => c.status !== Ft.draft),
      )),
      (this.totalCheckpointCount = Jt(this.checkpoints, (r) => r.length)),
      (this.uuidToIdx = Jt(
        this.checkpoints,
        (r) => new Map(r.map((i, c) => [i.uuid, c])),
      )),
      (this.targetCheckpoint = Jt(
        [this.targetCheckpointIdx, this.checkpoints],
        ([r, i]) => i.at(r ?? -1),
      )),
      (this.isTargetCheckpointLatest = Jt(
        [this.targetCheckpointIdx, this.checkpoints],
        ([r, i]) => r === i.length - 1 || r === void 0,
      )),
      [
        this._conversationModel.onSendExchange(
          this._doNothingOnNotAgentConversation(() => {
            ft(this._currentCheckpoint).status === Ft.draft &&
              this._currentCheckpoint.update((r) => ({ ...r, status: Ft.sent }))
          }),
        ),
        this.targetCheckpoint.subscribe(
          this._doNothingOnAgentDisabled(() => {
            this._refreshAgentEdits()
          }),
        ),
        this.checkpoints.subscribe(
          this._doNothingOnAgentDisabled(() => {
            ft(this.isTargetCheckpointLatest) && this._refreshAgentEdits()
          }),
        ),
        this._conversationModel.onNewConversation(() => {
          this.targetCheckpointIdx.set(void 0),
            this._targetCheckpointSummary.set([]),
            this._refreshAgentEdits()
        }),
        this._conversationModel.onSendExchange(
          this._doNothingOnAgentDisabled(() =>
            this.targetCheckpointIdx.set(void 0),
          ),
        ),
      ].forEach((r) => {
        this._disposables.push({ dispose: r })
      })
  }
  registerAgentConversationModel(e) {
    this._agentConversationModel = e
  }
  get targetCheckpointIdx() {
    return {
      subscribe: this._targetCheckpointIdx.subscribe,
      set: () => this._targetCheckpointIdx.set(void 0),
      update: () => this._targetCheckpointIdx.set(void 0),
    }
  }
  get currentCheckpoint() {
    return this._currentCheckpoint
  }
  get _checkpoints() {
    return ft(this.checkpoints)
  }
  get _targetCheckpoint() {
    return ft(this.targetCheckpoint)
  }
  getCheckpointIdxForTimestamp(e) {
    return this._checkpoints.findIndex(
      (n) => n.fromTimestamp <= e && n.toTimestamp >= e,
    )
  }
  getCheckpointAtIdx(e) {
    return this._checkpoints.at(e)
  }
  createNewCheckpoint(e = {}) {
    const n = ft(this._currentCheckpoint),
      t = Date.now(),
      o = { ...n, status: Ft.success, toTimestamp: t, ...e }
    this._currentCheckpoint.set({
      request_id: crypto.randomUUID(),
      uuid: crypto.randomUUID(),
      chatItemType: Pn.agenticCheckpointDelimiter,
      status: Ft.draft,
      fromTimestamp: t,
      toTimestamp: Number.MAX_SAFE_INTEGER,
    }),
      this._conversationModel.addChatItem(o)
  }
  async getCheckpointSummary(e) {
    return (
      await this._extensionClient.getAgentEditList(
        e.fromTimestamp,
        e.toTimestamp,
      )
    ).edits
  }
  async getCheckpointIdxSummary(e) {
    const n = this._checkpoints.at(e)
    return n ? this.getCheckpointSummary(n) : []
  }
  async revertToCheckpoint(e) {
    const n = ft(this.uuidToIdx).get(e)
    if (n === void 0) return !1
    const t = this._checkpoints.at(n)
    if (!t) return !1
    const o = ft(this._conversationModel).id,
      r = await this._extensionClient.revertToTimestamp(t.toTimestamp)
    return (
      (r || ft(this._conversationModel).id === o) &&
        this.createNewCheckpoint({ revertTarget: { uuid: e } }),
      r
    )
  }
  async revertDocumentToTimestamp(e, n) {
    const t = ft(this._conversationModel).id,
      o = await this._extensionClient.revertToTimestamp(n, [e])
    return (
      o &&
        ft(this._conversationModel).id === t &&
        this.createNewCheckpoint({ revertTarget: { filePath: e } }),
      o
    )
  }
  async acceptAll() {
    const e = this._checkpoints.at(-1)
    if (e) {
      const n = e.toTimestamp
      return (
        Bt(ft(this._conversationModel)) &&
          this._agentConversationModel &&
          this._agentConversationModel.updateBaselineTimestamp(n),
        await this._extensionClient.acceptAllAgentEdits(),
        this._refreshAgentEdits(),
        !0
      )
    }
    return !1
  }
  async rejectAll() {
    var n
    const e = await this._extensionClient.openConfirmationModal({
      title: "Discard All Changes",
      message:
        "Are you sure you want to discard all changes? This will apply to all changes whether made by the agent or yourself.",
      confirmButtonText: "Discard",
      cancelButtonText: "Cancel",
    })
    if (e) {
      const t =
        ((n = this._agentConversationModel) == null
          ? void 0
          : n.getBaselineTimestamp()) ?? 0
      Bt(ft(this._conversationModel)) &&
        this._agentConversationModel &&
        this._agentConversationModel.updateBaselineTimestamp(t),
        await this._revertToTimestamp(t),
        this._refreshAgentEdits()
    }
    return e
  }
  handleMessageFromExtension(e) {
    switch (e.data.type) {
      case st.chatAgentEditListHasUpdates:
        this._refreshAgentEdits()
        break
      case st.chatMemoryHasUpdates:
        Zu.notifyMemoryUpdated()
    }
    return !0
  }
  async updateBaselineTimestamp(e) {
    Bt(ft(this._conversationModel)) &&
      this._agentConversationModel &&
      (this._agentConversationModel.updateBaselineTimestamp(e),
      this._refreshAgentEdits())
  }
}
function Il(s) {
  let e, n, t, o, r, i, c, a, l, u, p, g, h, k, I, C, S, H, O, z, $e, pe, re, le
  function ue(ae, se) {
    return ae[11].flags.isRemoteAgentWindow ? z5 : ae[0] ? O5 : D5
  }
  let Ee = ue(s),
    be = Ee(s),
    ee = s[8] && Sl(s)
  const Q = [U5, H5],
    ye = []
  function ge(ae, se) {
    var xe
    return (xe = ae[4]) != null && xe.is_setup_script_agent ? 0 : 1
  }
  return (
    (c = ge(s)),
    (a = ye[c] = Q[c](s)),
    (g = new zs({})),
    (k = new wt({
      props: {
        content: `Repository: ${s[3]}`,
        triggerOn: [Lt.Hover],
        $$slots: { default: [G5] },
        $$scope: { ctx: s },
      },
    })),
    (S = new Bu({})),
    (O = new wt({
      props: {
        content: `Started on branch: ${s[6]}`,
        triggerOn: [Lt.Hover],
        $$slots: { default: [V5] },
        $$scope: { ctx: s },
      },
    })),
    (re = new $1({ props: { hasActions: !s[9], canMakePR: !0 } })),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          be.c(),
          (t = j()),
          (o = F("div")),
          ee && ee.c(),
          (r = j()),
          (i = F("div")),
          a.c(),
          (l = j()),
          (u = F("div")),
          (p = F("a")),
          w(g.$$.fragment),
          (h = j()),
          w(k.$$.fragment),
          (I = j()),
          (C = F("a")),
          w(S.$$.fragment),
          (H = j()),
          w(O.$$.fragment),
          ($e = j()),
          (pe = F("div")),
          w(re.$$.fragment),
          A(o, "class", "c-agent-header__actions svelte-5po6zj"),
          A(n, "class", "c-agent-header-banner svelte-5po6zj"),
          je(n, "is-in-remote", s[11].flags.isRemoteAgentWindow),
          A(i, "class", "c-agent-title svelte-5po6zj"),
          A(p, "href", s[3]),
          A(p, "class", "c-agent-info-item svelte-5po6zj"),
          A(C, "href", (z = `${s[3]}/tree/${s[6]}`)),
          A(C, "class", "c-agent-info-item svelte-5po6zj"),
          A(u, "class", "c-agent-info-row svelte-5po6zj"),
          A(pe, "class", "c-agent-header-status svelte-5po6zj"),
          A(e, "class", "c-agent-header svelte-5po6zj")
      },
      m(ae, se) {
        M(ae, e, se),
          B(e, n),
          be.m(n, null),
          B(n, t),
          B(n, o),
          ee && ee.m(o, null),
          B(e, r),
          B(e, i),
          ye[c].m(i, null),
          B(e, l),
          B(e, u),
          B(u, p),
          y(g, p, null),
          B(p, h),
          y(k, p, null),
          B(u, I),
          B(u, C),
          y(S, C, null),
          B(C, H),
          y(O, C, null),
          B(e, $e),
          B(e, pe),
          y(re, pe, null),
          (le = !0)
      },
      p(ae, se) {
        Ee !== (Ee = ue(ae)) &&
          (be.d(1), (be = Ee(ae)), be && (be.c(), be.m(n, t))),
          ae[8]
            ? ee
              ? (ee.p(ae, se), 256 & se && d(ee, 1))
              : ((ee = Sl(ae)), ee.c(), d(ee, 1), ee.m(o, null))
            : ee &&
              (Y(),
              m(ee, 1, 1, () => {
                ee = null
              }),
              X())
        let xe = c
        ;(c = ge(ae)),
          c === xe
            ? ye[c].p(ae, se)
            : (Y(),
              m(ye[xe], 1, 1, () => {
                ye[xe] = null
              }),
              X(),
              (a = ye[c]),
              a ? a.p(ae, se) : ((a = ye[c] = Q[c](ae)), a.c()),
              d(a, 1),
              a.m(i, null))
        const tt = {}
        8 & se && (tt.content = `Repository: ${ae[3]}`),
          2097280 & se && (tt.$$scope = { dirty: se, ctx: ae }),
          k.$set(tt),
          (!le || 8 & se) && A(p, "href", ae[3])
        const Ie = {}
        64 & se && (Ie.content = `Started on branch: ${ae[6]}`),
          2097216 & se && (Ie.$$scope = { dirty: se, ctx: ae }),
          O.$set(Ie),
          (!le || (72 & se && z !== (z = `${ae[3]}/tree/${ae[6]}`))) &&
            A(C, "href", z)
        const Be = {}
        512 & se && (Be.hasActions = !ae[9]), re.$set(Be)
      },
      i(ae) {
        le ||
          (d(ee),
          d(a),
          d(g.$$.fragment, ae),
          d(k.$$.fragment, ae),
          d(S.$$.fragment, ae),
          d(O.$$.fragment, ae),
          d(re.$$.fragment, ae),
          (le = !0))
      },
      o(ae) {
        m(ee),
          m(a),
          m(g.$$.fragment, ae),
          m(k.$$.fragment, ae),
          m(S.$$.fragment, ae),
          m(O.$$.fragment, ae),
          m(re.$$.fragment, ae),
          (le = !1)
      },
      d(ae) {
        ae && x(e),
          be.d(),
          ee && ee.d(),
          ye[c].d(),
          b(g),
          b(k),
          b(S),
          b(O),
          b(re)
      },
    }
  )
}
function D5(s) {
  let e
  return {
    c() {
      ;(e = F("span")), (e.textContent = "Running locally")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function O5(s) {
  let e
  return {
    c() {
      ;(e = F("span")), (e.textContent = "Running in the cloud")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function z5(s) {
  let e
  return {
    c() {
      ;(e = F("div")),
        (e.innerHTML =
          '<div class="c-agent-header-banner__text svelte-5po6zj">Running in the cloud</div> <div class="c-agent-header-banner__text c-agent-header-banner__text--secondary svelte-5po6zj">Workspace opened via SSH in this VSCode window</div>'),
        A(e, "class", "c-agent-header-banner__stack svelte-5po6zj")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Sl(s) {
  var r, i, c
  let e,
    n,
    t,
    o =
      !s[11].flags.isRemoteAgentWindow &&
      (((r = s[4]) == null ? void 0 : r.status) === _n.agentRunning ||
        ((i = s[4]) == null ? void 0 : i.status) === _n.agentIdle) &&
      Tl(s)
  return (
    (n = new ju({
      props: {
        agentId: s[8],
        selectedBranch: s[5] ? "..." : (c = s[2]) == null ? void 0 : c.name,
      },
    })),
    {
      c() {
        o && o.c(), (e = j()), w(n.$$.fragment)
      },
      m(a, l) {
        o && o.m(a, l), M(a, e, l), y(n, a, l), (t = !0)
      },
      p(a, l) {
        var p, g, h
        a[11].flags.isRemoteAgentWindow ||
        (((p = a[4]) == null ? void 0 : p.status) !== _n.agentRunning &&
          ((g = a[4]) == null ? void 0 : g.status) !== _n.agentIdle)
          ? o &&
            (Y(),
            m(o, 1, 1, () => {
              o = null
            }),
            X())
          : o
            ? (o.p(a, l), 16 & l && d(o, 1))
            : ((o = Tl(a)), o.c(), d(o, 1), o.m(e.parentNode, e))
        const u = {}
        256 & l && (u.agentId = a[8]),
          36 & l &&
            (u.selectedBranch = a[5]
              ? "..."
              : (h = a[2]) == null
                ? void 0
                : h.name),
          n.$set(u)
      },
      i(a) {
        t || (d(o), d(n.$$.fragment, a), (t = !0))
      },
      o(a) {
        m(o), m(n.$$.fragment, a), (t = !1)
      },
      d(a) {
        a && x(e), o && o.d(a), b(n, a)
      },
    }
  )
}
function Tl(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 1,
        variant: "ghost-block",
        color: "neutral",
        title: "SSH into the remote agent's workspace in a new VSCode window",
        class: "c-agent-header__open-btn",
        $$slots: { iconRight: [j5], default: [B5] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[17]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2097152 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function B5(s) {
  let e
  return {
    c() {
      ;(e = F("span")),
        (e.innerHTML =
          '<span class="c-open-button-text__full svelte-5po6zj">Open remote workspace</span> <span class="c-open-button-text__short svelte-5po6zj">Open</span>'),
        A(e, "class", "c-open-button-text svelte-5po6zj")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    d(n) {
      n && x(e)
    },
  }
}
function j5(s) {
  let e, n
  return (
    (e = new du({ props: { slot: "iconRight" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function H5(s) {
  let e, n
  return (
    (e = new Ve({
      props: {
        size: 1,
        weight: "medium",
        truncate: !0,
        $$slots: { default: [W5] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2097168 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function U5(s) {
  let e, n, t, o, r, i
  return (
    (t = new ku({})),
    (r = new Ve({
      props: {
        size: 1,
        weight: "medium",
        truncate: !0,
        $$slots: { default: [q5] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        ;(e = F("div")),
          (n = F("div")),
          w(t.$$.fragment),
          (o = j()),
          w(r.$$.fragment),
          A(n, "class", "c-setup-script-badge svelte-5po6zj"),
          A(e, "class", "c-agent-title-content svelte-5po6zj")
      },
      m(c, a) {
        M(c, e, a), B(e, n), y(t, n, null), B(e, o), y(r, e, null), (i = !0)
      },
      p(c, a) {
        const l = {}
        2097152 & a && (l.$$scope = { dirty: a, ctx: c }), r.$set(l)
      },
      i(c) {
        i || (d(t.$$.fragment, c), d(r.$$.fragment, c), (i = !0))
      },
      o(c) {
        m(t.$$.fragment, c), m(r.$$.fragment, c), (i = !1)
      },
      d(c) {
        c && x(e), b(t), b(r)
      },
    }
  )
}
function W5(s) {
  var t
  let e,
    n = ((t = s[4]) == null ? void 0 : t.session_summary) + ""
  return {
    c() {
      e = K(n)
    },
    m(o, r) {
      M(o, e, r)
    },
    p(o, r) {
      var i
      16 & r &&
        n !== (n = ((i = o[4]) == null ? void 0 : i.session_summary) + "") &&
        ze(e, n)
    },
    d(o) {
      o && x(e)
    },
  }
}
function q5(s) {
  let e
  return {
    c() {
      e = K("Generate a setup script")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function G5(s) {
  let e, n
  return {
    c() {
      ;(e = F("div")),
        (n = K(s[7])),
        A(e, "class", "c-agent-info-value svelte-5po6zj")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p(t, o) {
      128 & o && ze(n, t[7])
    },
    d(t) {
      t && x(e)
    },
  }
}
function V5(s) {
  let e, n
  return {
    c() {
      ;(e = F("div")),
        (n = K(s[6])),
        A(e, "class", "c-agent-info-value svelte-5po6zj")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p(t, o) {
      64 & o && ze(n, t[6])
    },
    d(t) {
      t && x(e)
    },
  }
}
function Y5(s) {
  let e, n, t, o
  uo(s[16])
  let r = s[0] && s[4] && Il(s)
  return {
    c() {
      r && r.c(), (e = he())
    },
    m(i, c) {
      r && r.m(i, c),
        M(i, e, c),
        (n = !0),
        t || ((o = Oe(window, "resize", s[16])), (t = !0))
    },
    p(i, [c]) {
      i[0] && i[4]
        ? r
          ? (r.p(i, c), 17 & c && d(r, 1))
          : ((r = Il(i)), r.c(), d(r, 1), r.m(e.parentNode, e))
        : r &&
          (Y(),
          m(r, 1, 1, () => {
            r = null
          }),
          X())
    },
    i(i) {
      n || (d(r), (n = !0))
    },
    o(i) {
      m(r), (n = !1)
    },
    d(i) {
      i && x(e), r && r.d(i), (t = !1), o()
    },
  }
}
function X5(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    { isRemote: p = !0 } = e,
    g = 0
  const h = Xe(_o.key)
  Ge(s, h, ($e) => n(15, (u = $e)))
  const k = Xe("chatModel"),
    I = Xe(mo.key)
  let C,
    S,
    H = [],
    O = !1
  async function z($e) {
    if (!$e) return
    const pe = h.agentOverviews.find((re) => re.remote_agent_id === $e)
    pe && (await h.sshToRemoteAgent(pe))
  }
  return (
    Gn(async () => {
      await (async function () {
        if (I) {
          n(5, (O = !0))
          try {
            const $e = await I.listBranches()
            if (
              (n(13, (H = $e.branches.filter((pe) => pe.isRemote))),
              (C = $e.branches.find((pe) => pe.isCurrentBranch)),
              i)
            ) {
              const pe = H.find(
                (re) =>
                  re.name === i ||
                  re.name === `origin/${i}` ||
                  i === `origin/${re.name}`,
              )
              n(2, (S = pe || C))
            } else n(2, (S = C))
          } catch ($e) {
            console.error("Failed to fetch branches:", $e)
          } finally {
            n(5, (O = !1))
          }
        }
      })()
    }),
    (s.$$set = ($e) => {
      "isRemote" in $e && n(0, (p = $e.isRemote))
    }),
    (s.$$.update = () => {
      var $e, pe, re, le, ue, Ee, be
      if (
        (2 & s.$$.dirty && n(9, (t = g < 700)),
        32768 & s.$$.dirty && n(4, (o = u == null ? void 0 : u.currentAgent)),
        16 & s.$$.dirty && n(8, (r = o == null ? void 0 : o.remote_agent_id)),
        16 & s.$$.dirty &&
          n(
            14,
            (i =
              (re =
                (pe =
                  ($e = o == null ? void 0 : o.workspace_setup) == null
                    ? void 0
                    : $e.starting_files) == null
                  ? void 0
                  : pe.github_commit_ref) == null
                ? void 0
                : re.git_ref),
          ),
        16 & s.$$.dirty &&
          n(
            3,
            (c =
              ((Ee =
                (ue =
                  (le = o == null ? void 0 : o.workspace_setup) == null
                    ? void 0
                    : le.starting_files) == null
                  ? void 0
                  : ue.github_commit_ref) == null
                ? void 0
                : Ee.repository_url) || ""),
          ),
        8 & s.$$.dirty &&
          n(
            7,
            (a = c
              ? c.replace("https://github.com/", "").replace(".git", "")
              : ""),
          ),
        24576 & s.$$.dirty && i && H.length > 0)
      ) {
        const ee = H.find(
          (Q) =>
            Q.name === i ||
            Q.name === `origin/${i}` ||
            i === `origin/${Q.name}`,
        )
        ee && n(2, (S = ee))
      }
      16388 & s.$$.dirty &&
        n(
          6,
          (l =
            ((be = (S == null ? void 0 : S.name) || i || "") == null
              ? void 0
              : be.replace(/^origin\//, "")) || ""),
        )
    }),
    [
      p,
      g,
      S,
      c,
      o,
      O,
      l,
      a,
      r,
      t,
      h,
      k,
      z,
      H,
      i,
      u,
      function () {
        n(1, (g = window.innerHeight))
      },
      () => z(r),
    ]
  )
}
class K5 extends ne {
  constructor(e) {
    super(), oe(this, e, X5, Y5, te, { isRemote: 0 })
  }
}
function Z5(s) {
  let e, n
  return (
    (e = new U6({ props: { chatModel: s[22] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function J5(s) {
  let e,
    n,
    t =
      !s[22].flags.isRemoteAgentWindow &&
      (function (o) {
        let r, i
        return (
          (r = new Em({})),
          {
            c() {
              w(r.$$.fragment)
            },
            m(c, a) {
              y(r, c, a), (i = !0)
            },
            i(c) {
              i || (d(r.$$.fragment, c), (i = !0))
            },
            o(c) {
              m(r.$$.fragment, c), (i = !1)
            },
            d(c) {
              b(r, c)
            },
          }
        )
      })()
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p: N,
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function Ll(s) {
  let e, n
  return (
    (e = new K5({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Q5(s) {
  let e, n, t, o, r
  const i = [J5, Z5],
    c = []
  function a(u, p) {
    return u[3].isActive && u[18].fullFeatured
      ? 0
      : u[18].fullFeatured && !u[2].doHideThreadSelector
        ? 1
        : -1
  }
  ~(n = a(s)) && (t = c[n] = i[n](s))
  let l = s[6] && s[3].isActive && Ll()
  return {
    c() {
      ;(e = F("div")),
        t && t.c(),
        (o = j()),
        l && l.c(),
        A(e, "class", "l-chat-top-bars svelte-ei4b37")
    },
    m(u, p) {
      M(u, e, p), ~n && c[n].m(e, null), B(e, o), l && l.m(e, null), (r = !0)
    },
    p(u, p) {
      let g = n
      ;(n = a(u)),
        n === g
          ? ~n && c[n].p(u, p)
          : (t &&
              (Y(),
              m(c[g], 1, 1, () => {
                c[g] = null
              }),
              X()),
            ~n
              ? ((t = c[n]),
                t ? t.p(u, p) : ((t = c[n] = i[n](u)), t.c()),
                d(t, 1),
                t.m(e, o))
              : (t = null)),
        u[6] && u[3].isActive
          ? l
            ? 72 & p[0] && d(l, 1)
            : ((l = Ll()), l.c(), d(l, 1), l.m(e, null))
          : l &&
            (Y(),
            m(l, 1, 1, () => {
              l = null
            }),
            X())
    },
    i(u) {
      r || (d(t), d(l), (r = !0))
    },
    o(u) {
      m(t), m(l), (r = !1)
    },
    d(u) {
      u && x(e), ~n && c[n].d(), l && l.d()
    },
  }
}
function eb(s) {
  let e, n
  return (
    (e = new Gw({
      props: {
        chatModel: s[22],
        onboardingWorkspaceModel: s[27],
        remoteAgentsModel: s[25],
        slot: "message-area",
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Rl(s) {
  let e, n, t, o, r
  e = new f5({ props: { contextModel: s[20] } })
  let i = s[18].enableAgentMode && Pl(s),
    c = s[13] && Fl(s)
  return {
    c() {
      w(e.$$.fragment), (n = j()), i && i.c(), (t = j()), c && c.c(), (o = he())
    },
    m(a, l) {
      y(e, a, l),
        M(a, n, l),
        i && i.m(a, l),
        M(a, t, l),
        c && c.m(a, l),
        M(a, o, l),
        (r = !0)
    },
    p(a, l) {
      a[18].enableAgentMode
        ? i
          ? (i.p(a, l), 262144 & l[0] && d(i, 1))
          : ((i = Pl(a)), i.c(), d(i, 1), i.m(t.parentNode, t))
        : i &&
          (Y(),
          m(i, 1, 1, () => {
            i = null
          }),
          X()),
        a[13]
          ? c
            ? (c.p(a, l), 8192 & l[0] && d(c, 1))
            : ((c = Fl(a)), c.c(), d(c, 1), c.m(o.parentNode, o))
          : c &&
            (Y(),
            m(c, 1, 1, () => {
              c = null
            }),
            X())
    },
    i(a) {
      r || (d(e.$$.fragment, a), d(i), d(c), (r = !0))
    },
    o(a) {
      m(e.$$.fragment, a), m(i), m(c), (r = !1)
    },
    d(a) {
      a && (x(n), x(t), x(o)), b(e, a), i && i.d(a), c && c.d(a)
    },
  }
}
function Pl(s) {
  let e,
    n,
    t,
    o,
    r,
    i = s[12] && Nl()
  const c = [nb, tb],
    a = []
  function l(u, p) {
    return u[17] ? 0 : 1
  }
  return (
    (n = l(s)),
    (t = a[n] = c[n](s)),
    {
      c() {
        i && i.c(), (e = j()), t.c(), (o = he())
      },
      m(u, p) {
        i && i.m(u, p), M(u, e, p), a[n].m(u, p), M(u, o, p), (r = !0)
      },
      p(u, p) {
        u[12]
          ? i
            ? 4096 & p[0] && d(i, 1)
            : ((i = Nl()), i.c(), d(i, 1), i.m(e.parentNode, e))
          : i &&
            (Y(),
            m(i, 1, 1, () => {
              i = null
            }),
            X())
        let g = n
        ;(n = l(u)),
          n !== g &&
            (Y(),
            m(a[g], 1, 1, () => {
              a[g] = null
            }),
            X(),
            (t = a[n]),
            t || ((t = a[n] = c[n](u)), t.c()),
            d(t, 1),
            t.m(o.parentNode, o))
      },
      i(u) {
        r || (d(i), d(t), (r = !0))
      },
      o(u) {
        m(i), m(t), (r = !1)
      },
      d(u) {
        u && (x(e), x(o)), i && i.d(u), a[n].d(u)
      },
    }
  )
}
function Nl(s) {
  let e, n
  return (
    (e = new Op({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function tb(s) {
  let e, n
  return (
    (e = new P$({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function nb(s) {
  let e, n
  return (
    (e = new C5({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Fl(s) {
  let e, n
  return (
    (e = new fp({ props: { card: s[5].currentCard, flagsModel: s[18] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        32 & o[0] && (r.card = t[5].currentCard),
          262144 & o[0] && (r.flagsModel = t[18]),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ob(s) {
  let e,
    n,
    t = s[16] && Rl(s)
  return {
    c() {
      ;(e = F("div")),
        t && t.c(),
        A(e, "slot", "actions-area"),
        A(e, "class", "l-chat-actions-area svelte-ei4b37")
    },
    m(o, r) {
      M(o, e, r), t && t.m(e, null), (n = !0)
    },
    p(o, r) {
      o[16]
        ? t
          ? (t.p(o, r), 65536 & r[0] && d(t, 1))
          : ((t = Rl(o)), t.c(), d(t, 1), t.m(e, null))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d()
    },
  }
}
function rb(s) {
  let e, n, t, o, r, i
  function c(l) {
    s[38](l)
  }
  let a = {}
  return (
    s[7] !== void 0 && (a.inputArea = s[7]),
    (e = new Xw({ props: a })),
    bt.push(() => Qt(e, "inputArea", c)),
    (r = new J4({
      props: {
        editable: !s[17],
        placeholder: s[14],
        $$slots: { banner: [ab] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment),
          (t = j()),
          (o = F("div")),
          w(r.$$.fragment),
          A(o, "class", "l-input-area-design-system svelte-ei4b37"),
          je(o, "l-input-area-design-system--tall", s[9]),
          je(o, "l-input-area-design-system--shrunk", s[8])
      },
      m(l, u) {
        y(e, l, u), M(l, t, u), M(l, o, u), y(r, o, null), s[41](o), (i = !0)
      },
      p(l, u) {
        const p = {}
        !n &&
          128 & u[0] &&
          ((n = !0), (p.inputArea = l[7]), tn(() => (n = !1))),
          e.$set(p)
        const g = {}
        131072 & u[0] && (g.editable = !l[17]),
          16384 & u[0] && (g.placeholder = l[14]),
          (1026 & u[0]) | (4194304 & u[1]) &&
            (g.$$scope = { dirty: u, ctx: l }),
          r.$set(g),
          (!i || 512 & u[0]) && je(o, "l-input-area-design-system--tall", l[9]),
          (!i || 256 & u[0]) &&
            je(o, "l-input-area-design-system--shrunk", l[8])
      },
      i(l) {
        i || (d(e.$$.fragment, l), d(r.$$.fragment, l), (i = !0))
      },
      o(l) {
        m(e.$$.fragment, l), m(r.$$.fragment, l), (i = !1)
      },
      d(l) {
        l && (x(t), x(o)), b(e, l), b(r), s[41](null)
      },
    }
  )
}
function sb(s) {
  let e, n
  return (
    (e = new Ou({
      props: {
        borders: ["top"],
        style: "padding-top: 0;",
        overflowVisible: !0,
        $$slots: { default: [cb] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4194304 & o[1] && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ib(s) {
  let e, n
  return (
    (e = new Ou({
      props: {
        borders: ["top"],
        style: "padding-top: 0;",
        overflowVisible: !0,
        $$slots: { default: [lb] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4194304 & o[1] && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Dl(s) {
  let e, n
  return (
    (e = new N5({ props: { onNewThreadClick: s[39], onDismiss: s[40] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o[0] && (r.onDismiss = t[40]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ab(s) {
  let e,
    n,
    t = s[10] && Dl(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, r) {
      o[10]
        ? t
          ? (t.p(o, r), 1024 & r[0] && d(t, 1))
          : ((t = Dl(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function cb(s) {
  let e, n
  return (
    (e = new h5({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function lb(s) {
  let e, n
  return (
    (e = new uw({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ub(s) {
  let e, n, t, o
  const r = [ib, sb, rb],
    i = []
  function c(a, l) {
    return a[15] === qo.autofixCommand ? 0 : a[15] === qo.autofixPrompt ? 1 : 2
  }
  return (
    (e = c(s)),
    (n = i[e] = r[e](s)),
    {
      c() {
        n.c(), (t = he())
      },
      m(a, l) {
        i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, l) {
        let u = e
        ;(e = c(a)),
          e === u
            ? i[e].p(a, l)
            : (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X(),
              (n = i[e]),
              n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
              d(n, 1),
              n.m(t.parentNode, t))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), i[e].d(a)
      },
    }
  )
}
function db(s) {
  let e, n, t, o
  return (
    (e = new sw({
      props: {
        $$slots: {
          "input-area": [ub],
          "actions-area": [ob],
          "message-area": [eb],
          "floating-area": [Q5],
        },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i),
          (n = !0),
          t ||
            ((o = [
              Oe(window, "message", s[19].onMessageFromExtension),
              Oe(window, "beforeunload", s[36]),
              Oe(window, "keydown", s[37]),
            ]),
            (t = !0))
      },
      p(r, i) {
        const c = {}
        ;(522222 & i[0]) | (4194304 & i[1]) &&
          (c.$$scope = { dirty: i, ctx: r }),
          e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r), (t = !1), Yt(o)
      },
    }
  )
}
function fb(s, e, n) {
  let t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p,
    g,
    h,
    k,
    I,
    C,
    S,
    H,
    O,
    z,
    $e,
    pe,
    re = N,
    le = N,
    ue = () => (le(), (le = mt(U, (Ce) => n(35, (z = Ce)))), U)
  s.$$.on_destroy.push(() => re()), s.$$.on_destroy.push(() => le())
  let { initialConversation: Ee } = e,
    { initialFlags: be } = e
  const ee = new qr(dn)
  let Q = new h1()
  ee.registerConsumer(Q)
  let ye,
    ge = new yf()
  Ge(s, ge, (Ce) => n(5, (C = Ce))), ee.registerConsumer(ge)
  let ae = new g1(ee, dn, Q, {
    initialConversation: Ee,
    initialFlags: be,
    onLoaded: () => {
      if (ae.flags.enableAgentMode) {
        const Ce = C.actions.some((Ae) => Ae === Tt.workspaceNotPopulated),
          ie =
            Object.keys(ae.conversations).length <= 1 &&
            xn.isEmpty(ae.currentConversationModel)
        Ce && ie && ye.setToAgentic()
      } else ye.setToChat()
    },
  })
  Ge(s, ae, (Ce) => n(4, (I = Ce)))
  let se = new Is(ae.currentConversationModel, ae.extensionClient, ae)
  const xe = new F5(ae.flags, ae.currentConversationModel, ae.extensionClient)
  ee.registerConsumer(xe), ee.registerConsumer(ae)
  const tt = new iw(ae.currentConversationModel, ae.extensionClient)
  Ge(s, tt, (Ce) => n(33, (H = Ce))),
    ee.registerConsumer(tt),
    (ye = new Lp(ae, se, xe))
  const { showAutoModeWarning: Ie } = ye
  Ge(s, Ie, (Ce) => n(17, ($e = Ce)))
  const Be = new _o(ee, !1, ae.flags)
  Ge(s, Be, (Ce) => n(3, (h = Ce)))
  const rt = new mo(ee),
    He = new Yi(ee)
  ee.registerConsumer(Be),
    ee.registerConsumer(He),
    bn(_o.key, Be),
    bn(mo.key, rt),
    bn(Yi.key, He)
  const Rt = Ct(-1)
  bn(v1, Rt)
  const P = {
      agentOverviews: [],
      selectedAgentId: void 0,
      activeWebviews: ["chat"],
    },
    _ = new tm(ee, P, C1, M1)
  Ge(s, _, (Ce) => n(34, (O = Ce))), ee.registerConsumer(_), bn(yu, _)
  const L = Xe(Vo)
  let U
  L ? ue((U = L)) : (ue((U = Ct(Gr))), bn(Vo, U))
  const G = new Xo(ae, ye, Be)
  ee.registerConsumer(G), bn(Xo.key, G)
  const ce = new zv(ae, ye)
  ee.registerConsumer(ce)
  const me = new bf(ae, ae.flags)
  ee.registerConsumer(me),
    w1(ae),
    bn("autofixConversationModel", tt),
    bn("agentConversationModel", ye),
    bn("toolsWebviewModel", se),
    bn("checkpointStore", xe),
    bn("slashCommandModel", ce)
  const Re = I.flags
  Ge(s, Re, (Ce) => n(18, (pe = Ce)))
  const { isCurrConversationAgentic: We } = ye
  Ge(s, We, (Ce) => n(6, (S = Ce)))
  let qe,
    De = !1
  return (
    ee.registerConsumer(
      new (class {
        constructor(Ce) {
          this._agentConversationModel = Ce
        }
        handleMessageFromExtension(Ce) {
          return (
            Ce.data.type === st.resetAgentOnboarding &&
            (this._agentConversationModel.resetOnboarding(), !0)
          )
        }
      })(ye),
    ),
    Gn(() => {
      ae.flags.isRemoteAgentWindow &&
        ae.flags.remoteAgentId &&
        (G.setToRemoteAgent(ae.flags.remoteAgentId),
        Be.setCurrentAgent(ae.flags.remoteAgentId),
        Be.setIsActive(!0))
      const Ce = [se.dispose, Be.dispose]
      return () => {
        Ce.forEach((ie) => ie())
      }
    }),
    (s.$$set = (Ce) => {
      "initialConversation" in Ce && n(30, (Ee = Ce.initialConversation)),
        "initialFlags" in Ce && n(31, (be = Ce.initialFlags))
    }),
    (s.$$.update = () => {
      if (
        (16 & s.$$.dirty[1] && n(2, (t = z)),
        8 & s.$$.dirty[0] &&
          h &&
          _.update((Ce) => {
            if (!Ce) return P
            const ie = new Set(Ce.activeWebviews)
            return (
              h.isActive ? ie.add("chat") : ie.delete("chat"),
              {
                ...Ce,
                activeWebviews: Array.from(ie),
                agentOverviews: h.agentOverviews,
                selectedAgentId: h.currentAgentId,
              }
            )
          }),
        (9 & s.$$.dirty[0]) | (8 & s.$$.dirty[1]) && O)
      ) {
        const { selectedAgentId: Ce } = O.state || {}
        Ce !== h.currentAgentId &&
          (ae.extensionClient.showAugmentPanel(),
          Be.setIsActive(!0),
          G.setToRemoteAgent(Ce),
          Be.setCurrentAgent(Ce),
          Wo(U, Be))
      }
      ;(4 & s.$$.dirty[0]) | (4 & s.$$.dirty[1]) &&
        n(16, (o = !H.isAutofixConversation() && !t.doHideStatusBars)),
        4 & s.$$.dirty[1] &&
          n(
            15,
            (r = H.isAutofixConversation()
              ? H.shouldShowAutofixCommandInput()
                ? qo.autofixCommand
                : qo.autofixPrompt
              : qo.normal),
          ),
        72 & s.$$.dirty[0] &&
          n(
            14,
            (i = h.isActive
              ? h.currentAgentId
                ? "Make these changes..."
                : "Fix this bug, tackle this ticket, review comments in my PR..."
              : S
                ? "Ask or instruct Augment Agent"
                : "Ask or instruct Augment"),
          ),
        32 & s.$$.dirty[0] && n(13, (c = C.actions.length > 0)),
        32 & s.$$.dirty[0] &&
          n(12, (a = C.actions.includes(Tt.allActionsComplete))),
        16 & s.$$.dirty[0] &&
          (n(11, (l = I.currentConversationModel.totalCharactersStore)),
          re(),
          (re = mt(l, (Ce) => n(32, (k = Ce))))),
        (2 & s.$$.dirty[0]) | (2 & s.$$.dirty[1]) &&
          n(10, (u = !De && k > 6e5)),
        8 & s.$$.dirty[0] && n(9, (p = h.isActive)),
        8 & s.$$.dirty[0] && n(8, (g = h.isActive && h.currentAgentId))
    }),
    [
      U,
      De,
      t,
      h,
      I,
      C,
      S,
      qe,
      g,
      p,
      u,
      l,
      a,
      c,
      i,
      r,
      o,
      $e,
      pe,
      ee,
      Q,
      ge,
      ae,
      tt,
      Ie,
      Be,
      _,
      me,
      Re,
      We,
      Ee,
      be,
      k,
      H,
      O,
      z,
      () => {
        I.saveImmediate()
      },
      (Ce) =>
        (function (ie, Ae, we) {
          var lt, yt
          ;(!ie.ctrlKey && !ie.metaKey) ||
            ie.key !== "l" ||
            ie.shiftKey ||
            (we.isActive
              ? we.setCurrentAgent(void 0)
              : (Ae.setCurrentConversation(),
                Ae.extensionClient.reportWebviewClientEvent(
                  lo.chatNewConversation,
                )),
            ie.preventDefault()),
            Ae.flags.enableDebugFeatures &&
              !we.isActive &&
              ((ie.ctrlKey || ie.metaKey) &&
                ie.shiftKey &&
                ie.key === "l" &&
                (Ae.popCurrentConversation(), ie.preventDefault()),
              ie.altKey &&
                ie.code === "BracketRight" &&
                (Ae.setCurrentConversation(
                  (lt = Ae.nextConversation) == null ? void 0 : lt.id,
                  !1,
                ),
                ie.preventDefault()),
              ie.altKey &&
                ie.code === "BracketLeft" &&
                (Ae.setCurrentConversation(
                  (yt = Ae.previousConversation) == null ? void 0 : yt.id,
                  !1,
                ),
                ie.preventDefault()),
              (ie.ctrlKey || ie.metaKey) &&
                ie.key === "]" &&
                (Ae.currentConversationModel.focusModel.focusNext(),
                ie.preventDefault()),
              (ie.ctrlKey || ie.metaKey) &&
                ie.key === "[" &&
                (Ae.currentConversationModel.focusModel.focusPrev(),
                ie.preventDefault()),
              ie.key === "Escape" &&
                (Ae.currentConversationModel.focusModel.setFocusIdx(void 0),
                ie.preventDefault()))
        })(Ce, ae, Be),
      function (Ce) {
        ;(qe = Ce), n(7, qe)
      },
      () => ae.setCurrentConversation(),
      () => n(1, (De = !0)),
      function (Ce) {
        bt[Ce ? "unshift" : "push"](() => {
          ;(qe = Ce), n(7, qe)
        })
      },
    ]
  )
}
class mb extends ne {
  constructor(e) {
    super(),
      oe(
        this,
        e,
        fb,
        db,
        te,
        { initialConversation: 30, initialFlags: 31 },
        null,
        [-1, -1],
      )
  }
}
function Ol(s) {
  let e, n, t, o, r, i, c, a
  ;(n = new Ve({
    props: { size: 1, $$slots: { default: [pb] }, $$scope: { ctx: s } },
  })),
    (o = new Ve({
      props: { size: 1, $$slots: { default: [$b] }, $$scope: { ctx: s } },
    })),
    (i = new Ve({
      props: { size: 1, $$slots: { default: [hb] }, $$scope: { ctx: s } },
    }))
  let l = s[0] !== "intellij" && Bl(s)
  return {
    c() {
      ;(e = F("div")),
        w(n.$$.fragment),
        (t = j()),
        w(o.$$.fragment),
        (r = j()),
        w(i.$$.fragment),
        (c = j()),
        l && l.c(),
        A(e, "class", "c-augment-features svelte-1jb2nyh")
    },
    m(u, p) {
      M(u, e, p),
        y(n, e, null),
        B(e, t),
        y(o, e, null),
        B(e, r),
        y(i, e, null),
        B(e, c),
        l && l.m(e, null),
        (a = !0)
    },
    p(u, p) {
      const g = {}
      2 & p && (g.$$scope = { dirty: p, ctx: u }), n.$set(g)
      const h = {}
      2 & p && (h.$$scope = { dirty: p, ctx: u }), o.$set(h)
      const k = {}
      3 & p && (k.$$scope = { dirty: p, ctx: u }),
        i.$set(k),
        u[0] !== "intellij"
          ? l
            ? 1 & p && d(l, 1)
            : ((l = Bl(u)), l.c(), d(l, 1), l.m(e, null))
          : l &&
            (Y(),
            m(l, 1, 1, () => {
              l = null
            }),
            X())
    },
    i(u) {
      a ||
        (d(n.$$.fragment, u),
        d(o.$$.fragment, u),
        d(i.$$.fragment, u),
        d(l),
        (a = !0))
    },
    o(u) {
      m(n.$$.fragment, u),
        m(o.$$.fragment, u),
        m(i.$$.fragment, u),
        m(l),
        (a = !1)
    },
    d(u) {
      u && x(e), b(n), b(o), b(i), l && l.d()
    },
  }
}
function pb(s) {
  let e
  return {
    c() {
      e = K("Augment Features:")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function $b(s) {
  let e, n, t
  return {
    c() {
      ;(e = F("a")),
        (e.textContent = "Chat"),
        (n = K(` &
      `)),
        (t = F("a")),
        (t.textContent = "Agent,"),
        A(e, "href", "https://docs.augmentcode.com/using-augment/chat"),
        A(e, "class", "svelte-1jb2nyh"),
        A(t, "href", "https://docs.augmentcode.com/using-augment/agent"),
        A(t, "class", "svelte-1jb2nyh")
    },
    m(o, r) {
      M(o, e, r), M(o, n, r), M(o, t, r)
    },
    p: N,
    d(o) {
      o && (x(e), x(n), x(t))
    },
  }
}
function zl(s) {
  let e, n, t
  return {
    c() {
      ;(e = K(`,
        `)),
        (n = F("a")),
        (n.textContent = "Instructions"),
        (t = K(",")),
        A(n, "href", "https://docs.augmentcode.com/using-augment/instructions"),
        A(n, "class", "svelte-1jb2nyh")
    },
    m(o, r) {
      M(o, e, r), M(o, n, r), M(o, t, r)
    },
    d(o) {
      o && (x(e), x(n), x(t))
    },
  }
}
function hb(s) {
  let e,
    n,
    t = s[0] !== "intellij" && zl()
  return {
    c() {
      ;(e = F("a")),
        (e.textContent = "Code Completions"),
        t && t.c(),
        (n = he()),
        A(e, "href", "https://docs.augmentcode.com/using-augment/completions"),
        A(e, "class", "svelte-1jb2nyh")
    },
    m(o, r) {
      M(o, e, r), t && t.m(o, r), M(o, n, r)
    },
    p(o, r) {
      o[0] !== "intellij"
        ? t || ((t = zl()), t.c(), t.m(n.parentNode, n))
        : t && (t.d(1), (t = null))
    },
    d(o) {
      o && (x(e), x(n)), t && t.d(o)
    },
  }
}
function Bl(s) {
  let e, n
  return (
    (e = new Ve({
      props: { size: 1, $$slots: { default: [gb] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function gb(s) {
  let e
  return {
    c() {
      ;(e = F("a")),
        (e.textContent = "Next Edit"),
        A(e, "href", "https://docs.augmentcode.com/using-augment/next-edit"),
        A(e, "class", "svelte-1jb2nyh")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    d(n) {
      n && x(e)
    },
  }
}
function vb(s) {
  let e,
    n,
    t = s[0] !== void 0 && Ol(s)
  return {
    c() {
      t && t.c(), (e = he())
    },
    m(o, r) {
      t && t.m(o, r), M(o, e, r), (n = !0)
    },
    p(o, [r]) {
      o[0] !== void 0
        ? t
          ? (t.p(o, r), 1 & r && d(t, 1))
          : ((t = Ol(o)), t.c(), d(t, 1), t.m(e.parentNode, e))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d(o)
    },
  }
}
function wb(s, e, n) {
  let { client: t } = e
  return (
    (s.$$set = (o) => {
      "client" in o && n(0, (t = o.client))
    }),
    [t]
  )
}
class cd extends ne {
  constructor(e) {
    super(), oe(this, e, wb, vb, te, { client: 0 })
  }
}
function yb(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("ellipse")),
        A(n, "cx", "51"),
        A(n, "cy", "4.5"),
        A(n, "rx", "51"),
        A(n, "ry", "4.5"),
        A(n, "fill", "currentColor"),
        A(e, "width", "102"),
        A(e, "height", "9"),
        A(e, "viewBox", "0 0 102 9"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class bb extends ne {
  constructor(e) {
    super(), oe(this, e, null, yb, te, {})
  }
}
function jl(s) {
  let e, n, t
  return (
    (n = new bb({})),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          A(e, "class", "c-augment-logo-animated__shadow svelte-hwxi20")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function xb(s) {
  let e, n, t, o
  const r = s[8].default,
    i = Ze(r, s, s[7], null),
    c =
      i ||
      (function (l) {
        let u, p
        return (
          (u = new tf({})),
          {
            c() {
              w(u.$$.fragment)
            },
            m(g, h) {
              y(u, g, h), (p = !0)
            },
            i(g) {
              p || (d(u.$$.fragment, g), (p = !0))
            },
            o(g) {
              m(u.$$.fragment, g), (p = !1)
            },
            d(g) {
              b(u, g)
            },
          }
        )
      })()
  let a = s[0] && jl()
  return {
    c() {
      ;(e = F("div")),
        (n = F("div")),
        c && c.c(),
        (t = j()),
        a && a.c(),
        A(n, "class", "c-augment-logo-animated__icon svelte-hwxi20"),
        A(e, "class", "c-augment-logo-animated svelte-hwxi20"),
        A(e, "style", s[2]),
        je(e, "c-augment-logo-animated--animated", s[1])
    },
    m(l, u) {
      M(l, e, u),
        B(e, n),
        c && c.m(n, null),
        B(e, t),
        a && a.m(e, null),
        (o = !0)
    },
    p(l, [u]) {
      i &&
        i.p &&
        (!o || 128 & u) &&
        Je(i, r, l, l[7], o ? et(r, l[7], u, null) : Qe(l[7]), null),
        l[0]
          ? a
            ? 1 & u && d(a, 1)
            : ((a = jl()), a.c(), d(a, 1), a.m(e, null))
          : a &&
            (Y(),
            m(a, 1, 1, () => {
              a = null
            }),
            X()),
        (!o || 4 & u) && A(e, "style", l[2]),
        (!o || 2 & u) && je(e, "c-augment-logo-animated--animated", l[1])
    },
    i(l) {
      o || (d(c, l), d(a), (o = !0))
    },
    o(l) {
      m(c, l), m(a), (o = !1)
    },
    d(l) {
      l && x(e), c && c.d(l), a && a.d()
    },
  }
}
function _b(s, e, n) {
  let t,
    o,
    { $$slots: r = {}, $$scope: i } = e,
    { heightPx: c = 160 } = e,
    { floatHeight: a = 20 } = e,
    { animationDuration: l = 3 } = e,
    { showShadow: u = !0 } = e,
    { animated: p = !0 } = e
  return (
    (s.$$set = (g) => {
      "heightPx" in g && n(3, (c = g.heightPx)),
        "floatHeight" in g && n(4, (a = g.floatHeight)),
        "animationDuration" in g && n(5, (l = g.animationDuration)),
        "showShadow" in g && n(0, (u = g.showShadow)),
        "animated" in g && n(1, (p = g.animated)),
        "$$scope" in g && n(7, (i = g.$$scope))
    }),
    (s.$$.update = () => {
      8 & s.$$.dirty && n(6, (t = Math.round(0.875 * c))),
        120 & s.$$.dirty &&
          n(
            2,
            (o = `
    --augment-logo-height: ${c}px;
    --augment-logo-icon-size: ${t}px;
    --augment-logo-float-height: ${a}px;
    --animation-duration: ${l}s;
  `),
          )
    }),
    [u, p, o, c, a, l, t, i, r]
  )
}
class ld extends ne {
  constructor(e) {
    super(),
      oe(this, e, _b, xb, te, {
        heightPx: 3,
        floatHeight: 4,
        animationDuration: 5,
        showShadow: 0,
        animated: 1,
      })
  }
}
const Cb = (s) => ({}),
  Hl = (s) => ({}),
  Mb = (s) => ({}),
  Ul = (s) => ({})
function Wl(s) {
  let e, n
  const t = s[2].logo,
    o = Ze(t, s, s[1], Ul)
  return {
    c() {
      ;(e = F("div")),
        o && o.c(),
        A(e, "class", "c-onboarding-layout__logo svelte-72kwkw")
    },
    m(r, i) {
      M(r, e, i), o && o.m(e, null), (n = !0)
    },
    p(r, i) {
      o &&
        o.p &&
        (!n || 2 & i) &&
        Je(o, t, r, r[1], n ? et(t, r[1], i, Mb) : Qe(r[1]), Ul)
    },
    i(r) {
      n || (d(o, r), (n = !0))
    },
    o(r) {
      m(o, r), (n = !1)
    },
    d(r) {
      r && x(e), o && o.d(r)
    },
  }
}
function ql(s) {
  let e, n
  const t = s[2].error,
    o = Ze(t, s, s[1], Hl)
  return {
    c() {
      ;(e = F("div")),
        o && o.c(),
        A(e, "class", "c-onboarding-layout__error svelte-72kwkw")
    },
    m(r, i) {
      M(r, e, i), o && o.m(e, null), (n = !0)
    },
    p(r, i) {
      o &&
        o.p &&
        (!n || 2 & i) &&
        Je(o, t, r, r[1], n ? et(t, r[1], i, Cb) : Qe(r[1]), Hl)
    },
    i(r) {
      n || (d(o, r), (n = !0))
    },
    o(r) {
      m(o, r), (n = !1)
    },
    d(r) {
      r && x(e), o && o.d(r)
    },
  }
}
function Ab(s) {
  let e,
    n,
    t,
    o,
    r,
    i = s[0].logo && Wl(s)
  const c = s[2].default,
    a = Ze(c, s, s[1], null)
  let l = s[0].error && ql(s)
  return {
    c() {
      ;(e = F("div")),
        i && i.c(),
        (n = j()),
        (t = F("div")),
        a && a.c(),
        (o = j()),
        l && l.c(),
        A(t, "class", "c-onboarding-layout__content svelte-72kwkw"),
        A(e, "class", "c-onboarding-layout svelte-72kwkw"),
        je(e, "c-onboarding-layout__has-logo", s[0].logo)
    },
    m(u, p) {
      M(u, e, p),
        i && i.m(e, null),
        B(e, n),
        B(e, t),
        a && a.m(t, null),
        B(e, o),
        l && l.m(e, null),
        (r = !0)
    },
    p(u, [p]) {
      u[0].logo
        ? i
          ? (i.p(u, p), 1 & p && d(i, 1))
          : ((i = Wl(u)), i.c(), d(i, 1), i.m(e, n))
        : i &&
          (Y(),
          m(i, 1, 1, () => {
            i = null
          }),
          X()),
        a &&
          a.p &&
          (!r || 2 & p) &&
          Je(a, c, u, u[1], r ? et(c, u[1], p, null) : Qe(u[1]), null),
        u[0].error
          ? l
            ? (l.p(u, p), 1 & p && d(l, 1))
            : ((l = ql(u)), l.c(), d(l, 1), l.m(e, null))
          : l &&
            (Y(),
            m(l, 1, 1, () => {
              l = null
            }),
            X()),
        (!r || 1 & p) && je(e, "c-onboarding-layout__has-logo", u[0].logo)
    },
    i(u) {
      r || (d(i), d(a, u), d(l), (r = !0))
    },
    o(u) {
      m(i), m(a, u), m(l), (r = !1)
    },
    d(u) {
      u && x(e), i && i.d(), a && a.d(u), l && l.d()
    },
  }
}
function kb(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e
  const r = nu(t)
  return (
    (s.$$set = (i) => {
      "$$scope" in i && n(1, (o = i.$$scope))
    }),
    [r, o, t]
  )
}
class Vs extends ne {
  constructor(e) {
    super(), oe(this, e, kb, Ab, te, {})
  }
}
function Eb(s) {
  let e
  return {
    c() {
      e = K(s[0])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      1 & t && ze(e, n[0])
    },
    d(n) {
      n && x(e)
    },
  }
}
function Ib(s) {
  let e
  return {
    c() {
      e = K(s[1])
    },
    m(n, t) {
      M(n, e, t)
    },
    p(n, t) {
      2 & t && ze(e, n[1])
    },
    d(n) {
      n && x(e)
    },
  }
}
function Sb(s) {
  let e, n, t, o, r
  return (
    (n = new Ve({
      props: {
        size: 2,
        weight: "bold",
        class: "c-sign-in__welcome",
        $$slots: { default: [Eb] },
        $$scope: { ctx: s },
      },
    })),
    (o = new Ve({
      props: { size: 1, $$slots: { default: [Ib] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          w(o.$$.fragment),
          A(e, "class", "c-sign-in__title svelte-yuxz62")
      },
      m(i, c) {
        M(i, e, c), y(n, e, null), B(e, t), y(o, e, null), (r = !0)
      },
      p(i, [c]) {
        const a = {}
        5 & c && (a.$$scope = { dirty: c, ctx: i }), n.$set(a)
        const l = {}
        6 & c && (l.$$scope = { dirty: c, ctx: i }), o.$set(l)
      },
      i(i) {
        r || (d(n.$$.fragment, i), d(o.$$.fragment, i), (r = !0))
      },
      o(i) {
        m(n.$$.fragment, i), m(o.$$.fragment, i), (r = !1)
      },
      d(i) {
        i && x(e), b(n), b(o)
      },
    }
  )
}
function Tb(s, e, n) {
  let { title: t } = e,
    { subtitle: o } = e
  return (
    (s.$$set = (r) => {
      "title" in r && n(0, (t = r.title)),
        "subtitle" in r && n(1, (o = r.subtitle))
    }),
    [t, o]
  )
}
class ud extends ne {
  constructor(e) {
    super(), oe(this, e, Tb, Sb, te, { title: 0, subtitle: 1 })
  }
}
function Lb(s) {
  let e, n, t, o, r, i
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("g")),
        (t = Ue("path")),
        (o = Ue("defs")),
        (r = Ue("clipPath")),
        (i = Ue("rect")),
        A(
          t,
          "d",
          "M16 7.99201C16 3.58042 12.416 0 8 0C3.584 0 0 3.58042 0 7.99201C0 10.4216 1.104 12.6114 2.832 14.0819C2.848 14.0979 2.864 14.0979 2.864 14.1139C3.008 14.2258 3.152 14.3377 3.312 14.4496C3.392 14.4975 3.456 14.5614 3.536 14.6254C4.816 15.4885 6.352 16 8.016 16C9.68 16 11.216 15.4885 12.496 14.6254C12.576 14.5774 12.64 14.5135 12.72 14.4655C12.864 14.3536 13.024 14.2418 13.168 14.1299C13.184 14.1139 13.2 14.1139 13.2 14.0979C14.896 12.6114 16 10.4216 16 7.99201ZM8 14.993C6.496 14.993 5.12 14.5135 3.984 13.7143C4 13.5864 4.032 13.4585 4.064 13.3307C4.16 12.979 4.304 12.6434 4.48 12.3397C4.656 12.036 4.864 11.7642 5.12 11.5245C5.36 11.2847 5.648 11.0609 5.936 10.8851C6.24 10.7093 6.56 10.5814 6.912 10.4855C7.264 10.3896 7.632 10.3417 8 10.3417C8.592 10.3417 9.136 10.4535 9.632 10.6613C10.128 10.8691 10.56 11.1568 10.928 11.5085C11.296 11.8761 11.584 12.3077 11.792 12.8032C11.904 13.0909 11.984 13.3946 12.032 13.7143C10.88 14.5135 9.504 14.993 8 14.993ZM5.552 7.59241C5.408 7.27273 5.344 6.92108 5.344 6.56943C5.344 6.21778 5.408 5.86613 5.552 5.54645C5.696 5.22677 5.888 4.93906 6.128 4.6993C6.368 4.45954 6.656 4.26773 6.976 4.12388C7.296 3.98002 7.648 3.91608 8 3.91608C8.368 3.91608 8.704 3.98002 9.024 4.12388C9.344 4.26773 9.632 4.45954 9.872 4.6993C10.112 4.93906 10.304 5.22677 10.448 5.54645C10.592 5.86613 10.656 6.21778 10.656 6.56943C10.656 6.93706 10.592 7.27273 10.448 7.59241C10.304 7.91209 10.112 8.1998 9.872 8.43956C9.632 8.67932 9.344 8.87113 9.024 9.01499C8.384 9.28671 7.6 9.28671 6.96 9.01499C6.64 8.87113 6.352 8.67932 6.112 8.43956C5.872 8.1998 5.68 7.91209 5.552 7.59241ZM12.976 12.8991C12.976 12.8671 12.96 12.8511 12.96 12.8192C12.8 12.3237 12.576 11.8442 12.272 11.4126C11.968 10.981 11.616 10.5974 11.184 10.2777C10.864 10.038 10.512 9.83017 10.144 9.67033C10.32 9.55844 10.48 9.41459 10.608 9.28671C10.848 9.04695 11.056 8.79121 11.232 8.5035C11.408 8.21579 11.536 7.91209 11.632 7.57642C11.728 7.24076 11.76 6.9051 11.76 6.56943C11.76 6.04196 11.664 5.54645 11.472 5.0989C11.28 4.65135 11.008 4.25175 10.656 3.9001C10.32 3.56444 9.904 3.29271 9.456 3.1009C9.008 2.90909 8.512 2.81319 7.984 2.81319C7.456 2.81319 6.96 2.90909 6.512 3.1009C6.064 3.29271 5.648 3.56444 5.312 3.91608C4.976 4.25175 4.704 4.66733 4.512 5.11489C4.32 5.56244 4.224 6.05794 4.224 6.58541C4.224 6.93706 4.272 7.27273 4.368 7.59241C4.464 7.92807 4.592 8.23177 4.768 8.51948C4.928 8.80719 5.152 9.06294 5.392 9.3027C5.536 9.44655 5.696 9.57443 5.872 9.68631C5.488 9.86214 5.136 10.0699 4.832 10.3097C4.416 10.6294 4.048 11.013 3.744 11.4286C3.44 11.8601 3.216 12.3237 3.056 12.8352C3.04 12.8671 3.04 12.8991 3.04 12.9151C1.776 11.6364 0.992 9.91009 0.992 7.99201C0.992 4.13986 4.144 0.991009 8 0.991009C11.856 0.991009 15.008 4.13986 15.008 7.99201C15.008 9.91009 14.224 11.6364 12.976 12.8991Z",
        ),
        A(t, "fill", "currentColor"),
        A(n, "clip-path", "url(#clip0_9570_7560)"),
        A(i, "width", "16"),
        A(i, "height", "16"),
        A(i, "fill", "currentColor"),
        A(r, "id", "clip0_9570_7560"),
        A(e, "width", "16"),
        A(e, "height", "16"),
        A(e, "viewBox", "0 0 16 16"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(c, a) {
      M(c, e, a), B(e, n), B(n, t), B(e, o), B(o, r), B(r, i)
    },
    p: N,
    i: N,
    o: N,
    d(c) {
      c && x(e)
    },
  }
}
class Rb extends ne {
  constructor(e) {
    super(), oe(this, e, null, Lb, te, {})
  }
}
function Pb(s) {
  let e
  return {
    c() {
      e = K("Sign In")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Nb(s) {
  let e, n
  return (
    (e = new Rb({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Fb(s) {
  let e, n, t, o, r, i, c
  return (
    (n = new ud({
      props: { title: "Welcome!", subtitle: "Please sign in below." },
    })),
    (o = new _t({
      props: {
        variant: "solid",
        color: "accent",
        "data-testid": "sign-in-button",
        $$slots: { iconLeft: [Nb], default: [Pb] },
        $$scope: { ctx: s },
      },
    })),
    o.$on("click", s[1]),
    (i = new cd({ props: { client: s[0] } })),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          w(o.$$.fragment),
          (r = j()),
          w(i.$$.fragment),
          A(e, "class", "c-sign-in svelte-77uw5c")
      },
      m(a, l) {
        M(a, e, l),
          y(n, e, null),
          B(e, t),
          y(o, e, null),
          B(e, r),
          y(i, e, null),
          (c = !0)
      },
      p(a, l) {
        const u = {}
        8 & l && (u.$$scope = { dirty: l, ctx: a }), o.$set(u)
        const p = {}
        1 & l && (p.client = a[0]), i.$set(p)
      },
      i(a) {
        c ||
          (d(n.$$.fragment, a),
          d(o.$$.fragment, a),
          d(i.$$.fragment, a),
          (c = !0))
      },
      o(a) {
        m(n.$$.fragment, a), m(o.$$.fragment, a), m(i.$$.fragment, a), (c = !1)
      },
      d(a) {
        a && x(e), b(n), b(o), b(i)
      },
    }
  )
}
function Db(s) {
  let e, n
  return (
    (e = new ld({ props: { slot: "logo" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Ob(s) {
  let e, n, t, o
  return (
    (e = new Vs({
      props: { $$slots: { logo: [Db], default: [Fb] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), (n = !0), t || ((o = Oe(window, "message", s[2])), (t = !0))
      },
      p(r, [i]) {
        const c = {}
        9 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r), (t = !1), o()
      },
    }
  )
}
function zb(s, e, n) {
  let t
  return (
    dn.postMessage({ type: st.signInLoaded }),
    [
      t,
      function () {
        dn.postMessage({ type: st.mainPanelPerformAction, data: "sign-in" })
      },
      (o) => {
        const r = o.data
        r.type === st.signInLoadedResponse && n(0, (t = r.data.client))
      },
    ]
  )
}
class Bb extends ne {
  constructor(e) {
    super(), oe(this, e, zb, Ob, te, {})
  }
}
function jb(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(
          n,
          "d",
          "M14.5 3H7.70996L6.85999 2.15002L6.51001 2H1.51001L1.01001 2.5V6.5V13.5L1.51001 14H14.51L15.01 13.5V9V3.5L14.5 3ZM13.99 11.49V13H1.98999V11.49V7.48999V7H6.47998L6.82996 6.84998L7.68994 5.98999H14V7.48999L13.99 11.49ZM13.99 5H7.48999L7.14001 5.15002L6.28003 6.01001H2V3.01001H6.29004L7.14001 3.85999L7.5 4.01001H14L13.99 5Z",
        ),
        A(n, "fill", "#C5C5C5"),
        A(e, "width", "16"),
        A(e, "height", "16"),
        A(e, "viewBox", "0 0 16 16"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class Hb extends ne {
  constructor(e) {
    super(), oe(this, e, null, jb, te, {})
  }
}
const Ub = (s) => ({}),
  Gl = (s) => ({ slot: "icon" }),
  Wb = (s) => ({}),
  Vl = (s) => ({ slot: "icon" })
function qb(s) {
  let e, n
  return (
    (e = new Mn({
      props: {
        variant: "soft",
        size: 1,
        color: s[0],
        $$slots: { icon: [Xb], default: [Yb] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        1 & o && (r.color = t[0]),
          74 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Gb(s) {
  let e, n, t, o
  return (
    (e = new Mn({
      props: {
        variant: "soft",
        size: 1,
        color: s[0],
        $$slots: { default: [Kb] },
        $$scope: { ctx: s },
      },
    })),
    (t = new Mn({
      props: {
        variant: "soft",
        size: 1,
        color: "info",
        $$slots: { icon: [Jb], default: [Zb] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment), (n = j()), w(t.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), M(r, n, i), y(t, r, i), (o = !0)
      },
      p(r, i) {
        const c = {}
        1 & i && (c.color = r[0]),
          66 & i && (c.$$scope = { dirty: i, ctx: r }),
          e.$set(c)
        const a = {}
        68 & i && (a.$$scope = { dirty: i, ctx: r }), t.$set(a)
      },
      i(r) {
        o || (d(e.$$.fragment, r), d(t.$$.fragment, r), (o = !0))
      },
      o(r) {
        m(e.$$.fragment, r), m(t.$$.fragment, r), (o = !1)
      },
      d(r) {
        r && x(n), b(e, r), b(t, r)
      },
    }
  )
}
function Yl(s) {
  let e, n
  return (
    (e = new Et({
      props: {
        variant: "ghost",
        color: "neutral",
        size: 1,
        $$slots: { default: [Vb] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[5]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        64 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Vb(s) {
  let e, n
  return (
    (e = new Jo({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Yb(s) {
  let e, n, t, o
  n = new Io({ props: { markdown: s[1] } })
  let r = !!s[3] && Yl(s)
  return {
    c() {
      ;(e = F("div")),
        w(n.$$.fragment),
        (t = j()),
        r && r.c(),
        A(e, "class", "c-callout-wrapper svelte-fh6sa8")
    },
    m(i, c) {
      M(i, e, c), y(n, e, null), B(e, t), r && r.m(e, null), (o = !0)
    },
    p(i, c) {
      const a = {}
      2 & c && (a.markdown = i[1]),
        n.$set(a),
        i[3]
          ? r
            ? (r.p(i, c), 8 & c && d(r, 1))
            : ((r = Yl(i)), r.c(), d(r, 1), r.m(e, null))
          : r &&
            (Y(),
            m(r, 1, 1, () => {
              r = null
            }),
            X())
    },
    i(i) {
      o || (d(n.$$.fragment, i), d(r), (o = !0))
    },
    o(i) {
      m(n.$$.fragment, i), m(r), (o = !1)
    },
    d(i) {
      i && x(e), b(n), r && r.d()
    },
  }
}
function Xb(s) {
  let e
  const n = s[4].icon,
    t = Ze(n, s, s[6], Gl)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 64 & r) &&
        Je(t, n, o, o[6], e ? et(n, o[6], r, Ub) : Qe(o[6]), Gl)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function Kb(s) {
  let e, n
  return (
    (e = new Io({ props: { markdown: s[1] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o && (r.markdown = t[1]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Zb(s) {
  let e, n
  return (
    (e = new Io({ props: { markdown: s[2] } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o && (r.markdown = t[2]), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Jb(s) {
  let e
  const n = s[4].icon,
    t = Ze(n, s, s[6], Vl)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 64 & r) &&
        Je(t, n, o, o[6], e ? et(n, o[6], r, Wb) : Qe(o[6]), Vl)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function Qb(s) {
  let e, n, t, o, r
  const i = [Gb, qb],
    c = []
  function a(p, g) {
    return p[2] ? 0 : 1
  }
  ;(n = a(s)), (t = c[n] = i[n](s))
  const l = s[4].default,
    u = Ze(l, s, s[6], null)
  return {
    c() {
      ;(e = F("div")),
        t.c(),
        (o = j()),
        u && u.c(),
        A(e, "class", "c-base-card svelte-fh6sa8")
    },
    m(p, g) {
      M(p, e, g), c[n].m(e, null), B(e, o), u && u.m(e, null), (r = !0)
    },
    p(p, [g]) {
      let h = n
      ;(n = a(p)),
        n === h
          ? c[n].p(p, g)
          : (Y(),
            m(c[h], 1, 1, () => {
              c[h] = null
            }),
            X(),
            (t = c[n]),
            t ? t.p(p, g) : ((t = c[n] = i[n](p)), t.c()),
            d(t, 1),
            t.m(e, o)),
        u &&
          u.p &&
          (!r || 64 & g) &&
          Je(u, l, p, p[6], r ? et(l, p[6], g, null) : Qe(p[6]), null)
    },
    i(p) {
      r || (d(t), d(u, p), (r = !0))
    },
    o(p) {
      m(t), m(u, p), (r = !1)
    },
    d(p) {
      p && x(e), c[n].d(), u && u.d(p)
    },
  }
}
function e8(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { color: r } = e,
    { description: i } = e,
    { callout: c } = e,
    { onClose: a } = e
  return (
    (s.$$set = (l) => {
      "color" in l && n(0, (r = l.color)),
        "description" in l && n(1, (i = l.description)),
        "callout" in l && n(2, (c = l.callout)),
        "onClose" in l && n(3, (a = l.onClose)),
        "$$scope" in l && n(6, (o = l.$$scope))
    }),
    [r, i, c, a, t, () => a(), o]
  )
}
class Ys extends ne {
  constructor(e) {
    super(),
      oe(this, e, e8, Qb, te, {
        color: 0,
        description: 1,
        callout: 2,
        onClose: 3,
      })
  }
}
function Xl(s, e, n) {
  const t = s.slice()
  return (t[9] = e[n].text), (t[10] = e[n].action), (t[11] = e[n].appearance), t
}
const t8 = (s) => ({}),
  Kl = (s) => ({ slot: "icon" })
function n8(s) {
  let e,
    n,
    t = s[9] + ""
  return {
    c() {
      ;(e = K(t)), (n = j())
    },
    m(o, r) {
      M(o, e, r), M(o, n, r)
    },
    p(o, r) {
      4 & r && t !== (t = o[9] + "") && ze(e, t)
    },
    d(o) {
      o && (x(e), x(n))
    },
  }
}
function Zl(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        size: 2,
        variant: "solid",
        color: s[11] ? s[11] : "accent",
        class: "c-btns-card__button",
        title: s[9],
        $$slots: { default: [n8] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", function () {
      return s[7](s[10])
    }),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        s = t
        const r = {}
        4 & o && (r.color = s[11] ? s[11] : "accent"),
          4 & o && (r.title = s[9]),
          260 & o && (r.$$scope = { dirty: o, ctx: s }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Jl(s) {
  let e, n
  return (
    (e = new Hu({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function o8(s) {
  let e,
    n,
    t,
    o,
    r = ht(s[2]),
    i = []
  for (let l = 0; l < r.length; l += 1) i[l] = Zl(Xl(s, r, l))
  const c = (l) =>
    m(i[l], 1, 1, () => {
      i[l] = null
    })
  let a = s[3] && Jl()
  return {
    c() {
      e = F("div")
      for (let l = 0; l < i.length; l += 1) i[l].c()
      ;(n = j()),
        a && a.c(),
        (t = he()),
        A(e, "class", "c-btns-card__buttons svelte-1701q2d")
    },
    m(l, u) {
      M(l, e, u)
      for (let p = 0; p < i.length; p += 1) i[p] && i[p].m(e, null)
      M(l, n, u), a && a.m(l, u), M(l, t, u), (o = !0)
    },
    p(l, u) {
      if (36 & u) {
        let p
        for (r = ht(l[2]), p = 0; p < r.length; p += 1) {
          const g = Xl(l, r, p)
          i[p]
            ? (i[p].p(g, u), d(i[p], 1))
            : ((i[p] = Zl(g)), i[p].c(), d(i[p], 1), i[p].m(e, null))
        }
        for (Y(), p = r.length; p < i.length; p += 1) c(p)
        X()
      }
      l[3]
        ? a
          ? 8 & u && d(a, 1)
          : ((a = Jl()), a.c(), d(a, 1), a.m(t.parentNode, t))
        : a &&
          (Y(),
          m(a, 1, 1, () => {
            a = null
          }),
          X())
    },
    i(l) {
      if (!o) {
        for (let u = 0; u < r.length; u += 1) d(i[u])
        d(a), (o = !0)
      }
    },
    o(l) {
      i = i.filter(Boolean)
      for (let u = 0; u < i.length; u += 1) m(i[u])
      m(a), (o = !1)
    },
    d(l) {
      l && (x(e), x(n), x(t)), fn(i, l), a && a.d(l)
    },
  }
}
function r8(s) {
  let e
  const n = s[6].icon,
    t = Ze(n, s, s[8], Kl)
  return {
    c() {
      t && t.c()
    },
    m(o, r) {
      t && t.m(o, r), (e = !0)
    },
    p(o, r) {
      t &&
        t.p &&
        (!e || 256 & r) &&
        Je(t, n, o, o[8], e ? et(n, o[8], r, t8) : Qe(o[8]), Kl)
    },
    i(o) {
      e || (d(t, o), (e = !0))
    },
    o(o) {
      m(t, o), (e = !1)
    },
    d(o) {
      t && t.d(o)
    },
  }
}
function s8(s) {
  let e, n
  return (
    (e = new Ys({
      props: {
        color: s[1],
        description: s[0],
        callout: s[4],
        $$slots: { icon: [r8], default: [o8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        2 & o && (r.color = t[1]),
          1 & o && (r.description = t[0]),
          16 & o && (r.callout = t[4]),
          268 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function i8(s, e, n) {
  let { $$slots: t = {}, $$scope: o } = e,
    { description: r } = e,
    { color: i } = e,
    { buttons: c = [] } = e,
    { inProgress: a = !1 } = e,
    { callout: l } = e
  function u(p) {
    dn.postMessage({ type: st.mainPanelPerformAction, data: p })
  }
  return (
    (s.$$set = (p) => {
      "description" in p && n(0, (r = p.description)),
        "color" in p && n(1, (i = p.color)),
        "buttons" in p && n(2, (c = p.buttons)),
        "inProgress" in p && n(3, (a = p.inProgress)),
        "callout" in p && n(4, (l = p.callout)),
        "$$scope" in p && n(8, (o = p.$$scope))
    }),
    [r, i, c, a, l, u, t, (p) => u(p), o]
  )
}
class nr extends ne {
  constructor(e) {
    super(),
      oe(this, e, i8, s8, te, {
        description: 0,
        color: 1,
        buttons: 2,
        inProgress: 3,
        callout: 4,
      })
  }
}
function a8(s) {
  return { c: N, m: N, p: N, i: N, o: N, d: N }
}
function c8(s) {
  let e, n
  return (
    (e = new Ys({
      props: {
        color: "warning",
        description:
          "Current workspace contains your home directory. Augment cannot upload your home directory to the cloud. Please open a different workspace",
        $$slots: { icon: [$8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function l8(s) {
  let e, n
  return (
    (e = new Ys({
      props: {
        color: "warning",
        description: `The workspace you have opened exceeds Augment's ${s[1].maxTrackableFileCount} file upload limit. Please use a .augmentignore or .gitignore to exclude files from being uploaded, or open a smaller workspace.`,
        $$slots: { icon: [h8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        2 & o &&
          (r.description = `The workspace you have opened exceeds Augment's ${t[1].maxTrackableFileCount} file upload limit. Please use a .augmentignore or .gitignore to exclude files from being uploaded, or open a smaller workspace.`),
          8 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function u8(s) {
  let e, n
  return (
    (e = new nr({
      props: {
        color: "neutral",
        description:
          "To provide the best quality responses, Augment will index your code in our secure cloud. Your data always stays secure and private. [Learn More](https://docs.augmentcode.com/setup-augment/workspace-indexing)",
        callout:
          s[2].userTier === "community"
            ? "You are subscribed to the Community plan, we may use any code you share to train our AI models."
            : void 0,
        buttons: [{ text: "Enable Indexing", action: "grant-sync-permission" }],
        $$slots: { icon: [g8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4 & o &&
          (r.callout =
            t[2].userTier === "community"
              ? "You are subscribed to the Community plan, we may use any code you share to train our AI models."
              : void 0),
          8 & o && (r.$$scope = { dirty: o, ctx: t }),
          e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function d8(s) {
  let e, n
  return (
    (e = new nr({
      props: {
        color: "warning",
        description:
          "Codeium suggestions will collide with Augment's suggestions. Turn off Codeium to fix this.",
        buttons: [{ text: "Disable Codeium", action: "disable-codeium" }],
        $$slots: { icon: [v8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function f8(s) {
  let e, n
  return (
    (e = new nr({
      props: {
        color: "warning",
        description:
          "GitHub Copilot suggestions will collide with Augment's suggestions. Turn off Copilot to fix this.",
        buttons: [
          { text: "Disable Github Copilot", action: "disable-github-copilot" },
        ],
        $$slots: { icon: [w8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function m8(s) {
  let e, n
  return (
    (e = new nr({
      props: {
        color: "neutral",
        description: "Please complete the sign-in process in your browser.",
        buttons: [
          { text: "Cancel", action: "cancel-sign-in", appearance: "neutral" },
        ],
        inProgress: !0,
        $$slots: { icon: [y8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function p8(s) {
  let e, n
  return (
    (e = new nr({
      props: {
        color: "neutral",
        description:
          "Welcome to Augment! Sign in to your existing account or create a new one to get started.",
        buttons: [{ text: "Start using Augment", action: "sign-in" }],
        $$slots: { icon: [b8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        8 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function $8(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function h8(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function g8(s) {
  let e, n
  return (
    (e = new $o({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function v8(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function w8(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function y8(s) {
  let e, n
  return (
    (e = new $o({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function b8(s) {
  let e, n
  return (
    (e = new $o({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function x8(s) {
  let e, n, t, o
  const r = [p8, m8, f8, d8, u8, l8, c8, a8],
    i = []
  function c(a, l) {
    return a[0] === Tt.signInRequired
      ? 0
      : a[0] === Us.signInInProgress
        ? 1
        : a[0] === Tt.disableCopilot
          ? 2
          : a[0] === Tt.disableCodeium
            ? 3
            : a[0] === Tt.syncingPermissionNeeded
              ? 4
              : a[0] === Tt.workspaceTooLarge
                ? 5
                : a[0] === Tt.uploadingHomeDir
                  ? 6
                  : a[0] === Tt.allActionsComplete
                    ? 7
                    : -1
  }
  return (
    ~(e = c(s)) && (n = i[e] = r[e](s)),
    {
      c() {
        n && n.c(), (t = he())
      },
      m(a, l) {
        ~e && i[e].m(a, l), M(a, t, l), (o = !0)
      },
      p(a, [l]) {
        let u = e
        ;(e = c(a)),
          e === u
            ? ~e && i[e].p(a, l)
            : (n &&
                (Y(),
                m(i[u], 1, 1, () => {
                  i[u] = null
                }),
                X()),
              ~e
                ? ((n = i[e]),
                  n ? n.p(a, l) : ((n = i[e] = r[e](a)), n.c()),
                  d(n, 1),
                  n.m(t.parentNode, t))
                : (n = null))
      },
      i(a) {
        o || (d(n), (o = !0))
      },
      o(a) {
        m(n), (o = !1)
      },
      d(a) {
        a && x(t), ~e && i[e].d(a)
      },
    }
  )
}
function _8(s, e, n) {
  let t,
    o = N,
    r = () => (o(), (o = mt(c, (a) => n(2, (t = a)))), c)
  s.$$.on_destroy.push(() => o())
  let { card: i } = e,
    { flagsModel: c } = e
  return (
    r(),
    (s.$$set = (a) => {
      "card" in a && n(0, (i = a.card)),
        "flagsModel" in a && r(n(1, (c = a.flagsModel)))
    }),
    [i, c, t]
  )
}
class C8 extends ne {
  constructor(e) {
    super(), oe(this, e, _8, x8, te, { card: 0, flagsModel: 1 })
  }
}
class M8 {
  constructor() {
    Z(this, "subscribers", new Set())
    Z(this, "_actions", [])
    Z(this, "_currentIndex", 0)
    Z(
      this,
      "subscribe",
      (e) => (
        this.subscribers.add(e),
        e(this),
        () => {
          this.subscribers.delete(e)
        }
      ),
    )
  }
  get currentCard() {
    return this.actions[this._currentIndex]
  }
  notifySubscribers() {
    this.subscribers.forEach((e) => e(this))
  }
  get actions() {
    return this._actions
  }
  handleMessageFromExtension(e) {
    const n = e.data
    return n.type === st.mainPanelActions && (this.onActionsUpdates(n.data), !0)
  }
  onActionsUpdates(e) {
    ;(this._actions = e), (this._currentIndex = 0), this.notifySubscribers()
  }
  nextAction() {
    ;(this._currentIndex = (this._currentIndex + 1) % this._actions.length),
      this.notifySubscribers()
  }
  prevAction() {
    ;(this._currentIndex =
      (this._currentIndex - 1 + this._actions.length) % this._actions.length),
      this.notifySubscribers()
  }
  isCollapsible(e) {
    return e === Tt.allActionsComplete
  }
}
function A8(s) {
  let e, n, t
  return (
    (e = new bu({})),
    {
      c() {
        w(e.$$.fragment),
          (n = K(`
        Back`))
      },
      m(o, r) {
        y(e, o, r), M(o, n, r), (t = !0)
      },
      i(o) {
        t || (d(e.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(e.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(n), b(e, o)
      },
    }
  )
}
function k8(s) {
  let e
  return {
    c() {
      e = K("Index Codebase")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function E8(s) {
  let e
  return {
    c() {
      e =
        K(`Indexing allows Augment to make tailored code suggestions and explain common practices or
        patterns.`)
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function I8(s) {
  let e
  return {
    c() {
      ;(e = F("a")),
        (e.textContent = "Learn More"),
        A(
          e,
          "href",
          "https://docs.augmentcode.com/setup-augment/workspace-indexing",
        ),
        A(e, "class", "svelte-f8zg6u")
    },
    m(n, t) {
      M(n, e, t)
    },
    p: N,
    d(n) {
      n && x(e)
    },
  }
}
function S8(s) {
  let e, n, t
  return (
    (n = new Ve({
      props: { size: 1, $$slots: { default: [I8] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        ;(e = K(`Your data always stays secure, private and anonymized.
        `)),
          w(n.$$.fragment)
      },
      m(o, r) {
        M(o, e, r), y(n, o, r), (t = !0)
      },
      p(o, r) {
        const i = {}
        4096 & r && (i.$$scope = { dirty: r, ctx: o }), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n, o)
      },
    }
  )
}
function T8(s) {
  let e,
    n = (s[2] ?? Ql) + ""
  return {
    c() {
      e = K(n)
    },
    m(t, o) {
      M(t, e, o)
    },
    p(t, o) {
      4 & o && n !== (n = (t[2] ?? Ql) + "") && ze(e, n)
    },
    d(t) {
      t && x(e)
    },
  }
}
function L8(s) {
  let e, n
  return (
    (e = new Hb({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function R8(s) {
  let e, n
  return (
    (e = new _t({
      props: {
        variant: "outline",
        color: "neutral",
        size: 2,
        $$slots: { iconLeft: [L8], default: [T8] },
        $$scope: { ctx: s },
      },
    })),
    e.$on("click", s[7]),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, o) {
        const r = {}
        4100 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function P8(s) {
  let e
  return {
    c() {
      e = K("Index Codebase")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function N8(s) {
  let e,
    n,
    t,
    o,
    r,
    i,
    c,
    a,
    l,
    u,
    p,
    g,
    h,
    k = su(),
    I =
      k &&
      (function (C) {
        let S, H, O
        return (
          (H = new _t({
            props: {
              variant: "ghost",
              color: "neutral",
              size: 1,
              $$slots: { default: [A8] },
              $$scope: { ctx: C },
            },
          })),
          H.$on("click", C[8]),
          {
            c() {
              ;(S = F("div")),
                w(H.$$.fragment),
                A(S, "class", "c-back-button-container svelte-f8zg6u")
            },
            m(z, $e) {
              M(z, S, $e), y(H, S, null), (O = !0)
            },
            p(z, $e) {
              const pe = {}
              4096 & $e && (pe.$$scope = { dirty: $e, ctx: z }), H.$set(pe)
            },
            i(z) {
              O || (d(H.$$.fragment, z), (O = !0))
            },
            o(z) {
              m(H.$$.fragment, z), (O = !1)
            },
            d(z) {
              z && x(S), b(H)
            },
          }
        )
      })(s)
  return (
    (t = new Ve({
      props: {
        size: 2,
        weight: "bold",
        class: "c-awaiting-syncing-permission__title",
        $$slots: { default: [k8] },
        $$scope: { ctx: s },
      },
    })),
    (i = new Ve({
      props: { size: 1, $$slots: { default: [E8] }, $$scope: { ctx: s } },
    })),
    (a = new Ve({
      props: { size: 1, $$slots: { default: [S8] }, $$scope: { ctx: s } },
    })),
    (u = new wt({
      props: {
        content: "Open a new project",
        $$slots: { default: [R8] },
        $$scope: { ctx: s },
      },
    })),
    (g = new _t({
      props: {
        variant: "solid",
        color: "accent",
        size: 2,
        disabled: !s[2] || s[3],
        loading: s[1],
        $$slots: { default: [P8] },
        $$scope: { ctx: s },
      },
    })),
    g.$on("click", s[6]),
    {
      c() {
        I && I.c(),
          (e = j()),
          (n = F("div")),
          w(t.$$.fragment),
          (o = j()),
          (r = F("div")),
          w(i.$$.fragment),
          (c = j()),
          w(a.$$.fragment),
          (l = j()),
          w(u.$$.fragment),
          (p = j()),
          w(g.$$.fragment),
          A(r, "class", "c-awaiting-syncing-permission__text svelte-f8zg6u"),
          A(n, "class", "c-awaiting-syncing-permission svelte-f8zg6u")
      },
      m(C, S) {
        I && I.m(C, S),
          M(C, e, S),
          M(C, n, S),
          y(t, n, null),
          B(n, o),
          B(n, r),
          y(i, r, null),
          B(r, c),
          y(a, r, null),
          B(n, l),
          y(u, n, null),
          B(n, p),
          y(g, n, null),
          (h = !0)
      },
      p(C, S) {
        k && I.p(C, S)
        const H = {}
        4096 & S && (H.$$scope = { dirty: S, ctx: C }), t.$set(H)
        const O = {}
        4096 & S && (O.$$scope = { dirty: S, ctx: C }), i.$set(O)
        const z = {}
        4096 & S && (z.$$scope = { dirty: S, ctx: C }), a.$set(z)
        const $e = {}
        4100 & S && ($e.$$scope = { dirty: S, ctx: C }), u.$set($e)
        const pe = {}
        12 & S && (pe.disabled = !C[2] || C[3]),
          2 & S && (pe.loading = C[1]),
          4096 & S && (pe.$$scope = { dirty: S, ctx: C }),
          g.$set(pe)
      },
      i(C) {
        h ||
          (d(I),
          d(t.$$.fragment, C),
          d(i.$$.fragment, C),
          d(a.$$.fragment, C),
          d(u.$$.fragment, C),
          d(g.$$.fragment, C),
          (h = !0))
      },
      o(C) {
        m(I),
          m(t.$$.fragment, C),
          m(i.$$.fragment, C),
          m(a.$$.fragment, C),
          m(u.$$.fragment, C),
          m(g.$$.fragment, C),
          (h = !1)
      },
      d(C) {
        C && (x(e), x(n)), I && I.d(C), b(t), b(i), b(a), b(u), b(g)
      },
    }
  )
}
function F8(s) {
  let e, n, t
  return (
    (n = new C8({ props: { card: s[0].currentCard, flagsModel: s[5] } })),
    {
      c() {
        ;(e = F("div")), w(n.$$.fragment), A(e, "slot", "error")
      },
      m(o, r) {
        M(o, e, r), y(n, e, null), (t = !0)
      },
      p(o, r) {
        const i = {}
        1 & r && (i.card = o[0].currentCard), n.$set(i)
      },
      i(o) {
        t || (d(n.$$.fragment, o), (t = !0))
      },
      o(o) {
        m(n.$$.fragment, o), (t = !1)
      },
      d(o) {
        o && x(e), b(n)
      },
    }
  )
}
function D8(s) {
  let e, n, t, o
  return (
    (e = new Vs({
      props: { $$slots: { error: [F8], default: [N8] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), (n = !0), t || ((o = Oe(window, "message", s[9])), (t = !0))
      },
      p(r, [i]) {
        const c = {}
        4111 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r), (t = !1), o()
      },
    }
  )
}
const Ql = "Open a folder"
function O8(s, e, n) {
  let t
  const o = new qr(dn)
  let r = new M8()
  Ge(s, r, (p) => n(0, (t = p))), o.registerConsumer(r)
  const i = new Mu(),
    c = new Au(dn, o, i)
  let a,
    l = !1,
    u = !1
  return (
    dn.postMessage({ type: st.awaitingSyncingPermissionLoaded }),
    (s.$$.update = () => {
      1 & s.$$.dirty &&
        n(
          3,
          (u =
            t.currentCard === Tt.workspaceTooLarge ||
            t.currentCard === Tt.uploadingHomeDir),
        )
    }),
    [
      t,
      l,
      a,
      u,
      r,
      i,
      function () {
        n(1, (l = !0)), c.grantSyncPermission()
      },
      function () {
        c.openProjectFolder()
      },
      function () {
        c.closeProjectFolder()
      },
      function (p) {
        const g = p.data
        switch (g.type) {
          case st.awaitingSyncingPermissionInitialize: {
            const {
              enableDebugFeatures: h,
              maxTrackableFileCount: k,
              userTier: I,
            } = g.data
            n(2, (a = g.data.workspaceName)),
              i.update({
                enableDebugFeatures: h,
                maxTrackableFileCount: k,
                userTier: I,
              })
            break
          }
          case st.mainPanelActions:
            r.onActionsUpdates(
              (function (h) {
                const k = new Set([
                  Tt.workspaceNotSelected,
                  Tt.workspaceTooLarge,
                  Tt.uploadingHomeDir,
                ])
                return h.filter((I) => k.has(I))
              })(g.data),
            )
        }
      },
    ]
  )
}
class z8 extends ne {
  constructor(e) {
    super(), oe(this, e, O8, D8, te, {})
  }
}
function B8(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(n, "fill-rule", "evenodd"),
        A(n, "clip-rule", "evenodd"),
        A(
          n,
          "d",
          "M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",
        ),
        A(n, "fill", "currentColor"),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "0 0 15 15"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class j8 extends ne {
  constructor(e) {
    super(), oe(this, e, null, B8, te, {})
  }
}
function H8(s) {
  let e, n
  return {
    c() {
      ;(e = Ue("svg")),
        (n = Ue("path")),
        A(n, "fill-rule", "evenodd"),
        A(n, "clip-rule", "evenodd"),
        A(
          n,
          "d",
          "M2 3.5C2 3.22386 2.22386 3 2.5 3H12.5C12.7761 3 13 3.22386 13 3.5V9.5C13 9.77614 12.7761 10 12.5 10H2.5C2.22386 10 2 9.77614 2 9.5V3.5ZM2 10.9146C1.4174 10.7087 1 10.1531 1 9.5V3.5C1 2.67157 1.67157 2 2.5 2H12.5C13.3284 2 14 2.67157 14 3.5V9.5C14 10.1531 13.5826 10.7087 13 10.9146V11.5C13 12.3284 12.3284 13 11.5 13H3.5C2.67157 13 2 12.3284 2 11.5V10.9146ZM12 11V11.5C12 11.7761 11.7761 12 11.5 12H3.5C3.22386 12 3 11.7761 3 11.5V11H12ZM5 6.5C5 6.22386 5.22386 6 5.5 6H7V4.5C7 4.22386 7.22386 4 7.5 4C7.77614 4 8 4.22386 8 4.5V6H9.5C9.77614 6 10 6.22386 10 6.5C10 6.77614 9.77614 7 9.5 7H8V8.5C8 8.77614 7.77614 9 7.5 9C7.22386 9 7 8.77614 7 8.5V7H5.5C5.22386 7 5 6.77614 5 6.5Z",
        ),
        A(n, "fill", "currentColor"),
        A(e, "width", "15"),
        A(e, "height", "15"),
        A(e, "viewBox", "0 0 15 15"),
        A(e, "fill", "none"),
        A(e, "xmlns", "http://www.w3.org/2000/svg")
    },
    m(t, o) {
      M(t, e, o), B(e, n)
    },
    p: N,
    i: N,
    o: N,
    d(t) {
      t && x(e)
    },
  }
}
class U8 extends ne {
  constructor(e) {
    super(), oe(this, e, null, H8, te, {})
  }
}
function W8(s) {
  let e
  return {
    c() {
      e = K("Create a new project")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function q8(s) {
  let e, n
  return (
    (e = new Eu({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function eu(s) {
  let e, n, t, o, r, i, c
  function a(p) {
    s[9](p)
  }
  function l(p) {
    s[10](p)
  }
  let u = { color: s[2] ? "error" : "neutral", placeholder: "Project Name" }
  return (
    s[1] !== void 0 && (u.value = s[1]),
    s[3] !== void 0 && (u.textInput = s[3]),
    (n = new Xr({ props: u })),
    bt.push(() => Qt(n, "value", a)),
    bt.push(() => Qt(n, "textInput", l)),
    n.$on("keydown", s[11]),
    (i = new Et({
      props: {
        disabled: s[4],
        $$slots: { default: [G8] },
        $$scope: { ctx: s },
      },
    })),
    i.$on("click", s[12]),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (r = j()),
          w(i.$$.fragment),
          A(e, "class", "c-folder-selection__project-name-input svelte-1hmau15")
      },
      m(p, g) {
        M(p, e, g), y(n, e, null), B(e, r), y(i, e, null), (c = !0)
      },
      p(p, g) {
        const h = {}
        4 & g && (h.color = p[2] ? "error" : "neutral"),
          !t && 2 & g && ((t = !0), (h.value = p[1]), tn(() => (t = !1))),
          !o && 8 & g && ((o = !0), (h.textInput = p[3]), tn(() => (o = !1))),
          n.$set(h)
        const k = {}
        16 & g && (k.disabled = p[4]),
          16384 & g && (k.$$scope = { dirty: g, ctx: p }),
          i.$set(k)
      },
      i(p) {
        c || (d(n.$$.fragment, p), d(i.$$.fragment, p), (c = !0))
      },
      o(p) {
        m(n.$$.fragment, p), m(i.$$.fragment, p), (c = !1)
      },
      d(p) {
        p && x(e), b(n), b(i)
      },
    }
  )
}
function G8(s) {
  let e, n
  return (
    (e = new j8({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function V8(s) {
  let e
  return {
    c() {
      e = K("Open a local folder")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function Y8(s) {
  let e, n
  return (
    (e = new iu({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function X8(s) {
  let e
  return {
    c() {
      e = K("Clone a repository")
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function K8(s) {
  let e, n
  return (
    (e = new U8({ props: { slot: "iconLeft" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Z8(s) {
  let e, n, t, o, r, i, c, a, l, u, p, g, h
  ;(n = new ud({
    props: {
      title: "Welcome back!",
      subtitle: "Please open a project folder to begin.",
    },
  })),
    (r = new _t({
      props: {
        variant: "outline",
        color: "neutral",
        size: 2,
        alignment: "left",
        $$slots: { iconLeft: [q8], default: [W8] },
        $$scope: { ctx: s },
      },
    })),
    r.$on("click", s[8])
  let k = s[0] && eu(s)
  return (
    (a = new _t({
      props: {
        variant: "outline",
        color: "neutral",
        size: 2,
        alignment: "left",
        $$slots: { iconLeft: [Y8], default: [V8] },
        $$scope: { ctx: s },
      },
    })),
    a.$on("click", s[6]),
    (u = new _t({
      props: {
        variant: "outline",
        color: "neutral",
        size: 2,
        alignment: "left",
        $$slots: { iconLeft: [K8], default: [X8] },
        $$scope: { ctx: s },
      },
    })),
    u.$on("click", s[7]),
    (g = new cd({})),
    {
      c() {
        ;(e = F("div")),
          w(n.$$.fragment),
          (t = j()),
          (o = F("div")),
          w(r.$$.fragment),
          (i = j()),
          k && k.c(),
          (c = j()),
          w(a.$$.fragment),
          (l = j()),
          w(u.$$.fragment),
          (p = j()),
          w(g.$$.fragment),
          A(o, "class", "c-folder-selection__buttons svelte-1hmau15"),
          A(e, "class", "c-folder-selection svelte-1hmau15")
      },
      m(I, C) {
        M(I, e, C),
          y(n, e, null),
          B(e, t),
          B(e, o),
          y(r, o, null),
          B(o, i),
          k && k.m(o, null),
          B(o, c),
          y(a, o, null),
          B(o, l),
          y(u, o, null),
          B(e, p),
          y(g, e, null),
          (h = !0)
      },
      p(I, C) {
        const S = {}
        16384 & C && (S.$$scope = { dirty: C, ctx: I }),
          r.$set(S),
          I[0]
            ? k
              ? (k.p(I, C), 1 & C && d(k, 1))
              : ((k = eu(I)), k.c(), d(k, 1), k.m(o, c))
            : k &&
              (Y(),
              m(k, 1, 1, () => {
                k = null
              }),
              X())
        const H = {}
        16384 & C && (H.$$scope = { dirty: C, ctx: I }), a.$set(H)
        const O = {}
        16384 & C && (O.$$scope = { dirty: C, ctx: I }), u.$set(O)
      },
      i(I) {
        h ||
          (d(n.$$.fragment, I),
          d(r.$$.fragment, I),
          d(k),
          d(a.$$.fragment, I),
          d(u.$$.fragment, I),
          d(g.$$.fragment, I),
          (h = !0))
      },
      o(I) {
        m(n.$$.fragment, I),
          m(r.$$.fragment, I),
          m(k),
          m(a.$$.fragment, I),
          m(u.$$.fragment, I),
          m(g.$$.fragment, I),
          (h = !1)
      },
      d(I) {
        I && x(e), b(n), b(r), k && k.d(), b(a), b(u), b(g)
      },
    }
  )
}
function J8(s) {
  let e, n
  return (
    (e = new ld({ props: { slot: "logo" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function tu(s) {
  let e, n
  return (
    (e = new Mn({
      props: {
        variant: "soft",
        color: "error",
        size: 1,
        $$slots: { icon: [ex], default: [Q8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function Q8(s) {
  let e
  return {
    c() {
      e = K(
        "Must contain only letters, numbers, hyphens, underscores, and spaces",
      )
    },
    m(n, t) {
      M(n, e, t)
    },
    d(n) {
      n && x(e)
    },
  }
}
function ex(s) {
  let e, n
  return (
    (e = new mn({ props: { slot: "icon" } })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p: N,
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function tx(s) {
  let e,
    n,
    t = s[2] && tu(s)
  return {
    c() {
      ;(e = F("div")), t && t.c(), A(e, "slot", "error")
    },
    m(o, r) {
      M(o, e, r), t && t.m(e, null), (n = !0)
    },
    p(o, r) {
      o[2]
        ? t
          ? 4 & r && d(t, 1)
          : ((t = tu(o)), t.c(), d(t, 1), t.m(e, null))
        : t &&
          (Y(),
          m(t, 1, 1, () => {
            t = null
          }),
          X())
    },
    i(o) {
      n || (d(t), (n = !0))
    },
    o(o) {
      m(t), (n = !1)
    },
    d(o) {
      o && x(e), t && t.d()
    },
  }
}
function nx(s) {
  let e, n
  return (
    (e = new Vs({
      props: {
        $$slots: { error: [tx], logo: [J8], default: [Z8] },
        $$scope: { ctx: s },
      },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      p(t, [o]) {
        const r = {}
        16415 & o && (r.$$scope = { dirty: o, ctx: t }), e.$set(r)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ox(s, e, n) {
  const t = new Au(dn, new qr(dn), new Mu())
  function o(u) {
    t.createProject(u)
  }
  let r,
    i = !1,
    c = "",
    a = !0,
    l = !1
  return (
    (s.$$.update = () => {
      7 & s.$$.dirty &&
        (n(2, (l = !/^[a-zA-Z0-9\-_ ]+$/.test(c) && c.trim().length > 0)),
        n(4, (a = !i || !c.trim().length || l)))
    }),
    [
      i,
      c,
      l,
      r,
      a,
      o,
      function () {
        t.openProjectFolder()
      },
      function () {
        t.cloneRepository()
      },
      function () {
        i
          ? n(0, (i = !1))
          : (n(0, (i = !0)),
            setTimeout(() => {
              r == null || r.focus()
            }, 0))
      },
      function (u) {
        ;(c = u), n(1, c)
      },
      function (u) {
        ;(r = u), n(3, r)
      },
      (u) => {
        u.key !== "Enter" || a || (u.preventDefault(), o(c.trim()))
      },
      () => o(c.trim()),
    ]
  )
}
class rx extends ne {
  constructor(e) {
    super(), oe(this, e, ox, nx, te, {})
  }
}
function sx(s) {
  let e, n
  return (
    (e = new rx({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ix(s) {
  let e, n
  return (
    (e = new z8({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function ax(s) {
  let e, n
  return (
    (e = new mb({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function cx(s) {
  let e, n
  return (
    (e = new Bb({})),
    {
      c() {
        w(e.$$.fragment)
      },
      m(t, o) {
        y(e, t, o), (n = !0)
      },
      i(t) {
        n || (d(e.$$.fragment, t), (n = !0))
      },
      o(t) {
        m(e.$$.fragment, t), (n = !1)
      },
      d(t) {
        b(e, t)
      },
    }
  )
}
function lx(s) {
  let e, n, t, o
  const r = [cx, ax, ix, sx],
    i = []
  function c(a, l) {
    return a[0] === kr.signIn
      ? 0
      : a[0] === kr.chat
        ? 1
        : a[0] === kr.awaitingSyncingPermission
          ? 2
          : a[0] === kr.folderSelection
            ? 3
            : -1
  }
  return (
    ~(n = c(s)) && (t = i[n] = r[n](s)),
    {
      c() {
        ;(e = F("main")), t && t.c()
      },
      m(a, l) {
        M(a, e, l), ~n && i[n].m(e, null), (o = !0)
      },
      p(a, l) {
        let u = n
        ;(n = c(a)),
          n !== u &&
            (t &&
              (Y(),
              m(i[u], 1, 1, () => {
                i[u] = null
              }),
              X()),
            ~n
              ? ((t = i[n]),
                t || ((t = i[n] = r[n](a)), t.c()),
                d(t, 1),
                t.m(e, null))
              : (t = null))
      },
      i(a) {
        o || (d(t), (o = !0))
      },
      o(a) {
        m(t), (o = !1)
      },
      d(a) {
        a && x(e), ~n && i[n].d()
      },
    }
  )
}
function ux(s) {
  let e, n, t, o
  return (
    (e = new nf.Root({
      props: { $$slots: { default: [lx] }, $$scope: { ctx: s } },
    })),
    {
      c() {
        w(e.$$.fragment)
      },
      m(r, i) {
        y(e, r, i), (n = !0), t || ((o = Oe(window, "message", s[1])), (t = !0))
      },
      p(r, [i]) {
        const c = {}
        5 & i && (c.$$scope = { dirty: i, ctx: r }), e.$set(c)
      },
      i(r) {
        n || (d(e.$$.fragment, r), (n = !0))
      },
      o(r) {
        m(e.$$.fragment, r), (n = !1)
      },
      d(r) {
        b(e, r), (t = !1), o()
      },
    }
  )
}
function dx(s, e, n) {
  let t
  return (
    dn.postMessage({ type: st.mainPanelLoaded }),
    [
      t,
      (o) => {
        const r = o.data
        r.type === st.mainPanelDisplayApp && n(0, (t = r.data))
      },
    ]
  )
}
new (class extends ne {
  constructor(s) {
    super(), oe(this, s, dx, ux, te, {})
  }
})({ target: document.getElementById("app") })
export {
  G3 as A,
  Bu as B,
  od as C,
  j$ as D,
  mo as G,
  zr as I,
  ph as R,
  Vx as S,
  D3 as a,
  P2 as b,
  Dn as c,
  n3 as d,
  g$ as e,
  Yx as f,
}
